<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gr√£os de Paisagens ‚Äì Sophia (Resumo e Quest√µes)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        :root{
            --bg: #0b1220;
            --card: #0f1724;
            --muted: #94a3b8;
            --text: #e6eef8;
            --accent: #60a5fa;
            --success: #10b981;
            --danger: #ef4444;
            --border: rgba(255,255,255,0.06);
            --muted-2: rgba(230,238,248,0.8);
        }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); }
        /* cart√µes e superf√≠cies */
        .bg-white { background-color: var(--card) !important; color: var(--text) !important; }
    /* container usa classes utilit√°rias do Tailwind para largura/padding */
        /* textos e subt√≠tulos */
        .text-slate-600 { color: var(--muted) !important; }
        .text-sky-800 { color: var(--accent) !important; }
        h1, h2, h3, h4 { color: var(--text); }
        /* bot√µes e controles */
        .tab-button.active { background-color: #064e72 !important; color: white !important; }
        .question-btn { transition: background 0.25s, color 0.2s; color: var(--text); background: rgba(255,255,255,0.02); border: 1px solid var(--border); }
        .question-btn.correct { background-color: var(--success) !important; color: #052e1f !important; }
        .question-btn.wrong { background-color: var(--danger) !important; color: #3b0b0b !important; }
        /* op√ß√µes */
        .py-3.px-4.bg-slate-50 { background-color: rgba(255,255,255,0.02) !important; }
        .border-stone-200 { border-color: rgba(255,255,255,0.04) !important; }
        .bg-stone-100 { background: transparent !important; }
        .inline-block.px-6.py-2.bg-stone-400 { background-color: #334155 !important; }
        .no-print button { color: var(--text); }
        /* feedback */
        #feedback-container { border-radius: 8px; }

        .content-text { font-size: 1rem; line-height: 1.6; color: var(--muted-2); }

        /* Regras para impress√£o */
        @page { size: A4 portrait; margin: 20mm; }
        @media print {
            html, body { background: white !important; color: black !important; }
            .no-print { display: none !important; }
            .print-only { display: block !important; }
            .container { max-width: 100% !important; padding: 0 !important; }
            .print-header { position: fixed; top: 0; left: 0; right: 0; height: 36mm; padding: 6mm 20mm; background: white; border-bottom: 1px solid #ddd }
            .print-footer { position: fixed; bottom: 0; left: 0; right: 0; height: 18mm; padding: 4mm 20mm; background: white; border-top: 1px solid #ddd; text-align: right }
            .print-content { margin-top: 46mm; margin-bottom: 28mm }
            .page-break { page-break-after: always; break-after: page }
            * { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
        }
        .print-only { display: none; }
        /* temas: varia√ß√µes para claro/escur0 */
        .theme-light{
            --bg: #f8fafc;
            --card: #ffffff;
            --muted: #475569;
            --text: #0f1724;
            --accent: #0284c7;
            --success: #047857;
            --danger: #b91c1c;
            --border: rgba(15,23,42,0.06);
            --muted-2: rgba(15,23,36,0.85);
        }

        /* aprimoramentos visuais adicionais */
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(96,165,250,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card { background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: none; box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-primary:hover{ transform: translateY(-2px); }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); }
        .btn-warning{ background: linear-gradient(90deg,#f59e0b,#f97316); color:#1a1200; padding:.45rem .9rem; border-radius:10px; }
        /* bot√µes de op√ß√£o */
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); }
        .option-btn:hover{ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        /* bot√µes de numero das quest√µes */
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; }
        #question-buttons button:hover{ background: rgba(255,255,255,0.03); }
        /* feedback */
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto max-w-4xl p-4 sm:p-8">
        <header class="text-center mb-8">
            <div class="flex flex-col sm:flex-row gap-2 justify-center mt-4 page-header">
                <div class="flex items-center gap-2">
                    <a href="index.html" class="btn-ghost inline-block px-6 py-2 font-semibold rounded-lg shadow transition-colors">‚¨Ö Voltar para o In√≠cio</a>
                    <button id="theme-toggle" class="btn-ghost" aria-label="Alternar tema">üåô Escuro</button>
                </div>
            </div>
            <!-- bot√µes de impress√£o removidos por solicita√ß√£o -->
            <h1 class="text-3xl sm:text-4xl font-bold text-sky-800 mt-4">Gr√£os de Paisagens ‚Äî Resumo e Quest√µes</h1>
            <p class="text-slate-600 mt-2">Resumo do livro e quest√µes de compreens√£o, an√°lise e interpreta√ß√£o.</p>
        </header>
        <nav class="flex justify-center mb-8 bg-white p-2 rounded-lg shadow-sm">
            <button id="btn-learn" class="tab-button active flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Resumo</button>
            <button id="btn-practice" class="tab-button flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Quest√µes</button>
        </nav>
        <main>
            <section id="learn-section">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-xl font-semibold mb-3">Resumo</h2>
                    <p class="content-text">"Gr√£os de Paisagens" acompanha Joana, uma mulher que vive em Majorl√¢ndia, vila litor√¢nea do Cear√°. Depois que o filho parte para trabalhar em um navio, Joana sente uma profunda saudade que a leva a buscar formas de lembrar e preservar momentos. Ela passa a coletar areias coloridas das fal√©sias e a criar pequenas garrafinhas que reproduzem paisagens e mem√≥rias. Essas garrafinhas se tornam uma forma de express√£o artistica e de cura, transformando a dor da separacao em objetos cheios de significado.</p>
                    <h3 class="mt-4 font-semibold">Historia completa (visao sintetica)</h3>
                    <p class="content-text">No comeco, Joana e apresentada com seu cotidiano simples: trabalhos manuais, relacoes na vila e a ausencia do filho no mar. A saudade e o luto da ausencia despertam nela uma sensibilidade para as cores e texturas das falesias. A descoberta de que a areia, quando inserida de forma cuidada em pequenas garrafas, gera imagens que lembram lugares e pessoas, marca o inicio do seu oficio. Aos poucos, suas garrafinhas atraem a atencao de vizinhos e turistas, tornando-se um meio de renda e uma maneira de compartilhar memorias. Ao longo do livro, a narrativa alterna entre momentos de descricao poetica das paisagens e episodios mais cotidianos: vendas, conversas com moradores, recordacoes de familia e reflexoes sobre identidade regional. No desfecho, a arte de Joana e reconhecida como gesto de resistencia afetiva, e a obra enfatiza que a criacao pode ser resposta a perdas.</p>
                    <h3 class="mt-4 font-semibold">Temas e simbolos</h3>
                    <ul class="list-disc list-inside mt-2">
                        <li>Saudade como motor criativo</li>
                        <li>A memoria preservada em objetos</li>
                        <li>O mar e as falesias como paisagem e personagem</li>
                        <li>Artesanato como identidade cultural e resistencia</li>
                    </ul>
                    <h3 class="mt-4 font-semibold">Pontos importantes (para estudo e prova)</h3>
                    <ul class="list-disc list-inside mt-2">
                        <li>Protagonista: Joana, artesa de Majorlandia, cujo oficio nasce da saudade.</li>
                        <li>Materia-prima: areias coloridas das falesias; as garrafinhas simbolizam memoria.</li>
                        <li>Ambientacao: litoral cearense (Majorlandia), atmosfera local e elementos geografico-culturais.</li>
                        <li>Estrutura: o texto e dividido em partes (seis blocos/partes nomeados por paisagens) e mistura prosa poetica e elementos narrativos.</li>
                        <li>Temas recorrentes: saudade, memoria, identidade, transformacao da dor em beleza.</li>
                        <li>Genero: aproximo-se de poesia narrativa / cr√¥nica poetica; linguagem musical e imagetica.</li>
                        <li>Possiveis perguntas de prova: identificar o motivo do oficio de Joana, o simbolismo das garrafinhas, o papel do espaco geografico e a classificacao generica da obra.</li>
                    </ul>
                </div>
            </section>
            <section id="practice-section" class="hidden">
                <div class="bg-white p-6 rounded-lg shadow">
                    <div id="quiz-start">
                        <p class="text-center font-semibold text-slate-600 mb-4">Clique em uma quest√£o para iniciar ou use os bot√µes de navega√ß√£o.</p>
                        <div id="question-buttons" class="grid grid-cols-5 gap-2 mb-4"></div>
                        <div id="quiz-container" class="p-2"></div>
                    </div>
                </div>
            </section>
        </main>
        <div id="print-area" class="print-only p-6"></div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');

        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const questionProgress = document.createElement('p');
        questionProgress.id = 'question-progress';
        questionProgress.className = 'text-center font-semibold text-slate-600 mb-4';
        const questionText = document.createElement('p');
        questionText.id = 'question-text';
        questionText.className = 'text-xl content-text';
        const optionsContainer = document.createElement('div');
        optionsContainer.id = 'options-container';
        optionsContainer.className = 'grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6';
        const feedbackContainer = document.createElement('div');
        feedbackContainer.id = 'feedback-container';
        feedbackContainer.className = 'mt-4 p-4 rounded-lg text-center hidden';
        const feedbackText = document.createElement('p');
        feedbackText.id = 'feedback-text';
        feedbackText.className = 'font-semibold';
        const feedbackExplanation = document.createElement('p');
        feedbackExplanation.id = 'feedback-explanation';
        feedbackExplanation.className = 'text-sm mt-1';
        const nextQuestionBtn = document.createElement('button');
        nextQuestionBtn.id = 'next-question-btn';
        nextQuestionBtn.className = 'hidden py-2 px-8 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 transition-colors';
        nextQuestionBtn.textContent = 'Pr√≥xima';
    const redoQuestionBtn = document.createElement('button');
    redoQuestionBtn.id = 'redo-question-btn';
    redoQuestionBtn.className = 'hidden ml-3 py-2 px-4 bg-yellow-500 text-white font-semibold rounded-lg shadow-md hover:bg-yellow-600 transition-colors';
    redoQuestionBtn.textContent = 'Refazer';
        feedbackContainer.appendChild(feedbackText);
        feedbackContainer.appendChild(feedbackExplanation);
    quizContainer.appendChild(questionProgress);
    quizContainer.appendChild(questionText);
    quizContainer.appendChild(optionsContainer);
    quizContainer.appendChild(feedbackContainer);
    quizContainer.appendChild(nextQuestionBtn);
    quizContainer.appendChild(redoQuestionBtn);

        const learnData = [
            { title: 'Resumo', content: 'Joana, artes√£ de Majorl√¢ndia, cria garrafinhas de areia que narram mem√≥rias e paisagens. O texto explora saudade, pertencimento e a transforma√ß√£o da dor em beleza por meio da arte.' }
        ];

        const quizData = [
            // 1-10 Compreens√£o do enredo
            { question: '1. Quem √© a protagonista da narrativa?', answer: 'b) Joana, uma artes√£ de Majorl√¢ndia', options: ['a) Maria, uma bordadeira de Fortaleza','b) Joana, uma artes√£ de Majorl√¢ndia','c) Ana, uma viajante estrangeira','d) Clara, uma pescadora'], explanation: '' },
            { question: '2. Qual sentimento motiva Joana a come√ßar seu of√≠cio art√≠stico?', answer: 'c) Saudade de seu filho embarcado', options: ['a) Alegria com a chegada do filho','b) Orgulho pela vila onde vive','c) Saudade de seu filho embarcado','d) Desejo de enriquecer rapidamente'], explanation: '' },
            { question: '3. O que Joana utiliza para criar suas obras?', answer: 'c) Areias coloridas das fal√©sias', options: ['a) Argila das margens do rio','b) Tintas extra√≠das de plantas','c) Areias coloridas das fal√©sias','d) Conchas e pedras do mar'], explanation: '' },
            { question: '4. Onde Joana vive?', answer: 'b) Majorl√¢ndia, no litoral cearense', options: ['a) Fortaleza','b) Majorl√¢ndia, no litoral cearense','c) Recife','d) Olinda'], explanation: '' },
            { question: '5. Qual √© a rela√ß√£o de Joana com o filho?', answer: 'a) Ele trabalha em um navio e est√° distante', options: ['a) Ele trabalha em um navio e est√° distante','b) Ele √© pescador local','c) Ele √© professor de artes na cidade','d) Ele mora com ela e ajuda no artesanato'], explanation: '' },
            { question: '6. O que simbolizam as garrafinhas com paisagens?', answer: 'b) Supera√ß√£o da saudade e express√£o art√≠stica', options: ['a) Apenas lembran√ßas tur√≠sticas','b) Supera√ß√£o da saudade e express√£o art√≠stica','c) Fonte de riqueza e status','d) Registro de mapas da regi√£o'], explanation: '' },
            { question: '7. A narrativa do livro √© constru√≠da em:', answer: 'd) Cr√¥nica autobiogr√°fica', options: ['a) Contos independentes','b) Poema √∫nico, em versos rimados','c) Prosa jornal√≠stica','d) Cr√¥nica autobiogr√°fica'], explanation: '' },
            { question: '8. Como a hist√≥ria est√° dividida?', answer: 'a) Em sete cap√≠tulos nomeados por paisagens', options: ['a) Em sete cap√≠tulos nomeados por paisagens','b) Em seis partes com nomes de familiares','c) Em quatro blocos tem√°ticos','d) Em tr√™s atos teatrais'], explanation: '' },
            { question: '9. O of√≠cio de Joana nasce de:', answer: 'c) Uma descoberta espont√¢nea com as areias', options: ['a) Uma tradi√ß√£o herdada do pai','b) Uma ideia repassada por turistas','c) Uma descoberta espont√¢nea com as areias','d) Um curso de artesanato'], explanation: '' },
            { question: '10. O que o livro valoriza al√©m da narrativa pessoal?', answer: 'a) A cultura e geografia do Cear√°', options: ['a) A cultura e geografia do Cear√°','b) A industrializa√ß√£o nordestina','c) A literatura estrangeira','d) O com√©rcio mar√≠timo internacional'], explanation: '' },
            // 11-20 Estilo e an√°lise liter√°ria
            { question: '11. A linguagem predominante no livro √©:', answer: 'b) Po√©tica e rimada', options: ['a) T√©cnica e cient√≠fica','b) Po√©tica e rimada','c) Coloquial e humor√≠stica','d) Formal acad√™mica'], explanation: '' },
            { question: '12. A obra pode ser classificada como:', answer: 'b) Poesia narrativa infantil/juvenil', options: ['a) Paradid√°tico em prosa cient√≠fica','b) Poesia narrativa infantil/juvenil','c) Romance hist√≥rico','d) Texto jornal√≠stico'], explanation: '' },
            { question: '13. A fun√ß√£o das rimas √©:', answer: 'a) Tornar o texto mais memor√°vel e musical', options: ['a) Tornar o texto mais memor√°vel e musical','b) Imitar a fala popular','c) Refor√ßar a objetividade da narrativa','d) Facilitar a tradu√ß√£o para outros idiomas'], explanation: '' },
            { question: '14. O nome ‚ÄúGr√£os de Paisagens‚Äù faz refer√™ncia a:', answer: 'b) Areias coloridas que formam imagens', options: ['a) Gr√£os de caf√© que inspiram mem√≥rias','b) Areias coloridas que formam imagens','c) Pedrinhas usadas em mosaicos','d) Lembran√ßas fragmentadas da inf√¢ncia'], explanation: '' },
            { question: '15. A autora, Mar√≠lia Lovatel, tem forma√ß√£o em:', answer: 'b) Literatura pela UFC', options: ['a) Engenharia Ambiental','b) Literatura pela UFC','c) Arquitetura e Urbanismo','d) M√∫sica Popular Brasileira'], explanation: '' },
            { question: '16. O g√™nero do livro favorece:', answer: 'b) Reflex√£o po√©tica e cultural', options: ['a) Leitura r√°pida sem interpreta√ß√£o profunda','b) Reflex√£o po√©tica e cultural','c) Relatos t√©cnicos sobre geografia','d) Explica√ß√µes cient√≠ficas da arte'], explanation: '' },
            { question: '17. O eu l√≠rico da obra est√° pr√≥ximo de:', answer: 'b) Uma voz po√©tica que acompanha a experi√™ncia de Joana', options: ['a) Um narrador em terceira pessoa distanciado','b) Uma voz po√©tica que acompanha a experi√™ncia de Joana','c) Um narrador onisciente cient√≠fico','d) Um cronista neutro'], explanation: '' },
            { question: '18. A escolha de dividir o poema em seis partes sugere:', answer: 'a) Fragmenta√ß√£o da mem√≥ria familiar', options: ['a) Fragmenta√ß√£o da mem√≥ria familiar','b) Estrutura arbitr√°ria sem sentido','c) Representa√ß√£o das esta√ß√µes do ano','d) Homenagem aos seis vizinhos de Joana'], explanation: '' },
            { question: '19. A cad√™ncia dos versos ajuda a:', answer: 'a) Criar ritmo semelhante √†s ondas do mar', options: ['a) Criar ritmo semelhante √†s ondas do mar','b) Imprimir objetividade t√©cnica','c) Facilitar a memoriza√ß√£o de f√≥rmulas','d) Enfatizar dados estat√≠sticos'], explanation: '' },
            { question: '20. O texto mistura:', answer: 'a) Fic√ß√£o po√©tica e refer√™ncias culturais reais', options: ['a) Fic√ß√£o po√©tica e refer√™ncias culturais reais','b) Relatos jornal√≠sticos e den√∫ncias sociais','c) Teoria cient√≠fica e gr√°ficos','d) Humor popular e prov√©rbios'], explanation: '' },
            // 21-30 Contexto e interpreta√ß√£o cr√≠tica
            { question: '21. O artesanato de garrafinhas de areia nasceu como:', answer: 'b) Arte de uma jovem lidando com a saudade', options: ['a) Tradi√ß√£o ind√≠gena antiga','b) Arte de uma jovem lidando com a saudade','c) T√©cnica importada da Europa','d) Projeto de governo cultural'], explanation: '' },
            { question: '22. A inspira√ß√£o para o livro veio tamb√©m de:', answer: 'b) Uma disserta√ß√£o acad√™mica que documentou a pr√°tica', options: ['a) Um conto popular portugu√™s','b) Uma disserta√ß√£o acad√™mica que documentou a pr√°tica','c) Um filme estrangeiro','d) Uma m√∫sica folcl√≥rica'], explanation: '' },
            { question: '23. A figura de Joana pode ser vista como s√≠mbolo de:', answer: 'b) Resili√™ncia diante da aus√™ncia e da saudade', options: ['a) Depend√™ncia econ√¥mica do turismo','b) Resili√™ncia diante da aus√™ncia e da saudade','c) Oposi√ß√£o √† modernidade','d) Riqueza material'], explanation: '' },
            { question: '24. As paisagens engarrafadas representam:', answer: 'c) A possibilidade de transformar dor em beleza', options: ['a) A fixa√ß√£o da natureza em forma de mercadoria','b) A imobilidade social do sertanejo','c) A possibilidade de transformar dor em beleza','d) A destrui√ß√£o ambiental'], explanation: '' },
            { question: '25. O espa√ßo geogr√°fico da narrativa (fal√©sias, mar, areia) funciona como:', answer: 'b) Personagem simb√≥lico da hist√≥ria', options: ['a) Cen√°rio neutro','b) Personagem simb√≥lico da hist√≥ria','c) Contexto irrelevante','d) Representa√ß√£o urbana'], explanation: '' },
            { question: '26. A literatura infantil/juvenil aqui assume papel de:', answer: 'b) Educar de forma po√©tica e cultural', options: ['a) Transmitir conhecimentos t√©cnicos','b) Educar de forma po√©tica e cultural','c) Entreter sem reflex√µes profundas','d) Registrar estat√≠sticas tur√≠sticas'], explanation: '' },
            { question: '27. A saudade em Gr√£os de Paisagens est√° ligada a:', answer: 'a) Dist√¢ncia f√≠sica e afetiva', options: ['a) Dist√¢ncia f√≠sica e afetiva','b) Perda material','c) Falta de mem√≥ria','d) Aus√™ncia de trabalho'], explanation: '' },
            { question: '28. O processo criativo de Joana √© descrito como:', answer: 'b) Descoberta casual e transformadora', options: ['a) Inteiramente planejado','b) Descoberta casual e transformadora','c) T√©cnica herdada de gera√ß√µes','d) Estudo cient√≠fico rigoroso'], explanation: '' },
            { question: '29. O livro mostra que o trabalho de Joana contribuiu para:', answer: 'a) A cria√ß√£o de uma arte regional reconhecida', options: ['a) A cria√ß√£o de uma arte regional reconhecida','b) A explora√ß√£o do petr√≥leo no litoral','c) A perda das tradi√ß√µes locais','d) O abandono de Majorl√¢ndia'], explanation: '' },
            { question: '30. A leitura do livro pode despertar no leitor:', answer: 'b) Empatia e sensibilidade diante da arte e da saudade', options: ['a) Apenas curiosidade geogr√°fica','b) Empatia e sensibilidade diante da arte e da saudade','c) Desinteresse pelo contexto cultural','d) Apenas vontade de visitar Fortaleza'], explanation: '' },
            // 31-40 extras
            { question: '31. Quem d√° nome a cada uma das seis partes do poema?', answer: 'c) Os turistas que compram as garrafinhas', options: ['a) Os vizinhos da vila','b) Os familiares de Joana','c) Os turistas que compram as garrafinhas','d) Os marinheiros do navio'], explanation: '' },
            { question: '32. Qual √© a principal emo√ß√£o que acompanha Joana no in√≠cio da narrativa?', answer: 'c) Saudade', options: ['a) Esperan√ßa','b) Raiva','c) Saudade','d) Alegria'], explanation: '' },
            { question: '33. O filho de Joana foi trabalhar em:', answer: 'a) Um navio', options: ['a) Um navio','b) Uma fazenda','c) Um ateli√™ de artes','d) Uma escola'], explanation: '' },
            { question: '34. O que acontece com a tristeza de Joana ao come√ßar o artesanato?', answer: 'b) Transforma-se em arte e mem√≥ria', options: ['a) Aumenta cada vez mais','b) Transforma-se em arte e mem√≥ria','c) √â esquecida rapidamente','d) Faz com que ela deixe a vila'], explanation: '' },
            { question: '35. As paisagens criadas por Joana dentro das garrafas representam:', answer: 'b) Imagens idealizadas que misturam mem√≥ria e natureza', options: ['a) C√≥pias exatas de mapas geogr√°ficos','b) Imagens idealizadas que misturam mem√≥ria e natureza','c) Retratos de sua fam√≠lia','d) S√≠mbolos religiosos'], explanation: '' },
            { question: '36. O cen√°rio natural que fornece a mat√©ria-prima para o artesanato de Joana √©:', answer: 'a) As fal√©sias de areia colorida', options: ['a) As fal√©sias de areia colorida','b) O sert√£o √°rido','c) As serras verdes','d) Os rios da Amaz√¥nia'], explanation: '' },
            { question: '37. A atividade art√≠stica de Joana surge como:', answer: 'c) Uma forma de suportar a aus√™ncia do filho', options: ['a) Um of√≠cio tur√≠stico planejado pelo governo','b) Um passatempo ocasional sem import√¢ncia','c) Uma forma de suportar a aus√™ncia do filho','d) Uma heran√ßa de fam√≠lia'], explanation: '' },
            { question: '38. O livro mostra que o trabalho de Joana contribuiu para:', answer: 'a) A cria√ß√£o de uma arte regional reconhecida', options: ['a) A cria√ß√£o de uma arte regional reconhecida','b) A explora√ß√£o do petr√≥leo no litoral','c) A perda das tradi√ß√µes locais','d) O abandono de Majorl√¢ndia'], explanation: '' },
            { question: '39. O nome ‚ÄúJoana‚Äù na narrativa pode ser entendido como:', answer: 'b) Um s√≠mbolo de mulheres nordestinas fortes e criativas', options: ['a) Apenas uma escolha aleat√≥ria','b) Um s√≠mbolo de mulheres nordestinas fortes e criativas','c) Uma homenagem a escritoras estrangeiras','d) Refer√™ncia a uma santa cat√≥lica'], explanation: '' },
            { question: '40. O desfecho do livro refor√ßa a ideia de que:', answer: 'b) A arte e a mem√≥ria ajudam a enfrentar a saudade', options: ['a) O sofrimento n√£o pode ser transformado','b) A arte e a mem√≥ria ajudam a enfrentar a saudade','c) O mar sempre traz de volta quem partiu','d) A riqueza material √© a solu√ß√£o para todos os problemas'], explanation: '' },
        ];

        let currentQuestionIndex = 0;
        let questionOrder = Array.from({length: quizData.length}, (_, i) => i);
        let questionStatus = Array(quizData.length).fill(null);

        function switchView(view){
            if(view === 'learn'){
                learnSection.classList.remove('hidden');
                practiceSection.classList.add('hidden');
                btnLearn.classList.add('active');
                btnPractice.classList.remove('active');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnLearn.classList.remove('active');
                btnPractice.classList.add('active');
                renderQuestionButtons();
                showQuestion(0);
            }
        }

        function renderQuestionButtons(){
            questionButtons.innerHTML = '';
            for(let i=0;i<quizData.length;i++){
                const b = document.createElement('button');
                b.className = 'question-btn text-sm';
                b.textContent = (i+1);
                b.addEventListener('click', ()=>{
                    showQuestion(i);
                });
                if(questionStatus[i] === 'correct') b.classList.add('correct');
                if(questionStatus[i] === 'wrong') b.classList.add('wrong');
                questionButtons.appendChild(b);
            }
        }

        function showQuestion(index){
            currentQuestionIndex = index;
            const q = quizData[index];
            questionProgress.textContent = `Quest√£o ${index+1} de ${quizData.length}`;
            questionText.textContent = q.question;
            optionsContainer.innerHTML = '';
            feedbackContainer.classList.add('hidden');
            nextQuestionBtn.classList.add('hidden');
            q.options.forEach(opt=>{
                const ob = document.createElement('button');
                ob.className = 'option-btn';
                ob.textContent = opt;
                ob.addEventListener('click', ()=> selectAnswer(ob, q.answer, q.explanation, index));
                optionsContainer.appendChild(ob);
            });
        }

        function selectAnswer(btn, correctAnswer, explanation, index){
            const chosen = btn.textContent;
            const isCorrect = chosen.trim() === correctAnswer.trim();
                feedbackContainer.classList.remove('hidden');
            if(isCorrect){
                feedbackText.textContent = 'Correto ‚úì';
                feedbackContainer.classList.remove('feedback-wrong');
                feedbackContainer.classList.add('feedback-correct');
                questionStatus[index] = 'correct';
                btn.classList.add('correct');
                // esconder bot√£o de refazer se estiver vis√≠vel
                redoQuestionBtn.classList.add('hidden');
            } else {
                feedbackText.textContent = 'Incorreto ‚úó';
                feedbackContainer.classList.remove('feedback-correct');
                feedbackContainer.classList.add('feedback-wrong');
                questionStatus[index] = 'wrong';
                btn.classList.add('wrong');
                // re-enfileira a quest√£o errada no final
                questionOrder = questionOrder.filter(i=>i!==index);
                questionOrder.push(index);
                // mostrar bot√£o "Refazer" para tentar novamente agora
                redoQuestionBtn.classList.remove('hidden');
                redoQuestionBtn.classList.add('btn-warning');
                redoQuestionBtn.onclick = function(){
                    // resetar estado da quest√£o e traz√™-la para a frente da fila
                    questionStatus[index] = null;
                    // remover todas ocorr√™ncias e colocar no in√≠cio
                    questionOrder = [index, ...questionOrder.filter(i=>i!==index)];
                    renderQuestionButtons();
                    showQuestion(index);
                };
            }
            // mostrar explica√ß√£o se houver, sen√£o informar a resposta correta
            feedbackExplanation.textContent = explanation && explanation.trim().length ? explanation : ('Resposta correta: ' + correctAnswer);
            renderQuestionButtons();
            nextQuestionBtn.classList.remove('hidden');
            nextQuestionBtn.classList.add('btn-primary');
            nextQuestionBtn.onclick = ()=>{
                // ir para pr√≥xima quest√£o na ordem
                const nextPos = questionOrder.indexOf(index)+1;
                const nextIndex = questionOrder[nextPos] !== undefined ? questionOrder[nextPos] : questionOrder[0];
                showQuestion(nextIndex);
            };
        }

        // impressao
        (function(){
            function makeExplainHtml(learnData){
                const dt = new Date().toLocaleDateString();
                let html = '<div class="print-header"><strong>Gr√£os de Paisagens ‚Äî Explica√ß√µes</strong><div style="float:right">'+dt+'</div></div>';
                html += '<div class="print-content">';
                learnData.forEach(s=>{
                    html += '<h3 style="margin-top:0.6rem">'+s.title+'</h3>';
                    html += '<p>'+s.content+'</p>';
                    html += '<div class="page-break"></div>';
                });
                html += '</div>';
                html += '<div class="print-footer">P√°gina <span class="page-num">-</span></div>';
                return html;
            }
            function makeQuestionsHtml(quizData){
                const dt = new Date().toLocaleDateString();
                let html = '<div class="print-header"><strong>Gr√£os de Paisagens ‚Äî Quest√µes</strong><div style="float:right">'+dt+'</div></div>';
                html += '<div class="print-content">';
                quizData.forEach((q, idx)=>{
                    html += '<div style="margin-bottom:10mm">';
                    html += '<h4 style="margin:0">'+(idx+1)+'. '+q.question+'</h4>';
                    html += '<ol style="margin-top:6px">';
                    q.options.forEach(opt=>{
                        html += '<li>'+opt+'</li>';
                    });
                    html += '</ol>';
                    html += '</div>';
                    html += '<div class="page-break"></div>';
                });
                html += '</div>';
                html += '<div class="print-footer">P√°gina <span class="page-num">-</span></div>';
                return html;
            }

            const btnPrintExplain = document.getElementById('btn-print-explain');
            if(btnPrintExplain){
                btnPrintExplain.addEventListener('click', function(){
                    const area = document.getElementById('print-area');
                    area.innerHTML = makeExplainHtml(learnData);
                    setTimeout(()=>{ window.print(); }, 300);
                });
            }
            const btnPrintQuestions = document.getElementById('btn-print-questions');
            if(btnPrintQuestions){
                btnPrintQuestions.addEventListener('click', function(){
                    const area = document.getElementById('print-area');
                    area.innerHTML = makeQuestionsHtml(quizData);
                    setTimeout(()=>{ window.print(); }, 300);
                });
            }

            window.fillPageNumbers = function(){
                // placeholder: navegadores n√£o exp√µem total de p√°ginas antes da impress√£o
                document.querySelectorAll('.page-num').forEach(el=>el.textContent = '‚Äî');
            };
        })();

        // alternador de tema claro/escuro
        (function(){
            const toggle = document.getElementById('theme-toggle');
            const root = document.documentElement;
            function applyTheme(theme){
                if(theme === 'light'){
                    root.classList.add('theme-light');
                    toggle && (toggle.textContent = '‚òÄÔ∏è Claro');
                } else {
                    root.classList.remove('theme-light');
                    toggle && (toggle.textContent = 'üåô Escuro');
                }
            }
            // ler preferencia salva
            const saved = localStorage.getItem('sophia-theme');
            applyTheme(saved === 'light' ? 'light' : 'dark');
            if(toggle){
                toggle.addEventListener('click', ()=>{
                    const isLight = document.documentElement.classList.toggle('theme-light');
                    const theme = isLight ? 'light' : 'dark';
                    localStorage.setItem('sophia-theme', theme);
                    applyTheme(theme);
                });
            }
        })();

        btnLearn.addEventListener('click', ()=> switchView('learn'));
        btnPractice.addEventListener('click', ()=> switchView('practice'));

        // inicializa
        switchView('learn');
    });
    </script>
</body>
</html>
