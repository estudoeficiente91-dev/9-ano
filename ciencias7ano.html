<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Ci√™ncias ‚Äì 7¬∫ Ano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#071023; --card:#0b1624; --accent:#3b82f6; --muted:#97a6bf; --text:#e6eef8; --success:#34d399; --danger:#ef4444; --border:rgba(255,255,255,0.12); --muted-2: rgba(230,238,248,0.85);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(59,130,246,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; cursor:pointer; }
        #question-buttons button.current-question { background-color: rgba(59, 130, 246, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(96,165,250,0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        .theme-light{ --bg: #f8fafc; --card: #ffffff; --muted: #475569; --text: #0f1724; --accent: #0284c7; --success: #047857; --danger: #b91c1c; --border: rgba(15,23,42,0.1); --muted-2: rgba(15,23,36,0.85); }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(59, 130, 246, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
        .difficulty-badge { padding: 0.1rem 0.6rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .difficulty-facil { background-color: rgba(52, 211, 153, 0.2); color: #6ee7b7; }
        .difficulty-medio { background-color: rgba(250, 204, 21, 0.2); color: #facc15; }
        .difficulty-dificil { background-color: rgba(248, 113, 113, 0.2); color: #f87171; }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Ci√™ncias ‚Äî 7¬∫ Ano</h1>
                    <p class="text-sm text-slate-400">Guia de estudos sobre o Reino Animal e Ecologia.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">UNIDADE 5: O Reino dos Animais</h2>
                            <h3 class="sub-topic-title">TEMA 1 e 2: Caracter√≠sticas Gerais, Por√≠feros e Cnid√°rios</h3>
                            <p>Os animais s√£o seres <span class="highlight">multicelulares</span> e <span class="highlight">heter√≥trofos</span>. A <span class="highlight">simetria</span> corporal √© uma forma de classific√°-los: <span class="highlight">radial</span> (como uma estrela-do-mar, com v√°rios eixos de simetria) ou <span class="highlight">bilateral</span> (como n√≥s, com apenas um eixo que divide o corpo em duas metades iguais).</p>
                             <ul>
                                <li><strong>Por√≠feros (Esponjas):</strong> S√£o os animais mais simples, <span class="highlight">assim√©tricos</span> e s√©sseis (vivem fixos). Filtram a √°gua para se alimentar.</li>
                                <li><strong>Cnid√°rios (√Åguas-vivas, corais):</strong> Possuem simetria radial e c√©lulas urticantes chamadas <span class="highlight">cnid√≥citos</span>.</li>
                            </ul>

                            <h3 class="sub-topic-title">TEMA 3 e 4: Vermes, Moluscos, Artr√≥podes e Equinodermos</h3>
                            <p>Estes grupos apresentam simetria bilateral e s√£o mais complexos.</p>
                             <ul>
                                <li><strong>Platelmintos (Vermes Achatados):</strong> Ex: Plan√°ria, T√™nia.</li>
                                <li><strong>Nematelmintos (Vermes Cil√≠ndricos):</strong> Ex: Lombriga.</li>
                                <li><strong>Anel√≠deos (Vermes com An√©is):</strong> Ex: Minhoca.</li>
                                <li><strong>Moluscos (Corpo Mole):</strong> Ex: Caracol, Polvo. Muitos t√™m concha.</li>
                                <li><strong>Artr√≥podes (Patas Articuladas):</strong> O maior grupo, com <span class="highlight">exoesqueleto</span>. Inclui Insetos, Aracn√≠deos e Crust√°ceos.</li>
                                <li><strong>Equinodermos (Espinhos na Pele):</strong> Ex: Estrela-do-mar. S√£o os invertebrados mais pr√≥ximos de n√≥s.</li>
                            </ul>
                            
                             <h3 class="sub-topic-title">TEMA 5, 6 e 7: Vertebrados</h3>
                             <p>Grupo dentro dos Cordados, caracterizado pela presen√ßa de coluna vertebral.</p>
                            <ul>
                                <li><strong>Peixes:</strong> Aqu√°ticos, com respira√ß√£o branquial.</li>
                                <li><strong>Anf√≠bios:</strong> Pele √∫mida, vida dupla (√°gua e terra). Ex: Sapos.</li>
                                <li><strong>R√©pteis:</strong> Pele seca com escamas, ovos com casca. Ex: Cobras, Jacar√©s. Um animal <span class="highlight">pe√ßonhento</span> (serpente) injeta veneno, enquanto um <span class="highlight">venenoso</span> (sapo) produz veneno, mas n√£o tem como injetar.</li>
                                <li><strong>Aves:</strong> Penas, bico, ossos ocos e capacidade de voo na maioria.</li>
                                <li><strong>Mam√≠feros:</strong> Pelos e gl√¢ndulas mam√°rias.</li>
                            </ul>
                        </div>
                        
                        <div class="topic-section">
                             <h2 class="topic-title">UNIDADE 6: Rela√ß√µes Ecol√≥gicas e Ecossistemas</h2>
                            <h3 class="sub-topic-title">TEMA 1: Rela√ß√µes Ecol√≥gicas</h3>
                             <p>S√£o as intera√ß√µes entre os seres vivos. Podem ser <span class="highlight">harm√¥nicas</span> (ningu√©m √© prejudicado) ou <span class="highlight">desarm√¥nicas</span> (algu√©m √© prejudicado).</p>
                             <ul>
                                 <li><strong>Competi√ß√£o:</strong> Disputa por recursos (√°gua, alimento, parceiros). Pode ser entre a mesma esp√©cie ou esp√©cies diferentes. √â desarm√¥nica.</li>
                                 <li><strong>Predatismo:</strong> Um ser (predador) ca√ßa e mata outro (presa). √â desarm√¥nica.</li>
                                 <li><strong>Parasitismo:</strong> Um ser (parasita) vive √†s custas de outro (hospedeiro), prejudicando-o. √â desarm√¥nica.</li>
                                 <li><strong>Mutualismo:</strong> Ambos se beneficiam e a rela√ß√£o √© obrigat√≥ria. Ex: Liquens (algas + fungos). √â harm√¥nica.</li>
                                 <li><strong>Comensalismo:</strong> Um se beneficia e para o outro √© indiferente. Ex: R√™mora e tubar√£o. √â harm√¥nica.</li>
                             </ul>

                            <h3 class="sub-topic-title">TEMA 2 e 3: Dom√≠nios Morfoclim√°ticos e o Dom√≠nio Atl√¢ntico</h3>
                             <p>Um <span class="highlight">dom√≠nio morfoclim√°tico</span> √© uma combina√ß√£o integrada de relevo, clima e vegeta√ß√£o que forma uma grande paisagem natural. √â um conceito mais completo que bioma.</p>
                             <ul>
                                 <li><strong>O Dom√≠nio Atl√¢ntico (ou Dom√≠nio dos Mares de Morros):</strong> Este √© um dos mais importantes e, infelizmente, o mais devastado do Brasil.
                                     <ul style="padding-left: 1rem; list-style-type: circle;">
                                         <li><strong>Localiza√ß√£o:</strong> Originalmente, se estendia por quase todo o litoral do pa√≠s, do Nordeste ao Sul. √â a regi√£o onde a coloniza√ß√£o brasileira come√ßou.</li>
                                         <li><strong>Relevo:</strong> Sua marca registrada √© o relevo de <span class="highlight">"Mares de Morros"</span>. S√£o serras e planaltos com topos arredondados pela a√ß√£o da chuva e do intemperismo ao longo de milh√µes de anos. A Serra do Mar √© um grande exemplo.</li>
                                         <li><strong>Clima:</strong> O clima √© predominantemente <span class="highlight">Tropical √ömido</span>, influenciado pela umidade que vem do Oceano Atl√¢ntico. Isso significa chuvas bem distribu√≠das e temperaturas elevadas na maior parte do ano.</li>
                                         <li><strong>Vegeta√ß√£o (Mata Atl√¢ntica):</strong> A vegeta√ß√£o original √© a <span class="highlight">Mata Atl√¢ntica</span>, uma floresta tropical exuberante, densa e fechada, com √°rvores altas e uma biodiversidade gigantesca. √â considerada um dos <span class="highlight">hotspots</span> mundiais, ou seja, uma √°rea riqu√≠ssima em esp√©cies end√™micas (que s√≥ existem ali) e extremamente amea√ßada.</li>
                                         <li><strong>Ecossistemas Associados:</strong> Al√©m da floresta, o Dom√≠nio Atl√¢ntico inclui ecossistemas costeiros como os <span class="highlight">manguezais</span> (encontro do rio com o mar, ber√ß√°rio de esp√©cies marinhas) e as <span class="highlight">restingas</span> (vegeta√ß√£o sobre solos arenosos da praia).</li>
                                         <li><strong>Devasta√ß√£o:</strong> Por ser a √°rea de ocupa√ß√£o mais antiga do Brasil, foi intensamente desmatada para dar lugar a cidades, pastagens, agricultura (cana-de-a√ß√∫car, caf√©) e ind√∫strias. Hoje, resta menos de 12% de sua cobertura original, espalhada em fragmentos.</li>
                                     </ul>
                                 </li>
                             </ul>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                     <div class="mb-4 flex justify-end">
                        <button id="order-toggle-btn" class="btn-ghost text-xs">Ordem Crescente</button>
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const orderToggleBtn = document.getElementById('order-toggle-btn');

        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer || !orderToggleBtn){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-science-7ano-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-science-7ano-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            { topic: 'Caracter√≠sticas dos Animais', difficulty: 'F√°cil', q: '1) Um ser vivo multicelular que n√£o produz seu pr√≥prio alimento pertence a qual reino?', options: ['Plantae', 'Fungi', 'Animalia', 'Monera'], answer: 'Animalia', explanation: 'A multicelularidade e a heterotrofia por ingest√£o s√£o caracter√≠sticas marcantes do Reino Animalia.'},
            { topic: 'Caracter√≠sticas dos Animais', difficulty: 'F√°cil', q: '2) A simetria que divide o corpo em duas metades iguais, como em um ser humano, √© chamada de:', options: ['Radial', 'Assim√©trica', 'Bilateral', 'Circular'], answer: 'Bilateral', explanation: 'A simetria bilateral permite a defini√ß√£o de uma parte da frente, de tr√°s, de cima e de baixo, importante para a locomo√ß√£o.'},
            { topic: 'Por√≠feros e Cnid√°rios', difficulty: 'F√°cil', q: '3) As esponjas s√£o animais s√©sseis que obt√™m alimento por filtra√ß√£o. Elas pertencem ao filo:', options: ['Cnidaria', 'Porifera', 'Platyhelminthes', 'Mollusca'], answer: 'Porifera', explanation: 'Os por√≠feros s√£o os animais mais simples, caracterizados pelos poros no corpo.'},
            { topic: 'Por√≠feros e Cnid√°rios', difficulty: 'M√©dio', q: '4) Qual estrutura √© exclusiva dos cnid√°rios, como as √°guas-vivas, e serve para defesa e captura de presas?', options: ['Concha', 'Exoesqueleto', 'Cnid√≥citos', 'Espinhos'], answer: 'Cnid√≥citos', explanation: 'S√£o as c√©lulas urticantes que liberam uma subst√¢ncia t√≥xica ao toque.'},
            { topic: 'Vermes', difficulty: 'F√°cil', q: '5) A T√™nia (solit√°ria) √© um verme de corpo achatado, parasita do intestino humano. Ela √© um:', options: ['Anel√≠deo', 'Nematelminto', 'Platelminto', 'Molusco'], answer: 'Platelminto', explanation: 'Platelmintos s√£o os vermes de corpo achatado.'},
            { topic: 'Vermes', difficulty: 'F√°cil', q: '6) As lombrigas s√£o vermes de corpo cil√≠ndrico e foram os primeiros animais a apresentar um sistema digest√≥rio completo (boca e √¢nus). Pertencem ao filo:', options: ['Annelida', 'Nematoda', 'Platyhelminthes', 'Mollusca'], answer: 'Nematoda', explanation: 'Nematelmintos (ou Nematoda) s√£o os vermes de corpo cil√≠ndrico.'},
            { topic: 'Vermes', difficulty: 'M√©dio', q: '7) Qual √© a principal caracter√≠stica das minhocas, que as classifica como anel√≠deos?', options: ['Corpo mole', 'Corpo achatado', 'Corpo formado por an√©is (segmentado)', 'Presen√ßa de concha'], answer: 'Corpo formado por an√©is (segmentado)', explanation: 'A metameria, ou corpo segmentado, √© a marca registrada dos anel√≠deos.'},
            { topic: 'Moluscos e Artr√≥podes', difficulty: 'F√°cil', q: '8) Caramujos, ostras e polvos s√£o animais de corpo mole, pertencentes ao filo:', options: ['Arthropoda', 'Echinodermata', 'Annelida', 'Mollusca'], answer: 'Mollusca', explanation: 'A caracter√≠stica do corpo mole d√° o nome ao filo.'},
            { topic: 'Moluscos e Artr√≥podes', difficulty: 'F√°cil', q: '9) Patas articuladas e um esqueleto externo (exoesqueleto) s√£o caracter√≠sticas de qual filo?', options: ['Moluscos', 'Artr√≥podes', 'Equinodermos', 'Cordados'], answer: 'Artr√≥podes', explanation: 'Essas caracter√≠sticas permitiram aos artr√≥podes serem o grupo de maior sucesso na Terra.'},
            { topic: 'Moluscos e Artr√≥podes', difficulty: 'M√©dio', q: '10) Um animal com 6 patas, antenas e corpo dividido em cabe√ßa, t√≥rax e abdome √© um:', options: ['Aracn√≠deo', 'Crust√°ceo', 'Inseto', 'Equinodermo'], answer: 'Inseto', explanation: 'Essa √© a descri√ß√£o cl√°ssica de um inseto, que √© uma classe dentro dos artr√≥podes.'},
            { topic: 'Equinodermos', difficulty: 'F√°cil', q: '11) As estrelas-do-mar e os ouri√ßos-do-mar s√£o animais marinhos com espinhos na pele. Eles s√£o:', options: ['Cnid√°rios', 'Moluscos', 'Artr√≥podes', 'Equinodermos'], answer: 'Equinodermos', explanation: 'O nome do filo significa "espinhos na pele".'},
            { topic: 'Peixes e Anf√≠bios', difficulty: 'F√°cil', q: '12) Qual √© a principal forma de respira√ß√£o dos peixes?', options: ['Pulmonar', 'Cut√¢nea (pela pele)', 'Branquial', 'Traqueal'], answer: 'Branquial', explanation: 'As br√¢nquias s√£o estruturas especializadas em retirar o oxig√™nio dissolvido na √°gua.'},
            { topic: 'Peixes e Anf√≠bios', difficulty: 'M√©dio', q: '13) Os anf√≠bios, como os sapos, s√£o conhecidos por terem uma "vida dupla". Isso se refere ao fato de que:', options: ['Vivem em dois continentes diferentes', 'Comem plantas e animais', 'Passam por uma fase larval aqu√°tica e uma fase adulta terrestre', 'Possuem dois cora√ß√µes'], answer: 'Passam por uma fase larval aqu√°tica e uma fase adulta terrestre', explanation: 'O girino vive na √°gua e respira por br√¢nquias, enquanto o sapo adulto vive na terra e tem respira√ß√£o pulmonar e cut√¢nea.'},
            { topic: 'R√©pteis', difficulty: 'F√°cil', q: '14) Cobras, lagartos e tartarugas pertencem √† classe dos r√©pteis. Uma caracter√≠stica que os ajudou a conquistar o ambiente terrestre foi:', options: ['A pele √∫mida', 'A respira√ß√£o por br√¢nquias', 'O ovo com casca', 'A aus√™ncia de patas'], answer: 'O ovo com casca', explanation: 'O ovo com casca protege o embri√£o da desidrata√ß√£o, permitindo a reprodu√ß√£o longe da √°gua.'},
            { topic: 'R√©pteis', difficulty: 'M√©dio', q: '15) Uma serpente que consegue injetar sua toxina atrav√©s de dentes especializados √© chamada de:', options: ['Venenosa', 'Pe√ßonhenta', 'Carn√≠vora', 'Perigosa'], answer: 'Pe√ßonhenta', explanation: 'Pe√ßonhento √© o animal que possui um mecanismo para injetar veneno (dentes, ferr√£o). Venenoso √© aquele que produz veneno, mas n√£o o injeta (ex: sapo).'},
            { topic: 'Aves e Mam√≠feros', difficulty: 'F√°cil', q: '16) Penas, ossos ocos e bico s√£o caracter√≠sticas de qual classe de vertebrados?', options: ['R√©pteis', 'Anf√≠bios', 'Aves', 'Peixes'], answer: 'Aves', explanation: 'Essas s√£o adapta√ß√µes importantes, principalmente relacionadas ao voo.'},
            { topic: 'Aves e Mam√≠feros', difficulty: 'F√°cil', q: '17) A presen√ßa de pelos e gl√¢ndulas mam√°rias s√£o caracter√≠sticas exclusivas dos:', options: ['Mam√≠feros', 'R√©pteis', 'Anf√≠bios', 'Cordados'], answer: 'Mam√≠feros', explanation: 'A capacidade de amamentar os filhotes √© a caracter√≠stica que d√° nome √† classe.'},
            
            // Unidade 6 - Rela√ß√µes Ecol√≥gicas
            { topic: 'Rela√ß√µes Ecol√≥gicas', difficulty: 'F√°cil', q: '18) A rela√ß√£o em que um le√£o ca√ßa uma zebra para se alimentar √© um exemplo de:', options: ['Comensalismo', 'Competi√ß√£o', 'Predatismo', 'Mutualismo'], answer: 'Predatismo', explanation: 'No predatismo, um ser vivo (predador) mata outro (presa) para se alimentar. √â uma rela√ß√£o desarm√¥nica (+/-).'},
            { topic: 'Rela√ß√µes Ecol√≥gicas', difficulty: 'M√©dio', q: '19) A rela√ß√£o entre uma orqu√≠dea que vive sobre uma √°rvore (obtendo luz sem prejudic√°-la) √© chamada de:', options: ['Parasitismo', 'Comensalismo', 'Predatismo', 'Competi√ß√£o'], answer: 'Comensalismo', explanation: 'No comensalismo, uma esp√©cie se beneficia (a orqu√≠dea) e a outra n√£o √© afetada (a √°rvore). √â uma rela√ß√£o harm√¥nica (+/0).'},
            { topic: 'Rela√ß√µes Ecol√≥gicas', difficulty: 'M√©dio', q: '20) Pulgas vivendo no pelo de um cachorro √© um exemplo cl√°ssico de:', options: ['Mutualismo', 'Comensalismo', 'Predatismo', 'Parasitismo'], answer: 'Parasitismo', explanation: 'O parasita (pulga) se beneficia e o hospedeiro (cachorro) √© prejudicado. √â uma rela√ß√£o desarm√¥nica (+/-).'},
            { topic: 'Rela√ß√µes Ecol√≥gicas', difficulty: 'Dif√≠cil', q: '21) A rela√ß√£o entre a abelha (que se alimenta do n√©ctar) e a flor (que √© polinizada) √© um exemplo de:', options: ['Parasitismo', 'Competi√ß√£o', 'Mutualismo', 'Comensalismo'], answer: 'Mutualismo', explanation: 'Ambas as esp√©cies se beneficiam da intera√ß√£o, que √© essencial para elas. √â uma rela√ß√£o harm√¥nica (+/+).'},
            { topic: 'Rela√ß√µes Ecol√≥gicas', difficulty: 'M√©dio', q: '22) Duas plantas de esp√©cies diferentes disputando a luz do sol em uma floresta est√£o em uma rela√ß√£o de:', options: ['Competi√ß√£o Interespec√≠fica', 'Competi√ß√£o Intraespec√≠fica', 'Mutualismo', 'Predatismo'], answer: 'Competi√ß√£o Interespec√≠fica', explanation: '√â uma competi√ß√£o (-/-) entre esp√©cies ("inter") diferentes pelo mesmo recurso (luz).'},
            { topic: 'Rela√ß√µes Ecol√≥gicas', difficulty: 'F√°cil', q: '23) Viver em grupo, como em uma alcateia de lobos, pode trazer vantagens. Essa √© uma rela√ß√£o:', options: ['Interespec√≠fica Harm√¥nica', 'Intraespec√≠fica Harm√¥nica', 'Interespec√≠fica Desarm√¥nica', 'Intraespec√≠fica Desarm√¥nica'], answer: 'Intraespec√≠fica Harm√¥nica', explanation: '√â uma rela√ß√£o entre indiv√≠duos da mesma esp√©cie ("intra") que traz benef√≠cios para o grupo (sociedade).'},

            // Dom√≠nios Morfoclim√°ticos
            { topic: 'Dom√≠nios Morfoclim√°ticos', difficulty: 'F√°cil', q: '24) O que √© um dom√≠nio morfoclim√°tico?', options: ['Um tipo de relevo espec√≠fico', 'Uma grande √°rea com clima, relevo e vegeta√ß√£o semelhantes', 'A previs√£o do tempo para uma regi√£o', 'Um sin√¥nimo para bioma'], answer: 'Uma grande √°rea com clima, relevo e vegeta√ß√£o semelhantes', explanation: '√â um conceito amplo que integra os principais elementos da paisagem de uma grande regi√£o.'},
            { topic: 'Dom√≠nios Morfoclim√°ticos', difficulty: 'M√©dio', q: '25) A Mata Atl√¢ntica √© a vegeta√ß√£o caracter√≠stica de qual dom√≠nio morfoclim√°tico brasileiro?', options: ['Amaz√¥nico', 'Cerrado', 'Caatingas', 'Mares de Morros (Atl√¢ntico)'], answer: 'Mares de Morros (Atl√¢ntico)', explanation: 'O Dom√≠nio Atl√¢ntico, ou Dom√≠nio dos Mares de Morros, tem como vegeta√ß√£o original a Mata Atl√¢ntica.'},
            { topic: 'Dom√≠nios Morfoclim√°ticos', difficulty: 'F√°cil', q: '26) Por que a Mata Atl√¢ntica √© considerado o bioma mais devastado do Brasil?', options: ['Por causa de queimadas naturais', 'Devido √† intensa ocupa√ß√£o humana desde a coloniza√ß√£o', 'Por ser um bioma pobre em esp√©cies', 'Devido ao clima seco'], answer: 'Devido √† intensa ocupa√ß√£o humana desde a coloniza√ß√£o', explanation: 'A expans√£o de cidades, ind√∫strias e da agricultura sobre a faixa litor√¢nea reduziu a mata a pequenos fragmentos.'},
            
            // Revis√£o Geral
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '27) Qual √© o √∫nico filo de invertebrados cujos membros s√£o exclusivamente marinhos?', options: ['Artr√≥podes', 'Moluscos', 'Equinodermos', 'Anel√≠deos'], answer: 'Equinodermos', explanation: 'N√£o existem esp√©cies de estrelas-do-mar ou ouri√ßos em √°gua doce ou na terra.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '28) A simetria bilateral est√° fortemente associada com a cefaliza√ß√£o, que √©:', options: ['O desenvolvimento de uma cauda', 'A concentra√ß√£o de √≥rg√£os sensoriais na regi√£o da cabe√ßa', 'A aus√™ncia de c√©rebro', 'A capacidade de se regenerar'], answer: 'A concentra√ß√£o de √≥rg√£os sensoriais na regi√£o da cabe√ßa', explanation: 'Ter uma "frente" favoreceu a concentra√ß√£o de √≥rg√£os como olhos e c√©rebro na regi√£o anterior do corpo.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '29) Qual dos animais abaixo N√ÉO √© um artr√≥pode?', options: ['Borboleta', 'Caranguejo', 'Escorpi√£o', 'Lula'], answer: 'Lula', explanation: 'A lula √© um molusco, do grupo dos cefal√≥podes.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '30) A presen√ßa de homeotermia ("sangue quente") √© uma caracter√≠stica de quais grupos?', options: ['Peixes e Anf√≠bios', 'R√©pteis e Aves', 'Aves e Mam√≠feros', 'Anf√≠bios e R√©pteis'], answer: 'Aves e Mam√≠feros', explanation: 'A capacidade de manter a temperatura corporal constante permitiu que esses grupos ocupassem os mais variados ambientes.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '31) Larvas de moscas em cad√°veres podem ajudar a per√≠cia a descobrir o tempo da morte. Essa √© uma aplica√ß√£o da:', options: ['Gen√©tica', 'Ecologia', 'Zoologia', 'Entomologia Forense'], answer: 'Entomologia Forense', explanation: '√â a ci√™ncia que usa o estudo dos insetos para resolver casos criminais.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '32) O que a Mata Atl√¢ntica e a Floresta Amaz√¥nica t√™m em comum?', options: ['S√£o florestas tropicais com alta biodiversidade', 'Ambas est√£o localizadas no litoral', 'Possuem clima seco', 'S√£o as mais preservadas do Brasil'], answer: 'S√£o florestas tropicais com alta biodiversidade', explanation: 'Ambas s√£o florestas √∫midas e abrigam uma imensa variedade de esp√©cies.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '33) Um animal que tem corpo mole, concha e se locomove por um "p√©" musculoso √© provavelmente um:', options: ['Crust√°ceo', 'Gastr√≥pode (Molusco)', 'Anel√≠deo', 'Equinodermo'], answer: 'Gastr√≥pode (Molusco)', explanation: 'Essa √© a descri√ß√£o de um caracol ou caramujo, que pertence √† classe Gastropoda.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '34) O que liquens e corais t√™m em comum?', options: ['S√£o do mesmo filo', 'Ambos s√£o exemplos de mutualismo', 'Vivem apenas em terra', 'S√£o formados por um √∫nico organismo'], answer: 'Ambos s√£o exemplos de mutualismo', explanation: 'Liquens s√£o uma associa√ß√£o entre algas e fungos. Corais vivem em simbiose com algas (zooxantelas).'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '35) Qual dos seguintes animais √© um mam√≠fero que bota ovos?', options: ['Pinguim', 'Morcego', 'Baleia', 'Ornitorrinco'], answer: 'Ornitorrinco', explanation: 'O ornitorrinco √© um mam√≠fero monotremado, uma exce√ß√£o √† regra da viviparidade na classe.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '36) A rela√ß√£o entre um carrapato e um boi √© a mesma que a rela√ß√£o entre:', options: ['Uma abelha e uma flor', 'Um tubar√£o e uma r√™mora', 'Um le√£o e uma zebra', 'Um piolho e um ser humano'], answer: 'Um piolho e um ser humano', explanation: 'Ambos s√£o exemplos de parasitismo, onde um organismo vive √†s custas do outro.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '37) Qual animal abaixo N√ÉO √© um vertebrado?', options: ['Tubar√£o', 'Morcego', 'Pinguim', 'Estrela-do-mar'], answer: 'Estrela-do-mar', explanation: 'A estrela-do-mar √© um equinodermo, um filo de animais invertebrados.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '38) A Mata Atl√¢ntica √© um "hotspot" de biodiversidade. O que isso significa?', options: ['Que √© uma √°rea muito quente', 'Que √© uma √°rea com alta biodiversidade e muito amea√ßada de extin√ß√£o', 'Que √© uma √°rea com muitos vulc√µes', 'Que √© uma √°rea recentemente descoberta'], answer: 'Que √© uma √°rea com alta biodiversidade e muito amea√ßada de extin√ß√£o', explanation: 'Hotspots s√£o √°reas priorit√°rias para conserva√ß√£o no mundo todo.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '39) Qual foi a principal novidade evolutiva dos anel√≠deos em rela√ß√£o aos vermes anteriores?', options: ['A simetria bilateral', 'O sistema digest√≥rio completo', 'A segmenta√ß√£o corporal (metameria)', 'A aus√™ncia de corpo'], answer: 'A segmenta√ß√£o corporal (metameria)', explanation: 'A divis√£o do corpo em an√©is permitiu uma maior especializa√ß√£o e uma locomo√ß√£o mais eficiente.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '40) A rela√ß√£o entre duas hienas disputando a mesma carca√ßa √© um exemplo de:', options: ['Predatismo', 'Parasitismo', 'Competi√ß√£o intraespec√≠fica', 'Mutualismo'], answer: 'Competi√ß√£o intraespec√≠fica', explanation: '√â uma competi√ß√£o (-/-) entre indiv√≠duos da mesma esp√©cie ("intra") pelo mesmo recurso.'}
        ];

        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let isRandomOrder = false; 

        // DOM Elements for the quiz
        const questionInfoContainer = document.createElement('div');
        questionInfoContainer.className = 'flex justify-between items-center mb-2';
        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)]';
        const questionDifficulty = document.createElement('span');
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4 hidden';
        nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3 hidden';
        redoBtn.textContent='Refazer';

        quizContainer.appendChild(questionInfoContainer);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);
        
        orderToggleBtn.addEventListener('click', () => {
            isRandomOrder = !isRandomOrder; 
            orderToggleBtn.textContent = isRandomOrder ? 'Ordem Aleat√≥ria' : 'Ordem Crescente';
            startQuiz();
        });

        function switchView(view){
            if(view==='learn'){
                practiceSection.classList.add('hidden');
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
                btnPractice.classList.replace('btn-primary', 'btn-ghost');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                btnLearn.classList.replace('btn-primary', 'btn-ghost');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }

        btnLearn.addEventListener('click', () => switchView('learn'));
        btnPractice.addEventListener('click', () => switchView('practice'));

        function renderQuestionButtons(){
            questionButtons.innerHTML='';
            quizData.forEach((_,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                b.title = `Ir para a quest√£o ${originalIndex+1}`;
                b.onclick = ()=>{
                    const pos = questionOrder.indexOf(originalIndex);
                    if(pos >= 0){ currentIndex = pos; showQuestion(); }
                };
                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted && currentIndex < quizData.length) {
                    const currentQuestionOriginalIndex = questionOrder[currentIndex];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                questionButtons.appendChild(b);
            });
        }
        
        function startQuiz(){
            if (isRandomOrder) {
                shuffleArray(questionOrder);
            } else {
                questionOrder = quizData.map((_, i) => i);
            }
            currentIndex = 0;
            questionStatus.fill(null);
            showQuestion();
        }

        function showQuestion(){
            const finalResultsDiv = document.getElementById('final-results');
            if (finalResultsDiv) finalResultsDiv.remove();
            quizContainer.style.display = 'block';

            if (currentIndex >= quizData.length) {
                showFinalResults();
                return;
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionInfoContainer.classList.remove('hidden');
            questionTopic.textContent = qObj.topic;
            questionDifficulty.textContent = qObj.difficulty;
            questionDifficulty.className = `difficulty-badge difficulty-${qObj.difficulty.toLowerCase()}`;
            
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            redoBtn.classList.add('hidden');
            nextBtn.classList.add('hidden'); 
            
            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; 
                b.textContent=opt;
                b.onclick = ()=> selectAnswer(b, opt, qObj.answer, qObj.explanation, qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons();
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            
            quizContainer.style.display = 'none';

            let finalResultsDiv = document.createElement('div');
            finalResultsDiv.id = 'final-results';
            finalResultsDiv.className = 'text-center';
            practiceSection.appendChild(finalResultsDiv);

            finalResultsDiv.innerHTML = `
                <h2 class="text-2xl font-bold">üéâ Fim do Quiz! üéâ</h2>
                <p class="text-lg mt-4">Voc√™ acertou ${correctCount} de ${total} quest√µes.</p>
                <button id="restart-btn" class="btn-primary mt-6">Recome√ßar Quiz</button>
            `;
            
            document.getElementById('restart-btn').onclick = () => {
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=> {
                b.disabled=true;
                if(b.textContent === correct) {
                    b.classList.add('correct');
                }
            });
            nextBtn.classList.remove('hidden');

            if(opt===correct){
                btn.classList.add('celebrate');
                createConfetti();
                questionStatus[qIdx]='correct';
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> ${explanation || ''}`;
                redoBtn.classList.remove('hidden');
            }
            renderQuestionButtons();
        }

        nextBtn.addEventListener('click', ()=>{
            if(currentIndex < questionOrder.length-1){ 
                currentIndex++; 
                showQuestion(); 
            } else { 
                currentIndex++;
                showFinalResults();
            }
        });

        redoBtn.addEventListener('click', ()=>{
            const currentQuestionIndex = questionOrder[currentIndex];
            questionStatus[currentQuestionIndex] = null;
            showQuestion();
        });

        function shuffleArray(a){
            for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        }

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        switchView('learn');
    });
    </script>
</body>
</html>

