<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Prova CMF ‚Äì 1¬∫ Ano (Portugu√™s)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#071023; --card:#0b1624; --accent:#3b82f6; --muted:#97a6bf; --text:#e6eef8; --success:#34d399; --danger:#ef4444; --border:rgba(255,255,255,0.12); --muted-2: rgba(230,238,248,0.85);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(59,130,246,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; cursor:pointer; }
        #question-buttons button.current-question { background-color: rgba(59, 130, 246, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(96,165,250,0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        .theme-light{ --bg: #f8fafc; --card: #ffffff; --muted: #475569; --text: #0f1724; --accent: #0284c7; --success: #047857; --danger: #b91c1c; --border: rgba(15,23,42,0.1); --muted-2: rgba(15,23,36,0.85); }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(59, 130, 246, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Prova CMF ‚Äî 1¬∫ Ano: Portugu√™s</h1>
                    <p class="text-sm text-slate-400">Guia de estudos de Compreens√£o Textual e An√°lise Lingu√≠stica.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">Compreens√£o Textual</h2>
                            <p>Esta √°rea avalia sua capacidade de ler e entender o que os textos dizem, tanto de forma direta quanto nas entrelinhas.</p>

                            <h3 class="sub-topic-title">a) Textos Multimodais</h3>
                            <p>Um texto <span class="highlight">multimodal</span> √© aquele que usa mais de uma linguagem para construir sentido. Ele mistura palavras (linguagem verbal) com imagens, gr√°ficos, cores, sons, etc. (linguagem n√£o verbal). Ex: charges, tirinhas, infogr√°ficos, an√∫ncios publicit√°rios. Interpretar esses textos exige aten√ß√£o a todos os elementos e como eles se combinam.</p>

                            <h3 class="sub-topic-title">b) Finalidade de G√™neros Textuais</h3>
                            <p>Cada <span class="highlight">g√™nero textual</span> tem um prop√≥sito. Uma <span class="highlight">not√≠cia</span> quer informar, uma <span class="highlight">receita</span> quer instruir, uma <span class="highlight">propaganda</span> quer convencer, um <span class="highlight">poema</span> quer emocionar. Identificar a finalidade √© o primeiro passo para entender o texto.</p>

                            <h3 class="sub-topic-title">c) Informa√ß√µes Impl√≠citas</h3>
                            <p>S√£o ideias que n√£o est√£o escritas com todas as letras, mas que podem ser deduzidas a partir de pistas no texto. √â a arte de <span class="highlight">"ler nas entrelinhas"</span>. Se algu√©m diz "Que frio aqui!", a informa√ß√£o impl√≠cita pode ser um pedido para fechar a janela.</p>

                            <h3 class="sub-topic-title">d) Compara√ß√£o de Textos</h3>
                            <p>Um mesmo tema (ex: um jogo de futebol) pode ser contado de formas diferentes por dois jornais. Um pode focar na vit√≥ria de um time, outro na pol√™mica da arbitragem. Analisar essas diferen√ßas nos ajuda a perceber o <span class="highlight">ponto de vista</span> e a inten√ß√£o de cada autor.</p>
                            
                            <h3 class="sub-topic-title">e) Tese e Argumentos</h3>
                            <p>Em textos de opini√£o (artigos, resenhas), o autor defende uma ideia principal, chamada de <span class="highlight">tese</span>. Para provar que sua tese √© v√°lida, ele usa <span class="highlight">argumentos</span> (exemplos, dados, compara√ß√µes, cita√ß√µes). Identificar a tese e os argumentos √© fundamental para entender o objetivo do texto.</p>
                            
                            <h3 class="sub-topic-title">f) Ironia e Humor</h3>
                            <p>O <span class="highlight">humor</span> pode ser criado por situa√ß√µes inesperadas, quebras de expectativa ou exageros. A <span class="highlight">ironia</span> √© um tipo de humor mais fino, que consiste em dizer o contr√°rio do que se pensa, geralmente com um tom de cr√≠tica ou deboche.</p>

                            <h3 class="sub-topic-title">g) Escolha Lexical</h3>
                            <p>A escolha das palavras (l√©xico) nunca √© neutra. Dizer que algu√©m mora em um <span class="highlight">"barraco"</span>, <span class="highlight">"casa"</span> ou <span class="highlight">"mans√£o"</span> cria efeitos de sentido completamente diferentes. Analisar a escolha lexical ajuda a perceber o tom do texto e a inten√ß√£o do autor.</p>
                        </div>
                        
                        <div class="topic-section">
                             <h2 class="topic-title">An√°lise e Reflex√£o Lingu√≠stica</h2>
                             <p>Aqui, o foco √© a estrutura da l√≠ngua: como as palavras e frases se organizam para criar sentido.</p>

                             <h3 class="sub-topic-title">a) Denota√ß√£o e Conota√ß√£o</h3>
                             <p><span class="highlight">Denota√ß√£o</span> √© o sentido literal, de dicion√°rio, da palavra. Ex: "O <span class="highlight">cora√ß√£o</span> √© um √≥rg√£o vital". <span class="highlight">Conota√ß√£o</span> √© o sentido figurado, subjetivo. Ex: "Voc√™ √© o meu <span class="highlight">cora√ß√£o</span>".</p>

                             <h3 class="sub-topic-title">b) Figuras de Linguagem</h3>
                             <p>S√£o recursos que tornam a linguagem mais expressiva. As principais s√£o: <span class="highlight">Met√°fora</span> (compara√ß√£o impl√≠cita: "A vida √© uma nuvem"), <span class="highlight">Compara√ß√£o</span> (expl√≠cita: "A vida √© como uma nuvem"), <span class="highlight">Personifica√ß√£o</span> (dar vida a seres inanimados: "O vento beijava seus cabelos"), <span class="highlight">Hip√©rbole</span> (exagero: "Morri de rir").</p>

                             <h3 class="sub-topic-title">c) Rela√ß√µes Sem√¢nticas (Conectivos)</h3>
                             <p>S√£o as rela√ß√µes de sentido entre partes de um texto, marcadas por <span class="highlight">conjun√ß√µes e preposi√ß√µes</span> (marcadores argumentativos). Eles podem indicar causa (porque), consequ√™ncia (portanto), oposi√ß√£o (mas), adi√ß√£o (e), etc.</p>

                             <h3 class="sub-topic-title">d) Classes de Palavras</h3>
                             <p>As palavras se dividem em 10 classes (substantivo, adjetivo, verbo, etc.). √â importante saber que uma palavra pode <span class="highlight">mudar de classe</span> dependendo do contexto. Ex: "O <span class="highlight">jantar</span> est√° servido" (o verbo 'jantar' virou um substantivo).</p>

                             <h3 class="sub-topic-title">e) Coordena√ß√£o e Subordina√ß√£o</h3>
                             <p>S√£o as duas formas de ligar ora√ß√µes. Na <span class="highlight">coordena√ß√£o</span>, as ora√ß√µes s√£o independentes ("Estudei e passei"). Na <span class="highlight">subordina√ß√£o</span>, uma depende da outra ("Espero que voc√™ passe"). A escolha entre uma e outra afeta a argumenta√ß√£o e o ritmo do texto.</p>
                             
                             <h3 class="sub-topic-title">f) Vozes Verbais</h3>
                             <p><span class="highlight">Voz Ativa:</span> o sujeito pratica a a√ß√£o ("O aluno fez a prova"). <span class="highlight">Voz Passiva:</span> o sujeito sofre a a√ß√£o ("A prova foi feita pelo aluno"). Mudar a voz do verbo muda o foco da informa√ß√£o.</p>
                             
                             <h3 class="sub-topic-title">g) e h) Transforma√ß√µes Sint√°ticas</h3>
                             <p>Podemos expressar a mesma ideia com estruturas diferentes. Ex: "amor <span class="highlight">de m√£e</span>" (locu√ß√£o adjetiva) = "amor <span class="highlight">materno</span>" (adjetivo). "Dia <span class="highlight">de chuva</span>" (termo substantivo) = "dia <span class="highlight">chuvoso</span>" (termo adjetivo).</p>

                             <h3 class="sub-topic-title">i) Coes√£o (Pronominaliza√ß√£o e Substitui√ß√£o)</h3>
                             <p>Coes√£o √© a "costura" do texto. Para n√£o repetir palavras, usamos <span class="highlight">pronomes</span> ("Jo√£o chegou. Ele parecia feliz.") ou <span class="highlight">sin√¥nimos</span> ("O le√£o √© feroz. O rei da selva imp√µe respeito.").</p>

                             <h3 class="sub-topic-title">j) Reg√™ncia Verbal e Nominal</h3>
                             <p>√â a rela√ß√£o de depend√™ncia entre um verbo (verbal) ou nome (nominal) e seus complementos, geralmente por meio de uma <span class="highlight">preposi√ß√£o</span>. Ex: Quem assiste, assiste <span class="highlight">a</span> alguma coisa ("assistir <span class="highlight">ao</span> filme").</p>

                             <h3 class="sub-topic-title">k) Concord√¢ncia Verbal e Nominal</h3>
                             <p><span class="highlight">Concord√¢ncia verbal:</span> o verbo concorda com o sujeito ("<span class="highlight">N√≥s</span> estud<span class="highlight">amos</span>"). <span class="highlight">Concord√¢ncia nominal:</span> o artigo, adjetivo e pronome concordam com o substantivo ("<span class="highlight">As</span> alun<span class="highlight">as</span> estudios<span class="highlight">as</span>").</p>

                             <h3 class="sub-topic-title">l) Termos Sint√°ticos da Ora√ß√£o</h3>
                             <p>√â a fun√ß√£o que cada palavra ou grupo de palavras exerce na ora√ß√£o: <span class="highlight">Sujeito</span> (quem pratica/sofre a a√ß√£o), <span class="highlight">Predicado</span> (o que se declara sobre o sujeito), <span class="highlight">Objetos</span> (complementos do verbo), <span class="highlight">Adjuntos</span> (termos acess√≥rios que indicam circunst√¢ncias), etc.</p>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                     <div class="mb-4 flex justify-end">
                        <button id="order-toggle-btn" class="btn-ghost text-xs">Ordem Crescente</button>
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                        </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const orderToggleBtn = document.getElementById('order-toggle-btn');

        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer || !orderToggleBtn){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-port-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-port-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            // Compreens√£o Textual
            { topic: 'Compreens√£o Textual', q: '1) Uma charge que critica um pol√≠tico usando uma caricatura e um bal√£o de fala √© um exemplo de texto:', options: ['Verbal', 'N√£o verbal', 'Liter√°rio', 'Multimodal'], answer: 'Multimodal', explanation: 'Ela combina a linguagem verbal (texto no bal√£o) e a n√£o verbal (imagem, desenho) para construir o sentido.'},
            { topic: 'Compreens√£o Textual', q: '2) Qual a principal finalidade de um manual de instru√ß√µes?', options: ['Entreter', 'Informar', 'Instruir', 'Criticar'], answer: 'Instruir', explanation: 'Seu objetivo √© guiar o leitor a realizar uma tarefa passo a passo.'},
            { topic: 'Compreens√£o Textual', q: '3) Ao ler: "Jo√£o entrou em casa encharcado da cabe√ßa aos p√©s", qual informa√ß√£o est√° impl√≠cita?', options: ['Jo√£o gosta de √°gua', 'Est√° chovendo ou ele se molhou', 'Jo√£o comprou um guarda-chuva', 'A casa de Jo√£o √© grande'], answer: 'Est√° chovendo ou ele se molhou', explanation: 'O texto n√£o diz que chove, mas o estado de Jo√£o ("encharcado") nos permite deduzir isso.'},
            { topic: 'Compreens√£o Textual', q: '4) Um site de not√≠cias publica: "Time A massacra Time B". Um outro site publica: "Time A vence Time B com placar apertado". A diferen√ßa mostra:', options: ['Erro de informa√ß√£o', 'Diferentes pontos de vista', 'Textos multimodais', 'Uso de ironia'], answer: 'Diferentes pontos de vista', explanation: 'Cada ve√≠culo escolheu dar um enfoque diferente ao mesmo evento, alterando a percep√ß√£o do leitor.'},
            { topic: 'Compreens√£o Textual', q: '5) Em um artigo de opini√£o que defende o desmatamento zero, a frase "O desmatamento zero √© crucial para o futuro do planeta" representa:', options: ['Um argumento', 'Um exemplo', 'A tese', 'Uma informa√ß√£o impl√≠cita'], answer: 'A tese', explanation: '√â a ideia principal que o autor ir√° defender com argumentos ao longo do texto.'},
            { topic: 'Compreens√£o Textual', q: '6) A frase "Nossa, voc√™ √© t√£o pontual!" dita a algu√©m que chegou com duas horas de atraso √© um exemplo de:', options: ['Humor', 'Ironia', 'Tese', 'Escolha lexical'], answer: 'Ironia', explanation: 'A ironia consiste em dizer exatamente o contr√°rio do que se quer expressar, geralmente para criticar.'},
            { topic: 'Compreens√£o Textual', q: '7) A escolha da palavra "devorou" em vez de "comeu" na frase "Ele devorou o sandu√≠che" sugere que ele comeu:', options: ['Com nojo', 'Lentamente', 'Com muita fome e rapidez', 'Com educa√ß√£o'], answer: 'Com muita fome e rapidez', explanation: 'A escolha lexical de "devorou" intensifica o sentido da a√ß√£o, adicionando uma ideia de voracidade.'},

            // An√°lise Lingu√≠stica
            { topic: 'An√°lise Lingu√≠stica', q: '8) Na frase "Aquele pol√≠tico √© uma raposa", a palavra "raposa" est√° em sentido:', options: ['Denotativo', 'Literal', 'Conotativo', 'T√©cnico'], answer: 'Conotativo', explanation: '"Raposa" aqui n√£o se refere ao animal, mas √† caracter√≠stica de ast√∫cia associada a ele (sentido figurado).'},
            { topic: 'An√°lise Lingu√≠stica', q: '9) "Seus olhos s√£o duas estrelas brilhantes" √© um exemplo de qual figura de linguagem?', options: ['Hip√©rbole', 'Personifica√ß√£o', 'Met√°fora', 'Compara√ß√£o'], answer: 'Met√°fora', explanation: '√â uma compara√ß√£o impl√≠cita, sem o uso de conectivos como "como" ou "tal qual".'},
            { topic: 'An√°lise Lingu√≠stica', q: '10) Na frase "Estudei muito, portanto, mere√ßo uma boa nota", o conectivo "portanto" estabelece uma rela√ß√£o de:', options: ['Oposi√ß√£o', 'Adi√ß√£o', 'Explica√ß√£o', 'Conclus√£o'], answer: 'Conclus√£o', explanation: 'Ele conecta a causa (estudar muito) com sua consequ√™ncia l√≥gica (merecer a nota).'},
            { topic: 'An√°lise Lingu√≠stica', q: '11) Em "O saber n√£o ocupa espa√ßo", a palavra "saber" (que originalmente √© um verbo) est√° funcionando como:', options: ['Adjetivo', 'Adv√©rbio', 'Substantivo', 'Pronome'], answer: 'Substantivo', explanation: 'O artigo "O" antes de "saber" transforma o verbo em um substantivo (substantiva√ß√£o).'},
            { topic: 'An√°lise Lingu√≠stica', q: '12) "Ele saiu de casa e foi ao mercado." Este per√≠odo √© composto por:', options: ['Subordina√ß√£o', 'Coordena√ß√£o', 'Voz passiva', 'Reg√™ncia nominal'], answer: 'Coordena√ß√£o', explanation: 'S√£o duas ora√ß√µes independentes ("ele saiu" e "foi ao mercado") ligadas pela conjun√ß√£o aditiva "e".'},
            { topic: 'An√°lise Lingu√≠stica', q: '13) Qual √© a forma na voz passiva da frase "Os alunos leram o livro"?', options: ['O livro leu os alunos', 'Os alunos foram lidos pelo livro', 'O livro foi lido pelos alunos', 'Leram o livro os alunos'], answer: 'O livro foi lido pelos alunos', explanation: 'O objeto ("o livro") torna-se o sujeito da a√ß√£o, e o sujeito original ("os alunos") vira o agente da passiva.'},
            { topic: 'An√°lise Lingu√≠stica', q: '14) A express√£o "atitude de anjo" pode ser substitu√≠da, sem mudar o sentido, por:', options: ['Atitude angelical', 'Atitude anja', 'Atitude anjelical', 'Atitude de anjos'], answer: 'Atitude angelical', explanation: 'A locu√ß√£o adjetiva "de anjo" equivale ao adjetivo "angelical".'},
            { topic: 'An√°lise Lingu√≠stica', q: '15) Em "As luzes da cidade brilhavam", a express√£o "da cidade" pode ser reescrita como:', options: ['As luzes cidade', 'As luzes citadinas', 'As luzes urbanas', 'As luzes da cidadania'], answer: 'As luzes urbanas', explanation: '"Da cidade" √© uma locu√ß√£o adjetiva que pode ser trocada pelo adjetivo correspondente "urbanas".'},
            { topic: 'An√°lise Lingu√≠stica', q: '16) Na frase "O diretor convocou os professores. Ele queria dar um aviso.", o pronome "Ele" serve para:', options: ['Gerar ambiguidade', 'Evitar a repeti√ß√£o da palavra "diretor"', 'Iniciar uma nova ideia', 'Dar √™nfase ao diretor'], answer: 'Evitar a repeti√ß√£o da palavra "diretor"', explanation: '√â um mecanismo de coes√£o por pronominaliza√ß√£o, tornando o texto mais fluido.'},
            { topic: 'An√°lise Lingu√≠stica', q: '17) Qual frase apresenta um erro de reg√™ncia verbal?', options: ['Eu assisti ao jogo ontem.', 'Ele prefere sorvete do que a√ßa√≠.', 'Obede√ßa aos seus pais.', 'Lembrei-me do compromisso.'], answer: 'Ele prefere sorvete do que a√ßa√≠.', explanation: 'O verbo "preferir" rege a preposi√ß√£o "a": "Ele prefere sorvete a a√ßa√≠".'},
            { topic: 'An√°lise Lingu√≠stica', q: '18) Qual frase apresenta um erro de concord√¢ncia verbal?', options: ['Fazem dois anos que n√£o o vejo.', 'Havia muitos problemas na cidade.', 'Eu e tu iremos ao cinema.', 'A multid√£o aplaudiu o artista.'], answer: 'Fazem dois anos que n√£o o vejo.', explanation: 'O verbo "fazer" indicando tempo √© impessoal, devendo ficar no singular: "Faz dois anos...".'},
            { topic: 'An√°lise Lingu√≠stica', q: '19) Na ora√ß√£o "A professora entregou o teste para os alunos", qual √© o objeto direto?', options: ['A professora', 'o teste', 'para os alunos', 'entregou'], answer: 'o teste', explanation: '√â o complemento do verbo "entregou" que n√£o exige preposi√ß√£o (quem entrega, entrega ALGO).'},
            { topic: 'An√°lise Lingu√≠stica', q: '20) Em "O jovem inteligente passou no concurso", a palavra "inteligente" funciona sintaticamente como:', options: ['Sujeito', 'Objeto direto', 'Adjunto adnominal', 'Predicativo do sujeito'], answer: 'Adjunto adnominal', explanation: '√â um termo que acompanha o substantivo "jovem", caracterizando-o diretamente dentro do sujeito.'},

             // Rodada de Revis√£o
            { topic: 'Revis√£o Geral', q: '21) A frase "Nossos guerreiros lutaram como le√µes" cont√©m qual figura de linguagem?', options: ['Met√°fora', 'Hip√©rbole', 'Personifica√ß√£o', 'Compara√ß√£o'], answer: 'Compara√ß√£o', explanation: 'A presen√ßa do conectivo "como" torna a compara√ß√£o expl√≠cita.'},
            { topic: 'Revis√£o Geral', q: '22) "Choveu muito, por isso as ruas alagaram". O conectivo "por isso" indica:', options: ['Causa', 'Condi√ß√£o', 'Conclus√£o/Consequ√™ncia', 'Oposi√ß√£o'], answer: 'Conclus√£o/Consequ√™ncia', explanation: 'Mostra o resultado do fato expresso na primeira ora√ß√£o.'},
            { topic: 'Revis√£o Geral', q: '23) A frase "Vende-se casa" est√° na voz:', options: ['Ativa', 'Passiva sint√©tica', 'Passiva anal√≠tica', 'Reflexiva'], answer: 'Passiva sint√©tica', explanation: '√â formada pelo verbo na 3¬™ pessoa + pronome "se" (part√≠cula apassivadora). Equivale a "Casa √© vendida".'},
            { topic: 'Revis√£o Geral', q: '24) Qual frase est√° com a concord√¢ncia nominal correta?', options: ['√â proibido entrada de estranhos.', 'A porta estava meia aberta.', 'Compramos bastantes livros.', 'Ela mesmo consertou o carro.'], answer: 'Compramos bastantes livros.', explanation: '"Bastantes" aqui √© um pronome indefinido vari√°vel, concordando com "livros". As outras seriam: "√â proibida a entrada...", "...meio aberta", "...ela mesma...".'},
            { topic: 'Revis√£o Geral', q: '25) Em "Espero que voc√™ estude", a segunda ora√ß√£o √© subordinada porque:', options: ['√â independente da primeira', 'Completa o sentido do verbo "espero"', 'N√£o tem verbo', 'Come√ßa com "que"'], answer: 'Completa o sentido do verbo "espero"', explanation: 'Ela funciona como objeto direto do verbo "esperar", sendo sintaticamente dependente.'},
            { topic: 'Revis√£o Geral', q: '26) Identifique a finalidade do g√™nero "carta do leitor" em um jornal.', options: ['Vender um produto', 'Contar uma piada', 'Opinar sobre uma mat√©ria publicada', 'Ensinar uma receita'], answer: 'Opinar sobre uma mat√©ria publicada', explanation: '√â um g√™nero argumentativo que permite a intera√ß√£o do leitor com o ve√≠culo de comunica√ß√£o.'},
            { topic: 'Revis√£o Geral', q: '27) "Meu pensamento √© um rio subterr√¢neo." A palavra "rio" est√° em sentido:', options: ['Conotativo', 'Denotativo', 'Literal', 'T√©cnico'], answer: 'Conotativo', explanation: 'O pensamento n√£o √© um rio de verdade; a palavra √© usada de forma figurada para expressar fluidez e profundidade.'},
            { topic: 'Revis√£o Geral', q: '28) "Cheguei, sentei, esperei." √© um per√≠odo composto por ora√ß√µes:', options: ['Subordinadas', 'Coordenadas assind√©ticas', 'Coordenadas sind√©ticas', 'Sem sujeito'], answer: 'Coordenadas assind√©ticas', explanation: 'S√£o ora√ß√µes independentes que n√£o est√£o ligadas por conjun√ß√£o, apenas por v√≠rgula.'},
            { topic: 'Revis√£o Geral', q: '29) Na frase "Tenho necessidade de carinho", a express√£o "de carinho" tem fun√ß√£o de:', options: ['Objeto direto', 'Complemento nominal', 'Adjunto adnominal', 'Objeto indireto'], answer: 'Complemento nominal', explanation: 'Completa o sentido do substantivo abstrato "necessidade", com aux√≠lio de preposi√ß√£o.'},
            { topic: 'Revis√£o Geral', q: '30) A palavra "infelizmente" expressa uma circunst√¢ncia de modo e pertence √† classe dos:', options: ['Adjetivos', 'Substantivos', 'Adv√©rbios', 'Verbos'], answer: 'Adv√©rbios', explanation: 'Adv√©rbios modificam verbos, adjetivos ou outros adv√©rbios, indicando circunst√¢ncias.'},
            { topic: 'Revis√£o Geral', q: '31) "As not√≠cias falsas foram espalhadas pelos rob√¥s." O termo "pelos rob√¥s" √©:', options: ['Sujeito', 'Objeto direto', 'Agente da passiva', 'Adjunto adverbial'], answer: 'Agente da passiva', explanation: 'Na voz passiva, √© o termo que pratica a a√ß√£o expressa pelo verbo.'},
            { topic: 'Revis√£o Geral', q: '32) Em "O Brasil, nosso pa√≠s, √© maravilhoso", o termo "nosso pa√≠s" funciona como:', options: ['Aposto', 'Vocativo', 'Predicativo', 'Sujeito'], answer: 'Aposto', explanation: '√â um termo que explica ou especifica um outro termo de valor substantivo (neste caso, "Brasil").'},
            { topic: 'Revis√£o Geral', q: '33) Qual das frases cont√©m um erro de reg√™ncia nominal?', options: ['Ele √© perito em inform√°tica.', 'Tenho avers√£o por mentiras.', 'Estou apto para o trabalho.', 'Ela √© √°vida de conhecimento.'], answer: 'Tenho avers√£o por mentiras.', explanation: 'O nome "avers√£o" rege a preposi√ß√£o "a". O correto √©: "Tenho avers√£o a mentiras".'},
            { topic: 'Revis√£o Geral', q: '34) "O sucesso depende do esfor√ßo." O termo "do esfor√ßo" √©:', options: ['Objeto direto', 'Objeto indireto', 'Sujeito', 'Complemento nominal'], answer: 'Objeto indireto', explanation: '√â o complemento do verbo transitivo indireto "depender", regido pela preposi√ß√£o "de".'},
            { topic: 'Revis√£o Geral', q: '35) O humor em uma tirinha geralmente √© constru√≠do no √∫ltimo quadrinho atrav√©s de uma:', options: ['Explica√ß√£o l√≥gica', 'Quebra de expectativa', 'Informa√ß√£o cient√≠fica', 'Concord√¢ncia verbal'], answer: 'Quebra de expectativa', explanation: 'A gra√ßa surge quando o desfecho da hist√≥ria √© diferente do que o leitor estava esperando.'},
            { topic: 'Revis√£o Geral', q: '36) Qual das seguintes palavras √© usada para evitar a repeti√ß√£o de "a menina" na frase "A menina chegou. ____ estava feliz."?', options: ['Ele', 'Ela', 'N√≥s', 'Onde'], answer: 'Ela', explanation: 'O pronome pessoal "ela" retoma o substantivo "menina", garantindo a coes√£o textual.'},
            { topic: 'Revis√£o Geral', q: '37) "A vida ensina, mas o tempo cobra." A conjun√ß√£o "mas" indica:', options: ['Adi√ß√£o', 'Oposi√ß√£o', 'Conclus√£o', 'Altern√¢ncia'], answer: 'Oposi√ß√£o', explanation: 'Ela conecta duas ideias contrastantes entre si.'},
            { topic: 'Revis√£o Geral', q: '38) Qual o sujeito da ora√ß√£o "Choveu muito em Fortaleza"?', options: ['Fortaleza', 'muito', 'chuva', 'Ora√ß√£o sem sujeito'], answer: 'Ora√ß√£o sem sujeito', explanation: 'Verbos que indicam fen√¥menos da natureza, como "chover", n√£o possuem sujeito.'},
            { topic: 'Revis√£o Geral', q: '39) "Estou morrendo de sede!" √© um exemplo de:', options: ['Met√°fora', 'Eufemismo', 'Hip√©rbole', 'Ironia'], answer: 'Hip√©rbole', explanation: '√â uma figura de linguagem que usa o exagero para dar √™nfase √† ideia de estar com muita sede.'},
            { topic: 'Revis√£o Geral', q: '40) A frase "Garoto, preste aten√ß√£o!" tem qual fun√ß√£o da linguagem como predominante?', options: ['Emotiva', 'F√°tica', 'Apelativa', 'Referencial'], answer: 'Apelativa', explanation: 'O uso do vocativo ("Garoto") e do verbo no imperativo ("preste") foca no receptor para influenci√°-lo.'}
        ];

        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let isRandomOrder = false; 

        orderToggleBtn.addEventListener('click', () => {
            isRandomOrder = !isRandomOrder; 
            orderToggleBtn.textContent = isRandomOrder ? 'Ordem Aleat√≥ria' : 'Ordem Crescente';
            startQuiz();
        });

        function switchView(view){
            if(view==='learn'){
                practiceSection.classList.add('hidden');
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
                btnPractice.classList.replace('btn-primary', 'btn-ghost');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                btnLearn.classList.replace('btn-primary', 'btn-ghost');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }

        btnLearn.addEventListener('click', () => switchView('learn'));
        btnPractice.addEventListener('click', () => switchView('practice'));

        function renderQuestionButtons(){
            questionButtons.innerHTML='';
            quizData.forEach((_,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                b.title = `Ir para a quest√£o ${originalIndex+1}`;
                b.onclick = ()=>{
                    const pos = questionOrder.indexOf(originalIndex);
                    if(pos >= 0){ currentIndex = pos; showQuestion(); }
                };
                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted) {
                    const currentQuestionOriginalIndex = questionOrder[currentIndex];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                questionButtons.appendChild(b);
            });
        }

        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)] mb-2';
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4'; nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3'; redoBtn.textContent='Refazer';

        quizContainer.appendChild(questionTopic);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);

        function startQuiz(){
            if (isRandomOrder) {
                shuffleArray(questionOrder);
            } else {
                questionOrder = quizData.map((_, i) => i);
            }
            currentIndex = 0;
            questionStatus.fill(null);
            showQuestion();
        }

        function showQuestion(){
            if (currentIndex >= questionOrder.length) {
                showFinalResults();
                return;
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionTopic.textContent = qObj.topic;
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            redoBtn.classList.add('hidden');
            nextBtn.disabled = true;

            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; b.textContent=opt;
                b.onclick = ()=> selectAnswer(b,opt,qObj.answer,qObj.explanation,qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons();
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            questionTopic.textContent = '';
            questionText.innerHTML = `üéâ Fim do Quiz! üéâ`;
            optionsContainer.innerHTML = `<p class="text-center text-lg">Voc√™ acertou ${correctCount} de ${total} quest√µes.</p>`;
            feedbackContainer.innerHTML = '';
            nextBtn.textContent = 'Recome√ßar Quiz';
            nextBtn.disabled = false;
            nextBtn.onclick = () => {
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
            redoBtn.classList.add('hidden');
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=>b.disabled=true);
            nextBtn.disabled = false;

            if(opt===correct){
                btn.classList.add('celebrate','correct');
                createConfetti();
                questionStatus[qIdx]='correct';
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> Resposta correta: <strong>${correct}</strong>.`;
                if(explanation) feedbackContainer.innerHTML += `<div class="mt-2 text-sm">${explanation}</div>`;
                
                Array.from(optionsContainer.children).forEach(b=>{
                    if(b.textContent === correct) b.classList.add('correct');
                });
                redoBtn.classList.remove('hidden');
            }
            renderQuestionButtons();
        }

        nextBtn.addEventListener('click', ()=>{
            if(currentIndex < questionOrder.length-1){ 
                currentIndex++; 
                showQuestion(); 
            } else { 
                currentIndex++;
                showFinalResults();
            }
        });

        redoBtn.addEventListener('click', ()=>{
            const currentQuestionIndex = questionOrder[currentIndex];
            questionStatus[currentQuestionIndex] = null;
            showQuestion();
        });

        function shuffleArray(a){
            for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        }

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        switchView('learn');
    });
    </script>
</body>
</html>
