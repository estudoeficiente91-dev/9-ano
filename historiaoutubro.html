<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Hist√≥ria ‚Äì 7¬∫ Ano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#071023; --card:#0b1624; --accent:#3b82f6; --muted:#97a6bf; --text:#e6eef8; --success:#34d399; --danger:#ef4444; --border:rgba(255,255,255,0.12); --muted-2: rgba(230,238,248,0.85);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(59,130,246,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; cursor:pointer; }
        #question-buttons button.current-question { background-color: rgba(59, 130, 246, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(96,165,250,0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        .theme-light{ --bg: #f8fafc; --card: #ffffff; --muted: #475569; --text: #0f1724; --accent: #0284c7; --success: #047857; --danger: #b91c1c; --border: rgba(15,23,42,0.1); --muted-2: rgba(15,23,36,0.85); }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(59, 130, 246, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
        .difficulty-badge { padding: 0.1rem 0.6rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .difficulty-facil { background-color: rgba(52, 211, 153, 0.2); color: #6ee7b7; }
        .difficulty-medio { background-color: rgba(250, 204, 21, 0.2); color: #facc15; }
        .difficulty-dificil { background-color: rgba(248, 113, 113, 0.2); color: #f87171; }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Hist√≥ria ‚Äî 7¬∫ Ano</h1>
                    <p class="text-sm text-slate-400">Guia de estudos sobre a Escravid√£o Africana no Brasil e nas Am√©ricas.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">TEMA 3: A Escravid√£o Africana no Brasil</h2>
                            <h3 class="sub-topic-title">Os Africanos Trazidos para o Brasil</h3>
                            <p>O Brasil foi o pa√≠s que mais recebeu africanos escravizados no mundo. Eles n√£o eram um povo √∫nico, mas vinham de diversas regi√µes, etnias e culturas. A maioria era origin√°ria de duas grandes √°reas: a <span class="highlight">√Åfrica Centro-Ocidental</span> (regi√£o dos atuais Angola e Congo, de povos Bantos) e a <span class="highlight">Costa da Mina</span>, na √Åfrica Ocidental (regi√£o dos atuais Nig√©ria e Benim, de povos como os Iorub√°s e Jejes).</p>

                            <h3 class="sub-topic-title">Escravid√£o e Resist√™ncia no Brasil</h3>
                            <p>A escravid√£o foi a base da economia e da sociedade brasileira por mais de 300 anos. No entanto, ela nunca foi aceita passivamente. A resist√™ncia foi constante e se manifestou de v√°rias formas:</p>
                            <ul>
                                <li><strong>Resist√™ncia Ativa:</strong> A forma mais direta de luta. Inclu√≠a <span class="highlight">revoltas</span> (como a Revolta dos Mal√™s), <span class="highlight">ataques</span> a feitores e as <span class="highlight">fugas</span>, que levavam √† forma√ß√£o dos <span class="highlight">quilombos</span>, comunidades de escravizados fugidos que se tornaram s√≠mbolos de liberdade e resist√™ncia.</li>
                                <li><strong>Resist√™ncia Cotidiana:</strong> A√ß√µes do dia a dia, como a <span class="highlight">sabotagem</span> de ferramentas, a lentid√£o proposital no trabalho, o suic√≠dio e o controle da natalidade.</li>
                                <li><strong>Resist√™ncia Cultural:</strong> A preserva√ß√£o de suas culturas, religi√µes e costumes foi uma poderosa forma de luta. A <span class="highlight">capoeira</span>, uma mistura de luta e dan√ßa, √© um dos maiores s√≠mbolos. Ela permitia o treinamento corporal para a defesa enquanto era disfar√ßada de uma atividade de lazer, mantendo a sociabilidade e a identidade cultural.</li>
                            </ul>
                        </div>
                        
                        <div class="topic-section">
                            <h2 class="topic-title">TEMA 4: A Escravid√£o no Caribe e nos Estados Unidos</h2>
                             <h3 class="sub-topic-title">A Conquista Europeia do Caribe</h3>
                             <p>As ilhas do Caribe foram uma das primeiras √°reas a serem colonizadas e tiveram suas popula√ß√µes nativas dizimadas rapidamente. A economia se baseou na <span class="highlight">plantation de cana-de-a√ß√∫car</span>, um sistema brutal com alt√≠ssimas taxas de mortalidade, o que exigia um fluxo cont√≠nuo de africanos escravizados para repor a m√£o de obra.</p>

                             <h3 class="sub-topic-title">A Escravid√£o nos Estados Unidos</h3>
                             <p>A escravid√£o nos EUA tamb√©m foi fundamental, principalmente nas col√¥nias do sul, com as planta√ß√µes de algod√£o e tabaco. Uma diferen√ßa importante em rela√ß√£o ao Brasil √© que a popula√ß√£o escravizada nos EUA teve um <span class="highlight">crescimento natural</span> (mais nascimentos do que mortes), enquanto no Brasil, a alt√≠ssima mortalidade tornava a reposi√ß√£o pelo tr√°fico negreiro constante e essencial.</p>

                             <h3 class="sub-topic-title">A Resist√™ncia √† Escravid√£o</h3>
                             <p>Assim como no Brasil, a resist√™ncia nos EUA tamb√©m foi marcada por revoltas e fugas. A mais famosa rede de fuga foi a <span class="highlight">"Underground Railroad"</span> (Estrada de Ferro Subterr√¢nea), uma rede secreta de rotas e abrigos seguros que ajudava os escravizados a fugir dos estados do sul para os estados livres do norte ou para o Canad√°.</p>
                             <p>A cultura afro-americana tamb√©m √© uma forma de resist√™ncia. As ra√≠zes de g√™neros musicais como o <span class="highlight">Blues, o Jazz e o Gospel</span> est√£o nos cantos de trabalho e nas express√µes religiosas dos escravizados nas planta√ß√µes do sul dos EUA.</p>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                     <div class="mb-4 flex justify-end">
                        <button id="order-toggle-btn" class="btn-ghost text-xs">Ordem Crescente</button>
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const orderToggleBtn = document.getElementById('order-toggle-btn');

        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer || !orderToggleBtn){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-history-7ano-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-history-7ano-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            { topic: 'Origem dos Escravizados', difficulty: 'F√°cil', q: '1) A maioria dos africanos trazidos para o Brasil vinha de quais grandes regi√µes?', options: ['Norte da √Åfrica e Egito', '√Åfrica do Sul e Madagascar', '√Åfrica Centro-Ocidental e Costa da Mina', 'Eti√≥pia e Som√°lia'], answer: '√Åfrica Centro-Ocidental e Costa da Mina', explanation: 'Essas duas √°reas, correspondentes a Angola, Congo, Nig√©ria, etc., foram os principais pontos de partida do tr√°fico para o Brasil.'},
            { topic: 'Origem dos Escravizados', difficulty: 'M√©dio', q: '2) A chegada de povos como Bantos e Iorub√°s ao Brasil significa que a popula√ß√£o escravizada era:', options: ['Culturalmente homog√™nea', 'Culturalmente diversa, com muitas l√≠nguas e religi√µes', 'Toda da mesma tribo', 'Composta apenas por homens'], answer: 'Culturalmente diversa, com muitas l√≠nguas e religi√µes', explanation: 'A √Åfrica √© um continente diverso, e os escravizados trouxeram consigo uma enorme riqueza cultural.'},
            { topic: 'Resist√™ncia no Brasil', difficulty: 'F√°cil', q: '3) O que eram os quilombos?', options: ['Mercados de escravos', 'Navios negreiros', 'Comunidades de escravizados fugidos', 'Fazendas de caf√©'], answer: 'Comunidades de escravizados fugidos', explanation: 'Os quilombos eram os principais s√≠mbolos de resist√™ncia ativa, representando a busca pela liberdade.'},
            { topic: 'Resist√™ncia no Brasil', difficulty: 'F√°cil', q: '4) Qual o nome do quilombo mais famoso do Brasil e quem foi seu √∫ltimo grande l√≠der?', options: ['Quilombo do Leblon, com Zez√© Motta', 'Quilombo da Cuca, com Saci Perer√™', 'Quilombo dos Palmares, com Zumbi', 'Quilombo do Jabaquara, com Pel√©'], answer: 'Quilombo dos Palmares, com Zumbi', explanation: 'Palmares foi o maior quilombo da hist√≥ria do Brasil, e Zumbi seu l√≠der mais conhecido, um √≠cone da resist√™ncia.'},
            { topic: 'Resist√™ncia no Brasil', difficulty: 'M√©dio', q: '5) Trabalhar lentamente de prop√≥sito ou quebrar ferramentas eram formas de:', options: ['Resist√™ncia passiva ou cotidiana', 'Revolta armada', 'Alian√ßa com os senhores', 'Adapta√ß√£o ao trabalho'], answer: 'Resist√™ncia passiva ou cotidiana', explanation: 'Eram a√ß√µes do dia a dia que, sem confronto direto, prejudicavam a produ√ß√£o e o lucro do senhor.'},
            { topic: 'Capoeira', difficulty: 'M√©dio', q: '6) Por que a capoeira √© considerada uma forma de resist√™ncia?', options: ['Porque era apenas uma dan√ßa para relaxar', 'Porque era uma luta disfar√ßada de dan√ßa, para treino e defesa', 'Porque era ensinada pelos feitores para disciplinar', 'Porque era uma competi√ß√£o esportiva com pr√™mios'], answer: 'Porque era uma luta disfar√ßada de dan√ßa, para treino e defesa', explanation: 'A capoeira permitia a manuten√ß√£o da cultura e o treinamento do corpo para a autodefesa de uma forma que n√£o era percebida como amea√ßa direta pelos senhores.'},
            { topic: 'Capoeira', difficulty: 'F√°cil', q: '7) Al√©m de luta, a capoeira tamb√©m √© uma express√£o de:', options: ['Sociabilidade e cultura', 'Tristeza e solid√£o', 'Obedi√™ncia e submiss√£o', 'Com√©rcio e lucro'], answer: 'Sociabilidade e cultura', explanation: 'A roda de capoeira, com seus cantos e instrumentos, era um momento de uni√£o, socializa√ß√£o e manuten√ß√£o das tradi√ß√µes africanas.'},
            { topic: 'Escravid√£o no Caribe', difficulty: 'F√°cil', q: '8) Qual atividade econ√¥mica dominou a coloniza√ß√£o europeia do Caribe, usando m√£o de obra escrava intensiva?', options: ['Minera√ß√£o de ouro', 'Planta√ß√£o de cana-de-a√ß√∫car', 'Cria√ß√£o de gado', 'Extra√ß√£o de borracha'], answer: 'Planta√ß√£o de cana-de-a√ß√∫car', explanation: 'O sistema de plantation de a√ß√∫car foi a base da economia em muitas ilhas caribenhas, como Cuba e Haiti.'},
            { topic: 'Escravid√£o no Caribe', difficulty: 'M√©dio', q: '9) A alta mortalidade de escravos nos engenhos do Caribe levou a:', options: ['Um grande crescimento natural da popula√ß√£o escravizada', 'Uma necessidade constante de reposi√ß√£o de m√£o de obra pelo tr√°fico', 'Ao fim r√°pido da escravid√£o na regi√£o', '√Ä substitui√ß√£o por trabalhadores livres'], answer: 'Uma necessidade constante de reposi√ß√£o de m√£o de obra pelo tr√°fico', explanation: 'As condi√ß√µes de trabalho eram t√£o brutais que a popula√ß√£o escravizada n√£o conseguia se reproduzir em n√∫mero suficiente para se manter.'},
            { topic: 'Escravid√£o nos EUA', difficulty: 'M√©dio', q: '10) Uma diferen√ßa fundamental da escravid√£o nos EUA em compara√ß√£o ao Brasil foi:', options: ['A aus√™ncia total de resist√™ncia', 'A depend√™ncia exclusiva do tr√°fico at√© o final do s√©culo XIX', 'O maior crescimento natural da popula√ß√£o escravizada', 'O uso de escravos apenas em f√°bricas'], answer: 'O maior crescimento natural da popula√ß√£o escravizada', explanation: 'Nos EUA, a popula√ß√£o escravizada cresceu por si s√≥ (mais nascimentos que mortes), enquanto o Brasil dependeu massivamente do tr√°fico cont√≠nuo.'},
            { topic: 'Resist√™ncia nos EUA', difficulty: 'F√°cil', q: '11) O que foi a "Underground Railroad"?', options: ['A primeira linha de metr√¥ dos EUA', 'Um trem que transportava escravos do sul para o norte', 'Uma rede secreta de rotas de fuga para escravos', 'Uma empresa de ferrovias constru√≠da por escravos'], answer: 'Uma rede secreta de rotas de fuga para escravos', explanation: 'Era um sistema clandestino de pessoas e locais que ajudavam os escravizados a fugir para a liberdade.'},
            { topic: 'Resist√™ncia nos EUA', difficulty: 'M√©dio', q: '12) Qual figura hist√≥rica √© mais associada √† "Underground Railroad"?', options: ['Abraham Lincoln', 'Martin Luther King Jr.', 'Zumbi dos Palmares', 'Harriet Tubman'], answer: 'Harriet Tubman', explanation: 'Harriet Tubman foi uma ex-escravizada que se tornou uma das "condutoras" mais famosas, arriscando a vida para guiar outros √† liberdade.'},
            { topic: 'Cultura Afro-americana', difficulty: 'F√°cil', q: '13) G√™neros musicais como o Blues e o Jazz t√™m suas ra√≠zes mais profundas:', options: ['Na m√∫sica cl√°ssica europeia', 'Nos cantos de trabalho e religiosos dos escravizados nos EUA', 'Na m√∫sica ind√≠gena brasileira', 'No rock brit√¢nico'], answer: 'Nos cantos de trabalho e religiosos dos escravizados nos EUA', explanation: 'Esses g√™neros nasceram da express√£o cultural e da resili√™ncia dos africanos e seus descendentes em meio √† opress√£o.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '14) O que eram os navios negreiros, tamb√©m conhecidos como "tumbeiros"?', options: ['Navios que traziam imigrantes europeus', 'Embarca√ß√µes que transportavam os africanos em condi√ß√µes desumanas para a Am√©rica', 'Navios que levavam a√ß√∫car para a Europa', 'Barcos usados para fugas de escravos'], answer: 'Embarca√ß√µes que transportavam os africanos em condi√ß√µes desumanas para a Am√©rica', explanation: 'Eram chamados de "tumbeiros" (tumbas flutuantes) por causa da alt√≠ssima taxa de mortalidade durante a travessia do Atl√¢ntico.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '15) Qual alternativa cont√©m apenas formas de resist√™ncia √† escravid√£o?', options: ['Trabalho for√ßado, castigos, senzala', 'Capitania heredit√°ria, Governo-geral, Pacto Colonial', 'Fugas, quilombos, capoeira, sabotagem', 'Escambo, feitorias, tr√°fico'], answer: 'Fugas, quilombos, capoeira, sabotagem', explanation: 'Todas as op√ß√µes nesta alternativa representam diferentes maneiras pelas quais os escravizados lutaram contra o sistema.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '16) Por que a exist√™ncia de um museu nacional da escravid√£o no Brasil √© um tema debatido?', options: ['Porque j√° existem muitos museus sobre o tema', 'Porque a escravid√£o foi um evento pequeno e pouco importante', 'Porque o Brasil tem dificuldade em confrontar as feridas e o legado da escravid√£o', 'Porque n√£o h√° documentos hist√≥ricos sobre o per√≠odo'], answer: 'Porque o Brasil tem dificuldade em confrontar as feridas e o legado da escravid√£o', explanation: 'Um museu nacional for√ßaria a sociedade a encarar a centralidade e a brutalidade da escravid√£o na forma√ß√£o do pa√≠s, algo que muitas vezes √© minimizado.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '17) A principal atividade econ√¥mica no Brasil que consolidou o uso em larga escala da m√£o de obra africana foi:', options: ['A extra√ß√£o de pau-brasil', 'A produ√ß√£o de a√ß√∫car', 'A minera√ß√£o de ouro', 'O cultivo de caf√©'], answer: 'A produ√ß√£o de a√ß√∫car', explanation: 'Os engenhos de a√ß√∫car no Nordeste foram os grandes impulsionadores do tr√°fico negreiro no in√≠cio da coloniza√ß√£o.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '18) O que significa dizer que na escravid√£o moderna a pessoa era "coisificada"?', options: ['Que ela era tratada com muito carinho', 'Que ela era considerada uma mercadoria, uma propriedade que podia ser comprada e vendida', 'Que ela tinha os mesmos direitos que os colonos', 'Que ela trabalhava em troca de um sal√°rio'], answer: 'Que ela era considerada uma mercadoria, uma propriedade que podia ser comprada e vendida', explanation: 'O escravizado perdia sua condi√ß√£o humana perante a lei e era visto como um bem ou objeto pertencente ao seu senhor.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '19) Qual era o principal objetivo dos europeus ao estabelecerem o sistema escravista nas Am√©ricas?', options: ['Promover a igualdade racial', 'Gerar lucro atrav√©s da explora√ß√£o do trabalho compuls√≥rio', 'Conhecer novas culturas', 'Oferecer melhores condi√ß√µes de vida aos africanos'], answer: 'Gerar lucro atrav√©s da explora√ß√£o do trabalho compuls√≥rio', explanation: 'A escravid√£o foi uma institui√ß√£o econ√¥mica extremamente lucrativa que sustentou as economias coloniais por s√©culos.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '20) A mistura de elementos de religi√µes africanas com o catolicismo, dando origem a pr√°ticas como o Candombl√© e a Umbanda, √© um exemplo de:', options: ['Sincretismo religioso e resist√™ncia cultural', 'Convers√£o total ao catolicismo', 'Abandono das tradi√ß√µes africanas', 'Catequese jesu√≠tica'], answer: 'Sincretismo religioso e resist√™ncia cultural', explanation: 'Foi uma forma inteligente de preservar suas cren√ßas originais, disfar√ßando-as com a apar√™ncia da religi√£o imposta.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '21) A casa do senhor de engenho, centro do poder na sociedade a√ßucareira, era chamada de:', options: ['Senzala', 'Quilombo', 'Casa-Grande', 'Feitoria'], answer: 'Casa-Grande', explanation: 'A Casa-Grande era a moradia da fam√≠lia do senhor e o centro administrativo do engenho.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '22) Onde viviam os escravizados dentro de um engenho?', options: ['Na Casa-Grande', 'Na Senzala', 'Na Moenda', 'Na Capela'], answer: 'Na Senzala', explanation: 'A senzala era o alojamento, muitas vezes prec√°rio, destinado aos escravizados.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '23) O que foi o Per√≠odo Pr√©-Colonial (1500-1530) no Brasil?', options: ['Per√≠odo de intensa produ√ß√£o de a√ß√∫car', 'Per√≠odo focado na extra√ß√£o de pau-brasil atrav√©s do escambo', 'Per√≠odo da descoberta do ouro em Minas Gerais', 'Per√≠odo da vinda da Fam√≠lia Real para o Brasil'], answer: 'Per√≠odo focado na extra√ß√£o de pau-brasil atrav√©s do escambo', explanation: 'Nessas tr√™s primeiras d√©cadas, Portugal ainda n√£o havia iniciado a coloniza√ß√£o efetiva com agricultura e vilas.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '24) A vis√£o europeia de que sua cultura era superior √† dos outros povos √© chamada de:', options: ['Relativismo cultural', 'Etnocentrismo', 'Socialismo', 'Anarquismo'], answer: 'Etnocentrismo', explanation: '√â a tend√™ncia de julgar outras culturas com base nos valores e padr√µes da sua pr√≥pria.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '25) Qual destes itens N√ÉO era um produto europeu trocado por escravos na √Åfrica?', options: ['Armas de fogo', 'Aguardente', 'Tecidos', 'Ouro'], answer: 'Ouro', explanation: 'O ouro era um dos produtos que os europeus buscavam na √Åfrica, e n√£o um item que eles levavam para troca.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '26) O Quilombo dos Palmares estava localizado em uma regi√£o que hoje corresponde ao estado de:', options: ['Rio de Janeiro', 'Bahia', 'S√£o Paulo', 'Alagoas'], answer: 'Alagoas', explanation: 'Palmares se localizava na Serra da Barriga, no atual estado de Alagoas.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '27) A Lei Eus√©bio de Queir√≥s, de 1850, foi um passo fundamental para o fim da escravid√£o no Brasil. O que ela determinava?', options: ['A liberta√ß√£o de todos os escravos com mais de 60 anos', 'A proibi√ß√£o do tr√°fico negreiro para o Brasil', 'A proibi√ß√£o da venda de escravos em p√∫blico', 'A liberta√ß√£o dos filhos de escravas'], answer: 'A proibi√ß√£o do tr√°fico negreiro para o Brasil', explanation: 'Ao proibir a chegada de novos africanos, a lei encareceu o pre√ßo dos escravos e enfraqueceu o sistema escravista.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '28) A sociedade do algod√£o no sul dos EUA e a do a√ß√∫car no Brasil e Caribe tinham em comum o fato de serem baseadas no sistema de:', options: ['Minif√∫ndio familiar', 'Trabalho livre assalariado', 'Com√©rcio com a √Åsia', 'Plantation'], answer: 'Plantation', explanation: 'O sistema de Plantation √© caracterizado pelo latif√∫ndio (grande propriedade), monocultura (um produto principal) e m√£o de obra escrava.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '29) Al√©m da viol√™ncia f√≠sica, qual era uma das principais armas dos senhores para manter o controle sobre os escravizados?', options: ['A oferta de sal√°rios', 'A promo√ß√£o de festas constantes', 'O controle psicol√≥gico e a tentativa de destruir sua cultura', 'A educa√ß√£o formal'], answer: 'O controle psicol√≥gico e a tentativa de destruir sua cultura', explanation: 'A desumaniza√ß√£o e a tentativa de apagar a identidade cultural eram ferramentas poderosas de domina√ß√£o.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '30) Qual alternativa descreve corretamente a intera√ß√£o inicial entre portugueses e ind√≠genas?', options: ['Guerra imediata e total', 'Alian√ßa pac√≠fica e duradoura', 'Rela√ß√£o baseada no escambo de pau-brasil', 'Indiferen√ßa total de ambos os lados'], answer: 'Rela√ß√£o baseada no escambo de pau-brasil', explanation: 'Nos primeiros anos, a rela√ß√£o foi majoritariamente comercial, baseada na troca de trabalho por mercadorias.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '31) Qual o nome da madeira que atraiu o interesse dos portugueses no in√≠cio da coloniza√ß√£o?', options: ['Mogno', 'Jacarand√°', 'Pau-brasil', 'Eucalipto'], answer: 'Pau-brasil', explanation: 'Essa madeira era valiosa por produzir um corante vermelho muito cobi√ßado na Europa.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '32) O que eram as Capitanias Heredit√°rias?', options: ['T√≠tulos de nobreza dados aos escravos libertos', 'Divis√µes de terra entregues a donat√°rios para colonizar', 'Impostos cobrados sobre o ouro', 'Fortes militares no litoral'], answer: 'Divis√µes de terra entregues a donat√°rios para colonizar', explanation: 'Foi o primeiro sistema administrativo de Portugal para ocupar o Brasil.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '33) A frase "a gente precisa ter um objetivo na vida..." dita por uma personagem de tirinha que escala uma montanha e n√£o encontra nada no topo, expressa:', options: ['Alegria pela conquista', 'Frustra√ß√£o e ironia', 'Medo da altura', 'Orgulho da sua for√ßa'], answer: 'Frustra√ß√£o e ironia', explanation: 'A fala contrasta com a imagem, criando um efeito de humor ir√¥nico sobre a busca por objetivos.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '34) Qual a principal consequ√™ncia da introdu√ß√£o de armas de fogo europeias no com√©rcio com reinos africanos?', options: ['A pacifica√ß√£o de todo o continente africano', 'A diminui√ß√£o do n√∫mero de guerras', 'O aumento das guerras e da captura de prisioneiros para o tr√°fico', 'A proibi√ß√£o do com√©rcio de escravos pelos pr√≥prios africanos'], answer: 'O aumento das guerras e da captura de prisioneiros para o tr√°fico', explanation: 'As armas de fogo deram um poder militar maior a certos reinos, que passaram a guerrear mais para obter cativos e troc√°-los por mais armas, criando um ciclo vicioso.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '35) Qual destes grupos de trabalhadores N√ÉO era comum na sociedade a√ßucareira?', options: ['Senhor de engenho', 'Escravizados', 'Feitor', 'Oper√°rio industrial'], answer: 'Oper√°rio industrial', explanation: 'A sociedade a√ßucareira era agr√°ria, e a ind√∫stria s√≥ se desenvolveria no Brasil s√©culos depois.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '36) O que √© um texto multimodal?', options: ['Um texto escrito em v√°rias l√≠nguas', 'Um texto que usa apenas palavras', 'Um texto que combina linguagem verbal (palavras) e n√£o verbal (imagens)', 'Um texto muito antigo'], answer: 'Um texto que combina linguagem verbal (palavras) e n√£o verbal (imagens)', explanation: 'Tirinhas, charges e infogr√°ficos s√£o exemplos de textos multimodais.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '37) A imagem de um escravizado acorrentado √© um forte s√≠mbolo visual de qual conceito?', options: ['Liberdade', 'Riqueza', 'Opress√£o', 'Alegria'], answer: 'Opress√£o', explanation: 'As correntes representam a perda da liberdade e a viol√™ncia do sistema escravista.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '38) Qual o objetivo de um texto que pergunta "Por que n√£o h√° no Brasil um museu da escravid√£o?"', options: ['Informar o endere√ßo de museus', 'Criticar a falta de mem√≥ria e reconhecimento sobre a import√¢ncia da escravid√£o', 'Vender ingressos para um museu', 'Contar a hist√≥ria de um museu espec√≠fico'], answer: 'Criticar a falta de mem√≥ria e reconhecimento sobre a import√¢ncia da escravid√£o', explanation: 'O t√≠tulo, em forma de pergunta, serve para provocar a reflex√£o do leitor sobre como o Brasil lida com seu passado escravista.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '39) Qual era a fun√ß√£o do feitor no engenho?', options: ['Cuidar das finan√ßas', 'Supervisionar e punir o trabalho dos escravizados', 'Moer a cana', 'Plantar a cana'], answer: 'Supervisionar e punir o trabalho dos escravizados', explanation: 'O feitor era o capataz, o bra√ßo direito do senhor de engenho na fiscaliza√ß√£o do trabalho for√ßado.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '40) A ideia de que os ind√≠genas eram "povos sem f√©, sem lei e sem rei" √© um exemplo de vis√£o:', options: ['Cient√≠fica e neutra', 'Ind√≠gena e positiva', 'Euroc√™ntrica e preconceituosa', 'Relativista e compreensiva'], answer: 'Euroc√™ntrica e preconceituosa', explanation: 'Essa vis√£o julgava a cultura ind√≠gena com base nos valores europeus (f√© crist√£, lei escrita, rei absolutista), considerando-a inferior por ser diferente.'}
        ];

        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let isRandomOrder = false; 

        // DOM Elements for the quiz
        const questionInfoContainer = document.createElement('div');
        questionInfoContainer.className = 'flex justify-between items-center mb-2';
        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)]';
        const questionDifficulty = document.createElement('span');
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4 hidden';
        nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3 hidden';
        redoBtn.textContent='Refazer';

        quizContainer.appendChild(questionInfoContainer);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);
        
        orderToggleBtn.addEventListener('click', () => {
            isRandomOrder = !isRandomOrder; 
            orderToggleBtn.textContent = isRandomOrder ? 'Ordem Aleat√≥ria' : 'Ordem Crescente';
            startQuiz();
        });

        function switchView(view){
            if(view==='learn'){
                practiceSection.classList.add('hidden');
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
                btnPractice.classList.replace('btn-primary', 'btn-ghost');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                btnLearn.classList.replace('btn-primary', 'btn-ghost');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }

        btnLearn.addEventListener('click', () => switchView('learn'));
        btnPractice.addEventListener('click', () => switchView('practice'));

        function renderQuestionButtons(){
            questionButtons.innerHTML='';
            quizData.forEach((_,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                b.title = `Ir para a quest√£o ${originalIndex+1}`;
                b.onclick = ()=>{
                    const pos = questionOrder.indexOf(originalIndex);
                    if(pos >= 0){ currentIndex = pos; showQuestion(); }
                };
                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted && currentIndex < quizData.length) {
                    const currentQuestionOriginalIndex = questionOrder[currentIndex];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                questionButtons.appendChild(b);
            });
        }
        
        function startQuiz(){
            if (isRandomOrder) {
                shuffleArray(questionOrder);
            } else {
                questionOrder = quizData.map((_, i) => i);
            }
            currentIndex = 0;
            questionStatus.fill(null);
            showQuestion();
        }

        function showQuestion(){
            const finalResultsDiv = document.getElementById('final-results');
            if (finalResultsDiv) finalResultsDiv.remove();
            quizContainer.style.display = 'block';

            if (currentIndex >= quizData.length) {
                showFinalResults();
                return;
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionInfoContainer.classList.remove('hidden');
            questionTopic.textContent = qObj.topic;
            questionDifficulty.textContent = qObj.difficulty;
            questionDifficulty.className = `difficulty-badge difficulty-${qObj.difficulty.toLowerCase()}`;
            
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            redoBtn.classList.add('hidden');
            nextBtn.classList.add('hidden'); 
            
            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; 
                b.textContent=opt;
                b.onclick = ()=> selectAnswer(b, opt, qObj.answer, qObj.explanation, qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons();
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            
            quizContainer.style.display = 'none';

            let finalResultsDiv = document.createElement('div');
            finalResultsDiv.id = 'final-results';
            finalResultsDiv.className = 'text-center';
            practiceSection.appendChild(finalResultsDiv);

            finalResultsDiv.innerHTML = `
                <h2 class="text-2xl font-bold">üéâ Fim do Quiz! üéâ</h2>
                <p class="text-lg mt-4">Voc√™ acertou ${correctCount} de ${total} quest√µes.</p>
                <button id="restart-btn" class="btn-primary mt-6">Recome√ßar Quiz</button>
            `;
            
            document.getElementById('restart-btn').onclick = () => {
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=> {
                b.disabled=true;
                if(b.textContent === correct) {
                    b.classList.add('correct');
                }
            });
            nextBtn.classList.remove('hidden');

            if(opt===correct){
                btn.classList.add('celebrate');
                createConfetti();
                questionStatus[qIdx]='correct';
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> ${explanation || ''}`;
                redoBtn.classList.remove('hidden');
            }
            renderQuestionButtons();
        }

        nextBtn.addEventListener('click', ()=>{
            if(currentIndex < questionOrder.length-1){ 
                currentIndex++; 
                showQuestion(); 
            } else { 
                currentIndex++;
                showFinalResults();
            }
        });

        redoBtn.addEventListener('click', ()=>{
            const currentQuestionIndex = questionOrder[currentIndex];
            questionStatus[currentQuestionIndex] = null;
            showQuestion();
        });

        function shuffleArray(a){
            for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        }

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        switchView('learn');
    });
    </script>
</body>
</html>
