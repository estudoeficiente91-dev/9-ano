<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudos: Ci√™ncias (7¬∫ Ano - Prova)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        /* Cores principais atualizadas */
        .bg-dark-bg { background-color: #121212; } /* Fundo principal */
        .bg-dark-surface { background-color: #1E1E1E; } /* Cart√µes e nav */
        .text-dark-text { color: #E0E0E0; } /* Texto padr√£o */
        .text-dark-light-text { color: #B0B0B0; } /* Texto secund√°rio/p */

        /* paleta de destaque: Tons de Bronze/Dourado Envelhecido */
        .accent-primary { background-color: #D97706; color: white; } /* Laranja escuro/Bronze (Orange 700) */
        .hover\:accent-primary-dark:hover { background-color: #C26402; } /* Laranja mais escuro (Orange 800) */
        .accent-secondary { color: #FDBA74; } /* Laranja claro/P√™ssego (Orange 300) */
        .text-highlight { color: #FED7AA; } /* Laranja mais claro (Orange 200) para destaques */
        .text-success { color: #34D399; } /* Esmeralda para sucesso */
        .bg-success-dark { background-color: #065F46; } /* Esmeralda mais escuro */
        .text-error { color: #EF4444; } /* Vermelho para erro */
        .bg-error-dark { background-color: #991B1B; } /* Vermelho mais escuro */
        
        .mode-button.active {
            background-color: #D97706; /* Cor principal de destaque */
            color: white;
        }
        .nav-link.active {
            background-color: #D97706; /* Cor principal de destaque */
            color: white;
        }

        .prose-headings {
            color: #FDBA74; /* Laranja claro (Orange 300) */
        }
        .prose-strong {
            color: #FDBA74; /* Laranja claro (Orange 300) */
        }
        .prose-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1em;
            margin-bottom: 1em;
            overflow: auto;
            display: block;
        }
        .prose-th, .prose-td {
            border: 1px solid #424242; /* Cinza mais escuro para bordas da tabela */
            padding: 0.5em 1em;
            white-space: nowrap;
        }
        .prose-th {
            background-color: #2F2F2F; /* Fundo mais escuro para cabe√ßalho da tabela */
            font-weight: 600;
        }
        /* Hide scrollbar for Chrome, Safari and Opera */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Hide scrollbar for IE, Edge and Firefox */
        .no-scrollbar {
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }
        
        /* Melhorias para responsividade */
        @media (max-width: 768px) {
            #options-container {
                grid-template-columns: 1fr !important;
            }
            .prose-th, .prose-td {
                white-space: normal;
                padding: 0.25em 0.5em;
            }
        }
        
        /* Anima√ß√µes suaves */
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Estilo para as op√ß√µes do quiz */
        .option-btn {
            transition: all 0.2s ease;
        }
        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        /* Destaques mnem√¥nicos */
        .mnemonic {
            background: linear-gradient(135deg, #D97706, #F59E0B);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: bold;
        }
        
        .key-point {
            border-left: 4px solid #D97706;
            padding-left: 1rem;
            margin: 1rem 0;
            font-style: italic;
        }
        
        /* Anima√ß√µes para respostas */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse-correct {
            animation: pulse 0.6s ease;
        }
        
        /* Dicas visuais */
        .hint {
            background-color: #2F2F2F;
            border-radius: 8px;
            padding: 0.5rem;
            margin: 0.5rem 0;
            font-size: 0.9rem;
            border-left: 3px solid #FDBA74;
        }
    </style>
</head>
<body class="bg-dark-bg text-dark-text">

    <div class="w-full max-w-7xl mx-auto">
        <header class="text-center py-8 px-4">
            <h1 class="text-4xl sm:text-5xl font-bold text-white mb-4">Revis√£o de Ci√™ncias (7¬∫ Ano)</h1>
            <p class="text-lg text-dark-light-text">Estudo para a prova: Atmosfera, Calor e Temperatura.</p>
        </header>
        
        <nav class="flex justify-center items-center bg-dark-surface rounded-lg p-2 mb-8 gap-2 flex-wrap max-w-md mx-auto">
            <button id="btn-learn" class="mode-button accent-primary flex-grow sm:flex-grow-0 text-center py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark active">Aprender (Gabarito)</button>
            <button id="btn-practice" class="mode-button flex-grow sm:flex-grow-0 text-center py-2 px-4 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Praticar</button>
        </nav>

        <div id="learn-container">
            <div class="flex flex-col lg:flex-row gap-8 p-4">
                <!-- Navega√ß√£o Lateral --><aside class="lg:w-1/4">
                    <nav class="sticky top-4 bg-dark-surface rounded-lg p-4">
                        <h3 class="text-xl font-bold text-white mb-4">Quest√µes</h3>
                        <ul class="space-y-2">
                            <li><a href="#q1" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark active">Quest√£o 1</a></li>
                            <li><a href="#q2" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Quest√£o 2</a></li>
                            <li><a href="#q3" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Quest√£o 3</a></li>
                            <li><a href="#q4" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Quest√£o 4</a></li>
                            <li><a href="#q5" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Quest√£o 5</a></li>
                            <li><a href="#q6" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Quest√£o 6</a></li>
                            <li><a href="#q7" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Quest√£o 7</a></li>
                            <li><a href="#q8" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Quest√£o 8</a></li>
                            <li><a href="#q9" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Quest√£o 9</a></li>
                            <li><a href="#q10" class="nav-link block py-2 px-3 rounded-md font-semibold transition-all duration-300 hover:accent-primary-dark">Quest√£o 10</a></li>
                        </ul>
                    </nav>
                </aside>

                <!-- Conte√∫do Principal (Respostas) --><main class="lg:w-3/4 space-y-12">
                    
                    <section id="q1" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">1. Qual a propor√ß√£o de nitrog√™nio e oxig√™nio no ar atmosf√©rico? Explique sua import√¢ncia.</h2>
                            <p>O ar atmosf√©rico √© composto principalmente por dois gases:</p>
                            <ul class="list-disc list-inside">
                                <li><strong>Nitrog√™nio (N‚ÇÇ):</strong> Aproximadamente <strong class="text-highlight">78%</strong></li>
                                <li><strong>Oxig√™nio (O‚ÇÇ):</strong> Aproximadamente <strong class="text-highlight">21%</strong></li>
                            </ul>
                            <h4 class="text-lg font-semibold mt-4 prose-headings">Import√¢ncia:</h4>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Nitrog√™nio:</strong> √â essencial para a vida, pois faz parte de mol√©culas fundamentais como as <strong class="prose-strong">prote√≠nas e o DNA</strong>. A maioria dos seres vivos n√£o consegue us√°-lo diretamente do ar; ele precisa passar pelo "ciclo do nitrog√™nio" (envolvendo bact√©rias no solo) para ser absorvido pelas plantas.</li>
                                <li><strong>Oxig√™nio:</strong> √â vital para a <strong class="prose-strong">respira√ß√£o</strong> da grande maioria dos seres vivos (aer√≥bicos). N√≥s usamos o oxig√™nio para quebrar os alimentos e gerar energia para o nosso corpo.</li>
                            </ul>
                        </article>
                    </section>
                    
                    <section id="q2" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">2. No processo de combust√£o qual o papel do oxig√™nio?</h2>
                            <p>Na combust√£o (queima), o oxig√™nio tem o papel fundamental de <strong class="text-highlight">comburente</strong>.</p>
                            <p>Isso significa que ele √© o g√°s que <strong class="prose-strong">alimenta a chama</strong> e reage com o material que est√° queimando (o combust√≠vel, como madeira ou gasolina). Sem oxig√™nio, a combust√£o n√£o pode acontecer.</p>
                        </article>
                    </section>

                    <section id="q3" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">3. Qual a import√¢ncia do vapor d'√°gua [presente] no ar?</h2>
                            <p>O vapor d'√°gua (√°gua em forma de g√°s) no ar √© extremamente importante por duas raz√µes principais:</p>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Regula√ß√£o da Temperatura:</strong> Ele √© o principal g√°s de <strong class="prose-strong">efeito estufa natural</strong> do planeta. Ele ajuda a reter o calor do sol, funcionando como um "cobertor" que impede que a Terra esfrie demais durante a noite, mantendo uma temperatura habit√°vel.</li>
                                <li><strong>Ciclo da √Ågua:</strong> Ele √© a base para a <strong class="prose-strong">forma√ß√£o das nuvens</strong>. Quando esse vapor se resfria, ele se condensa e forma as gotas de chuva ou cristais de gelo (neve), sendo essencial para chover e distribuir √°gua pelo planeta, al√©m de definir a umidade do ar.</li>
                            </ul>
                        </article>
                    </section>
                    
                    <section id="q4" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">4. O que √© efeito estufa e qual a sua import√¢ncia para a Terra?</h2>
                            <p>O efeito estufa √© um fen√¥meno <strong class="text-highlight">natural e essencial</strong>. Ele acontece quando gases presentes na atmosfera (como o vapor d'√°gua e o g√°s carb√¥nico) ret√™m parte do calor que a Terra, aquecida pelo Sol, tenta devolver para o espa√ßo.</p>
                            <h4 class="text-lg font-semibold mt-4 prose-headings">Import√¢ncia:</h4>
                            <p>Ele √© <strong class="prose-strong">vital para a vida</strong>. Sem o efeito estufa, a temperatura m√©dia da Terra seria baix√≠ssima (cerca de -18¬∞C), e o planeta seria congelado, impossibilitando a exist√™ncia de √°gua l√≠quida e da vida como a conhecemos.</p>
                        </article>
                    </section>

                    <section id="q5" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">5. O que √© chuva √°cida e como ela se forma?</h2>
                            <p>A <strong class="prose-strong">chuva √°cida</strong> √© uma chuva que possui um n√≠vel de acidez (pH) muito maior do que o normal.</p>
                            <h4 class="text-lg font-semibold mt-4 prose-headings">Como se forma:</h4>
                            <p>Ela √© causada pela <strong class="text-highlight">polui√ß√£o atmosf√©rica</strong>. A queima de combust√≠veis f√≥sseis (por carros, ind√∫strias, termoel√©tricas) lan√ßa gases poluentes no ar, principalmente <strong class="prose-strong">√≥xidos de enxofre (SOx)</strong> e <strong class="prose-strong">√≥xidos de nitrog√™nio (NOx)</strong>. Na atmosfera, esses gases reagem com o vapor d'√°gua e o oxig√™nio, transformando-se em √°cido sulf√∫rico e √°cido n√≠trico, que depois caem junto com a chuva.</p>
                        </article>
                    </section>

                    <section id="q6" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">6. Qual a fun√ß√£o da camada de oz√¥nio?</h2>
                            <p>A fun√ß√£o da camada de oz√¥nio (O‚ÇÉ), que fica bem alta na atmosfera (na estratosfera), √© <strong class="text-highlight">proteger a vida na Terra</strong>.</p>
                            <p>Ela funciona como um <strong class="prose-strong">escudo ou filtro solar natural</strong>, absorvendo a maior parte da <strong class="prose-strong">radia√ß√£o ultravioleta (UV)</strong> emitida pelo Sol. Essa radia√ß√£o √© muito nociva e pode causar c√¢ncer de pele, catarata e danos ao DNA dos seres vivos.</p>
                        </article>
                    </section>

                    <section id="q7" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">7. O g√°s oz√¥nio pr√≥ximo ao ser humano √© um benef√≠cio? Explique.</h2>
                            <p><strong class="text-highlight">N√£o, √© um malef√≠cio (√© prejudicial)</strong>. Existe uma diferen√ßa crucial:</p>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Oz√¥nio "Bom":</strong> √â o que est√° l√° em cima, na camada de oz√¥nio (estratosfera), nos protegendo dos raios UV.</li>
                                <li><strong>Oz√¥nio "Ruim":</strong> √â o que se forma aqui embaixo, perto do solo (na troposfera). Ele √© um <strong class="prose-strong">poluente t√≥xico</strong>, resultado da rea√ß√£o de poluentes de carros e ind√∫strias com a luz do sol. Respirar esse oz√¥nio causa problemas respirat√≥rios, irrita√ß√£o nos olhos e pode agravar doen√ßas como a asma.</li>
                            </ul>
                        </article>
                    </section>

                    <section id="q8" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">8. O que √© a sensa√ß√£o t√©rmica e por que ela pode nos enganar?</h2>
                            <p>A <strong class="prose-strong">sensa√ß√£o t√©rmica</strong> √© a temperatura que o nosso corpo <strong class="text-highlight">percebe</strong> estar, e n√£o a temperatura real que o term√¥metro marca.</p>
                            <h4 class="text-lg font-semibold mt-4 prose-headings">Por que ela nos engana:</h4>
                            <p>Ela nos engana porque √© influenciada por outros fatores do ambiente, principalmente o <strong class="prose-strong">vento</strong> e a <strong class="prose-strong">umidade</strong>:</p>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Vento:</strong> Em dias frios, o vento "rouba" o calor do nosso corpo mais r√°pido, dando a sensa√ß√£o de que est√° <strong class="text-highlight">mais frio</strong> do que realmente est√°.</li>
                                <li><strong>Umidade:</strong> Em dias quentes, se o ar est√° muito √∫mido, o nosso suor n√£o evapora (que √© como o corpo se resfria), fazendo a sensa√ß√£o ser de que est√° <strong class="text-highlight">mais quente</strong> e abafado.</li>
                            </ul>
                        </article>
                    </section>

                    <section id="q9" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">9. Como funciona o term√¥metro de [l√≠quido]?</h2>
                            <p>Ele funciona pelo princ√≠pio da <strong class="text-highlight">dilata√ß√£o t√©rmica</strong>.</p>
                            <p>Dentro do term√¥metro existe um l√≠quido (√°lcool ou merc√∫rio) em um tubo de vidro bem fino.</p>
                            <ul class="list-disc list-inside space-y-2">
                                <li>Quando a temperatura <strong class="prose-strong">aumenta</strong>, o l√≠quido se <strong class="prose-strong">expande</strong> (aumenta de volume) e, por isso, <strong class="text-highlight">sobe</strong> pelo tubo.</li>
                                <li>Quando a temperatura <strong class="prose-strong">diminui</strong>, o l√≠quido se <strong class="prose-strong">contrai</strong> (diminui de volume) e <strong class="text-highlight">desce</strong>.</li>
                            </ul>
                            <p>A escala num√©rica marcada no vidro permite ler a temperatura correspondente √† altura que o l√≠quido atingiu.</p>
                        </article>
                    </section>

                    <section id="q10" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg fade-in">
                        <article class="prose prose-invert max-w-none text-dark-light-text">
                            <h2 class="text-2xl font-bold mb-4 prose-headings">10. Quais s√£o as [escalas de temperatura] mais usadas no [mundo]?</h2>
                            <p>As tr√™s escalas de temperatura mais usadas s√£o:</p>
                            <ul class="list-disc list-inside space-y-2">
                                <li><strong>Celsius (¬∞C):</strong> √â a mais usada no mundo, incluindo o <strong class="prose-strong">Brasil</strong>. √â baseada nos pontos de congelamento (0¬∞C) e ebuli√ß√£o (100¬∞C) da √°gua.</li>
                                <li><strong>Fahrenheit (¬∞F):</strong> √â a escala usada oficialmente nos <strong class="prose-strong">Estados Unidos</strong> e em alguns outros pa√≠ses.</li>
                                <li><strong>Kelvin (K):</strong> √â a escala usada pela <strong class="prose-strong">ci√™ncia</strong> (Sistema Internacional de Unidades). Ela √© uma escala "absoluta", onde 0 K (o "zero absoluto") √© a menor temperatura teoricamente poss√≠vel.</li>
                            </ul>
                        </article>
                    </section>
                </main>
            </div>
        </div>
        
        <!-- Se√ß√£o Praticar --><section id="practice-section" class="hidden p-4">
            <div id="quiz-container" class="bg-dark-surface p-6 sm:p-8 rounded-lg shadow-lg max-w-3xl mx-auto">
                <div id="question-header" class="mb-4 text-center">
                    <p class="accent-secondary font-semibold" id="question-topic"></p>
                </div>
                <p id="question-text" class="text-xl text-center mb-6 min-h-[60px]"></p>
                <div id="options-container" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>
                <div id="feedback-container" class="mt-6 text-center"></div>

                <!-- Navega√ß√£o --><div class="flex justify-between items-center mt-8">
                    <button id="prev-btn" class="accent-primary py-2 px-5 rounded-md font-semibold transition-colors hover:accent-primary-dark disabled:bg-gray-600 disabled:cursor-not-allowed">Anterior</button>
                    <span id="question-counter" class="font-semibold text-dark-text"></span>
                    <button id="next-btn" class="accent-primary py-2 px-5 rounded-md font-semibold transition-colors hover:accent-primary-dark">Pr√≥xima</button>
                </div>
            </div>

            <!-- Navega√ß√£o de Quest√µes --><div id="question-nav-container" class="hidden bg-dark-surface p-4 rounded-lg shadow-lg max-w-3xl mx-auto mt-4">
                <div id="question-buttons-grid" class="flex flex-wrap justify-center gap-2">
                    <!-- Buttons will be programmatically inserted here --></div>
            </div>

             <!-- Tela de Pontua√ß√£o --><div id="score-screen" class="hidden text-center bg-dark-surface p-8 rounded-lg shadow-lg max-w-3xl mx-auto mt-8">
                <h3 class="text-4xl font-bold text-white mb-4">Pontua√ß√£o Final</h3>
                <p id="final-score" class="text-6xl font-bold accent-secondary mb-2"></p>
                <p id="score-message" class="text-lg text-dark-light-text mb-8"></p>
                <button id="restart-btn" class="bg-green-600 text-white py-3 px-8 rounded-lg font-semibold text-lg hover:bg-green-500 transition-colors">Recome√ßar</button>
            </div>
        </section>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        // --- BANCO DE DADOS DAS QUEST√ïES REVISADO ---
        const questions = [
            // Quest√µes para fixar o conte√∫do principal
            { topic: "Composi√ß√£o do Ar", difficulty: "F√°cil", question: "Complete: O ar √© composto por aproximadamente ______% de nitrog√™nio e ______% de oxig√™nio.", options: ["50% e 50%", "78% e 21%", "21% e 78%", "90% e 10%"], answer: 1, explanation: "Correto! √â 78% de nitrog√™nio e 21% de oxig√™nio. Lembre-se: 'Nitrog√™nio √© o maior' (78% > 21%)." },
            { topic: "Pap√©is dos Gases", difficulty: "F√°cil", question: "Qual g√°s √© essencial para a respira√ß√£o celular?", options: ["Nitrog√™nio", "Oxig√™nio", "G√°s Carb√¥nico", "Vapor d'√°gua"], answer: 1, explanation: "Oxig√™nio! Sem ele, n√£o conseguimos produzir energia a partir dos alimentos." },
            { topic: "Combust√£o", difficulty: "F√°cil", question: "Na queima de uma vela, o oxig√™nio atua como:", options: ["Combust√≠vel", "Comburente", "Catalisador", "Isolante"], answer: 1, explanation: "Comburente! √â o g√°s que alimenta e mant√©m a chama. Sem oxig√™nio, n√£o h√° fogo." },
            { topic: "Vapor d'√Ågua", difficulty: "F√°cil", question: "Qual √© a import√¢ncia do vapor d'√°gua na atmosfera?", options: ["Tornar o ar mais pesado", "Formar nuvens e regular temperatura", "Aumentar a quantidade de oxig√™nio", "Produzir rel√¢mpagos"], answer: 1, explanation: "Ele forma nuvens (chuva) e regula a temperatura atrav√©s do efeito estufa natural." },
            
            // Quest√µes sobre efeito estufa e camadas
            { topic: "Efeito Estufa", difficulty: "M√©dio", question: "Sem o efeito estufa natural, qual seria a temperatura m√©dia da Terra?", options: ["15¬∞C", "25¬∞C", "-18¬∞C", "50¬∞C"], answer: 2, explanation: "-18¬∞C! O efeito estufa nos mant√©m aquecidos. Sem ele, a Terra seria congelada." },
            { topic: "Camada de Oz√¥nio", difficulty: "M√©dio", question: "Onde fica a camada de oz√¥nio 'boa' que nos protege dos raios UV?", options: ["Na troposfera (perto do solo)", "Na estratosfera (alta atmosfera)", "No solo", "Nos oceanos"], answer: 1, explanation: "Na estratosfera! Lembre-se: 'Oz√¥nio bom l√° em cima, oz√¥nio ruim aqui embaixo'." },
            { topic: "Oz√¥nio", difficulty: "M√©dio", question: "O oz√¥nio que se forma perto do solo √©:", options: ["Ben√©fico para a respira√ß√£o", "Um poluente t√≥xico", "Respons√°vel pelas chuvas", "Essencial para as plantas"], answer: 1, explanation: "Poluente t√≥xico! Causa problemas respirat√≥rios. Cuidado com a polui√ß√£o dos carros e ind√∫strias." },
            
            // Quest√µes sobre temperatura
            { topic: "Sensa√ß√£o T√©rmica", difficulty: "M√©dio", question: "Por que em dias √∫midos sentimos mais calor?", options: ["Porque a umidade aquece o ar", "Porque o suor n√£o evapora direito", "Porque as nuvens bloqueiam o vento", "Porque a press√£o aumenta"], answer: 1, explanation: "O suor n√£o evapora facilmente! A evapora√ß√£o do suor √© que nos resfria." },
            { topic: "Term√¥metro", difficulty: "M√©dio", question: "Quando a temperatura aumenta, o l√≠quido no term√¥metro:", options: ["Desce", "Fica parado", "Sobe", "Evapora"], answer: 2, explanation: "Sobe! Lembre-se: 'Quente sobe, frio desce' - dilata√ß√£o t√©rmica." },
            
            // Quest√µes de aplica√ß√£o pr√°tica
            { topic: "Chuva √Åcida", difficulty: "Dif√≠cil", question: "A chuva √°cida √© causada principalmente pela polui√ß√£o de:", options: ["Oxig√™nio e nitrog√™nio", "√ìxidos de enxofre e nitrog√™nio", "G√°s carb√¥nico e oxig√™nio", "Vapor d'√°gua e oz√¥nio"], answer: 1, explanation: "√ìxidos de enxofre (SOx) e nitrog√™nio (NOx)! V√™m da queima de combust√≠veis f√≥sseis." },
            { topic: "Escalas Termom√©tricas", difficulty: "Dif√≠cil", question: "Qual escala √© usada pelos cientistas e come√ßa no zero absoluto?", options: ["Celsius", "Fahrenheit", "Kelvin", "R√©aumur"], answer: 2, explanation: "Kelvin! √â a escala absoluta usada na ci√™ncia. 0K = -273¬∞C." },
            { topic: "Ciclo do Nitrog√™nio", difficulty: "Dif√≠cil", question: "Como o nitrog√™nio do ar se torna √∫til para as plantas?", options: ["Pela respira√ß√£o das plantas", "Pela a√ß√£o de bact√©rias no solo", "Pela chuva √°cida", "Pela fotoss√≠ntese"], answer: 1, explanation: "Bact√©rias fixadoras! Elas convertem o N‚ÇÇ do ar em formas que as plantas podem usar." },
            
            // Quest√µes que conectam conceitos
            { topic: "Conex√µes", difficulty: "Dif√≠cil", question: "Qual a rela√ß√£o entre vapor d'√°gua e efeito estufa?", options: ["O vapor destr√≥i o efeito estufa", "O vapor √© o principal g√°s do efeito estufa natural", "N√£o h√° rela√ß√£o", "O vapor impede o efeito estufa"], answer: 1, explanation: "O vapor d'√°gua √© o principal g√°s de efeito estufa natural! Ele ajuda a manter a Terra aquecida." },
            { topic: "Aplica√ß√£o", difficulty: "Dif√≠cil", question: "Por que uma vela apaga quando a cobrimos com um copo?", options: ["Porque o vidro √© frio", "Porque acaba o combust√≠vel", "Porque acaba o oxig√™nio (comburente)", "Porque a luz n√£o passa"], answer: 2, explanation: "Acaba o oxig√™nio! A combust√£o precisa do comburente (O‚ÇÇ) para continuar." },
            
            // Quest√µes de fixa√ß√£o final
            { topic: "Revis√£o Geral", difficulty: "M√©dio", question: "Qual destes N√ÉO √© um g√°s do efeito estufa natural?", options: ["Vapor d'√°gua", "G√°s Carb√¥nico", "Oz√¥nio da estratosfera", "Clorofluorcarbonetos (CFCs)"], answer: 3, explanation: "CFCs s√£o artificiais! Destroem a camada de oz√¥nio e intensificam o efeito estufa." },
            { topic: "Revis√£o Geral", difficulty: "M√©dio", question: "A sensa√ß√£o t√©rmica difere da temperatura real devido principalmente ao:", options: ["Vento e umidade", "Tipo de term√¥metro", "Hora do dia", "Cor das roupas"], answer: 0, explanation: "Vento e umidade! Vento resfria, umidade aquece (em dias quentes)." }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            // --- L√ìGICA DO MODO DE APRENDIZAGEM ---
            const links = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('#learn-container main section');

            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        links.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href').substring(1) === entry.target.id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, observerOptions);

            sections.forEach(section => { observer.observe(section); });
            
            links.forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
                });
            });

            // --- L√ìGICA DO MODO DE PR√ÅTICA ---
            const btnLearn = document.getElementById('btn-learn');
            const btnPractice = document.getElementById('btn-practice');
            const learnContainer = document.getElementById('learn-container');
            const practiceSection = document.getElementById('practice-section');
            
            const quizContainer = document.getElementById('quiz-container');
            const scoreScreen = document.getElementById('score-screen');
            const questionTopic = document.getElementById('question-topic');
            const questionText = document.getElementById('question-text');
            const optionsContainer = document.getElementById('options-container');
            const feedbackContainer = document.getElementById('feedback-container');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const questionCounter = document.getElementById('question-counter');
            const finalScore = document.getElementById('final-score');
            const scoreMessage = document.getElementById('score-message');
            const restartBtn = document.getElementById('restart-btn');
            const questionNavContainer = document.getElementById('question-nav-container');

            let state = {
                currentMode: 'learn',
                currentQuestionIndex: 0,
                userAnswers: [],
                score: 0,
                shuffledQuestions: []
            };

            // Fun√ß√£o para embaralhar array (Fisher-Yates)
            function shuffleArray(array) {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            }

            function switchMode(mode) {
                state.currentMode = mode;
                btnLearn.classList.toggle('active', mode === 'learn');
                btnPractice.classList.toggle('active', mode !== 'learn');
                learnContainer.classList.toggle('hidden', mode !== 'learn');
                practiceSection.classList.toggle('hidden', mode === 'learn');

                if (mode === 'practice') {
                    startPractice();
                }
            }

            function startPractice() {
                state.currentQuestionIndex = 0;
                state.score = 0;
                state.userAnswers = Array(questions.length).fill(null);
                state.shuffledQuestions = shuffleArray(questions); // Embaralhar as quest√µes
                quizContainer.classList.remove('hidden');
                scoreScreen.classList.add('hidden');
                questionNavContainer.classList.remove('hidden');
                renderQuestionNavigation();
                renderQuestion(0);
            }
            
            function renderQuestion(index) {
                const question = state.shuffledQuestions[index];
                questionTopic.textContent = `${question.topic} - (N√≠vel: ${question.difficulty})`;
                questionText.innerHTML = question.question; // Usar innerHTML para <sub>
                
                questionCounter.textContent = `${index + 1} / ${questions.length}`;

                optionsContainer.innerHTML = '';
                feedbackContainer.innerHTML = '';

                question.options.forEach((option, i) => {
                    const button = document.createElement('button');
                    button.innerHTML = option; // Usar innerHTML para <sub>
                    button.className = "w-full text-left p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors disabled:cursor-not-allowed option-btn";
                    button.onclick = () => checkAnswer(i, question.answer, question.explanation);
                    optionsContainer.appendChild(button);
                });

                updateNavButtonsState();
                updateQuestionNavButtons();
            }

            function checkAnswer(selectedIndex, correctIndex, explanation) {
                const isCorrect = selectedIndex === correctIndex;
                const isFirstAttempt = state.userAnswers[state.currentQuestionIndex] === null;
                const wasPreviouslyWrong = state.userAnswers[state.currentQuestionIndex] === false;

                if (isFirstAttempt) {
                    state.userAnswers[state.currentQuestionIndex] = isCorrect;
                    if (isCorrect) {
                        state.score++;
                        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                        // Adicionar efeito visual para acerto
                        Array.from(optionsContainer.children)[selectedIndex].classList.add('pulse-correct');
                    }
                } else if (wasPreviouslyWrong && isCorrect) {
                    state.userAnswers[state.currentQuestionIndex] = true;
                    confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                    Array.from(optionsContainer.children)[selectedIndex].classList.add('pulse-correct');
                }

                Array.from(optionsContainer.children).forEach((btn, i) => {
                    btn.disabled = true;
                    if (i === correctIndex) {
                        btn.classList.remove('bg-gray-700', 'hover:bg-gray-600');
                        btn.classList.add('bg-green-600', 'text-white');
                    } else if (i === selectedIndex && !isCorrect) {
                        btn.classList.remove('bg-gray-700', 'hover:bg-gray-600');
                        btn.classList.add('bg-red-600', 'text-white');
                    }
                });

                // Adicionar dicas mnem√¥nicas baseadas no t√≥pico
                let mnemonicHint = '';
                const currentTopic = state.shuffledQuestions[state.currentQuestionIndex].topic;
                
                switch(currentTopic) {
                    case 'Composi√ß√£o do Ar':
                        mnemonicHint = `<div class="hint">üí° <strong>Macete:</strong> "78% Nitrog√™nio, 21% Oxig√™nio - Nitrog√™nio √© o maior!"</div>`;
                        break;
                    case 'Efeito Estufa':
                        mnemonicHint = `<div class="hint">üí° <strong>Lembrete:</strong> Efeito estufa natural = BOM | Intensificado pelo homem = PROBLEMA</div>`;
                        break;
                    case 'Camada de Oz√¥nio':
                        mnemonicHint = `<div class="hint">üí° <strong>Dica:</strong> "Oz√¥nio BOM l√° em cima, Oz√¥nio RUIM aqui embaixo"</div>`;
                        break;
                    case 'Sensa√ß√£o T√©rmica':
                        mnemonicHint = `<div class="hint">üí° <strong>Macete:</strong> Vento = + frio | Umidade = + calor (em dias quentes)</div>`;
                        break;
                    case 'Term√¥metro':
                        mnemonicHint = `<div class="hint">üí° <strong>Lembrete:</strong> "Quente ‚Üí Expande ‚Üí Sobe | Frio ‚Üí Contra√≠ ‚Üí Desce"</div>`;
                        break;
                }

                feedbackContainer.innerHTML = `
                    <div class="p-4 rounded-lg ${isCorrect ? 'bg-success-dark' : 'bg-error-dark'} fade-in">
                        <h4 class="font-bold text-lg mb-2">${isCorrect ? 'üéâ Resposta Correta!' : '‚ùå Resposta Incorreta!'}</h4>
                        ${mnemonicHint}
                        <div class="key-point mt-3">
                            <p class="text-sm" id="explanation-text">${explanation}</p>
                        </div>
                        <button id="redo-question-btn" class="mt-4 py-2 px-4 accent-primary rounded-md font-semibold hover:accent-primary-dark transition-colors">Tentar Novamente</button>
                    </div>`;

                document.getElementById('redo-question-btn').addEventListener('click', resetCurrentQuestion);
                updateQuestionNavButtons();
            }
            
            function resetCurrentQuestion() {
                feedbackContainer.innerHTML = '';
                Array.from(optionsContainer.children).forEach(btn => {
                    btn.disabled = false;
                    btn.className = "w-full text-left p-4 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors disabled:cursor-not-allowed option-btn";
                });
            }

            function updateNavButtonsState() {
                prevBtn.disabled = state.currentQuestionIndex === 0;
                nextBtn.textContent = (state.currentQuestionIndex === questions.length - 1) ? "Finalizar" : "Pr√≥xima";
            }

            function nextQuestion() {
                if (state.currentQuestionIndex < questions.length - 1) {
                    goToQuestion(state.currentQuestionIndex + 1);
                } else {
                    showFinalScore();
                }
            }

            function prevQuestion() {
                if (state.currentQuestionIndex > 0) {
                   goToQuestion(state.currentQuestionIndex - 1);
                }
            }

            function goToQuestion(index) {
                if (index >= 0 && index < questions.length) {
                    state.currentQuestionIndex = index;
                    renderQuestion(index);
                }
            }

            function renderQuestionNavigation() {
                const grid = document.getElementById('question-buttons-grid');
                grid.innerHTML = '';
                for (let i = 0; i < questions.length; i++) {
                    const button = document.createElement('button');
                    button.textContent = i + 1;
                    button.className = 'w-9 h-9 flex items-center justify-center rounded-md font-semibold transition-all duration-200';
                    button.dataset.index = i;
                    button.onclick = () => goToQuestion(i);
                    grid.appendChild(button);
                }
            }
            
            function updateQuestionNavButtons() {
                const buttons = document.querySelectorAll('#question-buttons-grid button');
                buttons.forEach((btn, i) => {
                    btn.className = 'w-9 h-9 flex items-center justify-center rounded-md font-semibold transition-all duration-200';
                    const answerState = state.userAnswers[i];
                    
                    if (answerState === true) {
                        btn.classList.add('bg-green-600', 'text-white');
                    } else if (answerState === false) {
                        btn.classList.add('bg-red-600', 'text-white');
                    } else {
                        btn.classList.add('bg-gray-700', 'hover:bg-gray-600');
                    }

                    if (i === state.currentQuestionIndex) {
                        btn.classList.add('ring-2', 'ring-offset-2', 'ring-offset-gray-800', 'ring-orange-500'); 
                        btn.classList.remove('hover:bg-gray-600');
                    }
                });
            }
            
            function showFinalScore() {
                quizContainer.classList.add('hidden');
                scoreScreen.classList.remove('hidden');
                questionNavContainer.classList.add('hidden');

                const percentage = Math.round((state.score / questions.length) * 100);
                finalScore.textContent = `${percentage}%`;

                let message = '';
                if (percentage >= 90) message = "Excelente! Voc√™ dominou o assunto!";
                else if (percentage >= 70) message = "Muito bom! Continue praticando para aperfei√ßoar.";
                else if (percentage >= 50) message = "Bom esfor√ßo! Reveja os t√≥picos que errou.";
                else message = "N√£o desanime! Reveja a se√ß√£o 'Aprender' e tente novamente.";
                
                scoreMessage.textContent = `Voc√™ acertou ${state.score} de ${questions.length} quest√µes. ${message}`;
            }

            // --- INICIALIZA√á√ÉO ---
            btnLearn.classList.add('active'); 
            
            btnLearn.addEventListener('click', () => switchMode('learn'));
            btnPractice.addEventListener('click', () => switchMode('practice'));
            prevBtn.addEventListener('click', prevQuestion);
            nextBtn.addEventListener('click', nextQuestion);
            restartBtn.addEventListener('click', startPractice);

            switchMode('learn');
        });
    </script>
</body>
</html>