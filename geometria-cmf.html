<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Revis√£o de Matem√°tica ‚Äì 9¬∫ Ano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#071023; --card:#0b1624; --accent:#3b82f6; --muted:#97a6bf; --text:#e6eef8; --success:#34d399; --danger:#ef4444; --border:rgba(255,255,255,0.12); --muted-2: rgba(230,238,248,0.85);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(59,130,246,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; cursor:pointer; }
        #question-buttons button.current-question { background-color: rgba(59, 130, 246, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(96,165,250,0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        .theme-light{ --bg: #f8fafc; --card: #ffffff; --muted: #475569; --text: #0f1724; --accent: #0284c7; --success: #047857; --danger: #b91c1c; --border: rgba(15,23,42,0.1); --muted-2: rgba(15,23,36,0.85); }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(59, 130, 246, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
        .formula { background-color: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; margin-top: 1rem; font-family: 'Courier New', Courier, monospace; text-align: center; font-size: 1.1rem; }
        .difficulty-badge { padding: 0.1rem 0.6rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .difficulty-facil { background-color: rgba(52, 211, 153, 0.2); color: #6ee7b7; }
        .difficulty-medio { background-color: rgba(250, 204, 21, 0.2); color: #facc15; }
        .difficulty-dificil { background-color: rgba(248, 113, 113, 0.2); color: #f87171; }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Revis√£o de Matem√°tica ‚Äî 9¬∫ Ano</h1>
                    <p class="text-sm text-slate-400">Guia de estudos completo de Geometria e Grandezas.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">a), b), c) Grandezas e Medidas</h2>
                            <p>Medir √© comparar uma grandeza com uma unidade padr√£o. <span class="highlight">√Årea</span> √© a medida de uma superf√≠cie (bidimensional, ex: m¬≤), enquanto <span class="highlight">Volume</span> √© a medida do espa√ßo ocupado (tridimensional, ex: m¬≥).</p>
                            <p>A <span class="highlight">convers√£o de unidades</span> segue uma l√≥gica de pot√™ncias de 10. Para comprimento, cada "casa" na escala (km, hm, dam, m, dm, cm, mm) vale 10. Para √°reas, vale 100 (10¬≤). Para volumes, vale 1000 (10¬≥).</p>
                             <h3 class="sub-topic-title">Exemplos de Convers√£o</h3>
                            <ul>
                                <li><strong>Comprimento:</strong> 1,5 km = 1,5 x 1000 = 1500 m.</li>
                                <li><strong>√Årea:</strong> 3 m¬≤ = 3 x 100 x 100 = 30.000 cm¬≤. (Dois saltos na escala).</li>
                                <li><strong>Volume/Capacidade:</strong> 2 m¬≥ = 2 x 1000 = 2000 dm¬≥. Como 1 dm¬≥ = 1 L, temos 2000 L.</li>
                            </ul>
                        </div>
                        
                        <div class="topic-section">
                            <h2 class="topic-title">d), e), f) Reta e Posi√ß√µes Relativas</h2>
                             <p>Uma <span class="highlight">reta</span> √© infinita. Um <span class="highlight">segmento de reta</span> √© um peda√ßo finito da reta, com come√ßo e fim. Uma <span class="highlight">semirreta</span> tem come√ßo, mas n√£o tem fim. A <span class="highlight">mediatriz</span> de um segmento √© a reta perpendicular que passa exatamente no seu ponto m√©dio.</p>
                             <p>Duas retas em um plano podem ser <span class="highlight">paralelas</span> (nunca se cruzam), <span class="highlight">concorrentes</span> (cruzam-se em um ponto) ou <span class="highlight">coincidentes</span> (s√£o a mesma reta).</p>
                        </div>

                        <div class="topic-section">
                            <h2 class="topic-title">g), h), i) √Çngulos e Teoremas</h2>
                             <p><span class="highlight">√Çngulos</span> s√£o medidos em graus. √Çngulos <span class="highlight">complementares</span> somam 90¬∞, e <span class="highlight">suplementares</span> somam 180¬∞.</p>
                             <h3 class="sub-topic-title">Teorema de Tales</h3>
                             <p>Se retas paralelas s√£o cortadas por transversais, os segmentos correspondentes s√£o proporcionais.</p>
                             <p class="formula">a/b = c/d</p>
                             <ul>
                                <li><strong>Exemplo 1:</strong> Se a=2, b=4, c=3, ent√£o 2/4 = 3/d -> 2d = 12 -> d=6.</li>
                                <li><strong>Exemplo 2:</strong> Segmentos de uma transversal s√£o x e 10. Na outra, 5 e 8. Ent√£o x/10 = 5/8 -> 8x = 50 -> x=6,25.</li>
                                <li><strong>Exemplo 3 (Teorema Angular):</strong> Em um tri√¢ngulo, uma reta paralela a um lado divide os outros dois lados em segmentos proporcionais.</li>
                             </ul>
                              <h3 class="sub-topic-title">Teorema da Bissetriz Interna</h3>
                             <p>A bissetriz de um √¢ngulo interno divide o lado oposto em segmentos proporcionais aos lados adjacentes.</p>
                             <p class="formula">c/x = b/y</p>
                              <ul>
                                <li><strong>Exemplo 1:</strong> Lados b=10, c=8. O lado oposto (12) √© dividido em x e y. Temos 8/x = 10/y e x+y=12. Resolvendo o sistema, encontramos os segmentos.</li>
                                 <li><strong>Exemplo 2:</strong> Lados c=6, b=9. Lado oposto dividido em x=4 e y. Ent√£o 6/4 = 9/y -> 6y=36 -> y=6.</li>
                                 <li><strong>Exemplo 3:</strong> Um tri√¢ngulo is√≥sceles com base 10. A bissetriz do √¢ngulo do v√©rtice divide a base em dois segmentos de 5.</li>
                             </ul>
                        </div>

                        <div class="topic-section">
                            <h2 class="topic-title">j), k), l), m) Tri√¢ngulos</h2>
                             <p>Dois tri√¢ngulos s√£o <span class="highlight">semelhantes</span> se seus √¢ngulos s√£o iguais e seus lados correspondentes s√£o proporcionais.</p>
                             <h3 class="sub-topic-title">Teorema de Pit√°goras</h3>
                             <p>Em um tri√¢ngulo ret√¢ngulo, a soma dos quadrados dos catetos √© igual ao quadrado da hipotenusa.</p>
                             <p class="formula">a¬≤ = b¬≤ + c¬≤</p>
                             <ul>
                                <li><strong>Exemplo 1 (Achar hipotenusa):</strong> Catetos b=3, c=4. a¬≤ = 3¬≤ + 4¬≤ = 9 + 16 = 25. a = ‚àö25 = 5.</li>
                                <li><strong>Exemplo 2 (Achar cateto):</strong> Hipotenusa a=13, cateto b=5. 13¬≤ = 5¬≤ + c¬≤ -> 169 = 25 + c¬≤ -> c¬≤ = 144 -> c=12.</li>
                                <li><strong>Exemplo 3 (Diagonal do quadrado):</strong> Quadrado de lado 6. A diagonal √© a hipotenusa. d¬≤ = 6¬≤ + 6¬≤ = 72. d = ‚àö72 = 6‚àö2.</li>
                             </ul>
                             <h3 class="sub-topic-title">Rela√ß√µes M√©tricas no Tri√¢ngulo Ret√¢ngulo</h3>
                             <p class="formula">a‚ãÖh = b‚ãÖc ¬†|¬† h¬≤ = m‚ãÖn ¬†|¬† b¬≤ = a‚ãÖm ¬†|¬† c¬≤ = a‚ãÖn</p>
                             <ul>
                                <li><strong>Exemplo 1:</strong> Proje√ß√µes m=4, n=9. A altura h¬≤ = 4*9 = 36 -> h=6.</li>
                                <li><strong>Exemplo 2:</strong> Catetos b=6, c=8. A hipotenusa a=10. A altura ser√° 10*h = 6*8 -> 10h=48 -> h=4,8.</li>
                                 <li><strong>Exemplo 3:</strong> Hipotenusa a=12, proje√ß√£o m=3. O cateto b ser√° b¬≤ = 12*3 = 36 -> b=6.</li>
                             </ul>
                              <h3 class="sub-topic-title">Raz√µes Trigonom√©tricas</h3>
                             <p class="formula">sen(Œ±) = co/hip | cos(Œ±) = ca/hip | tg(Œ±) = co/ca</p>
                             <ul>
                                <li><strong>Exemplo 1:</strong> Cateto oposto = 6, hipotenusa = 10. sen(Œ±) = 6/10 = 0,6.</li>
                                 <li><strong>Exemplo 2:</strong> Cateto adjacente = 8, hipotenusa = 10. cos(Œ±) = 8/10 = 0,8.</li>
                                 <li><strong>Exemplo 3:</strong> Cateto oposto = 6, cateto adjacente = 8. tg(Œ±) = 6/8 = 0,75.</li>
                             </ul>
                        </div>
                        
                         <div class="topic-section">
                            <h2 class="topic-title">n) Lei dos Senos e Cossenos</h2>
                             <h3 class="sub-topic-title">Lei dos Senos</h3>
                            <p class="formula">a/sen(A) = b/sen(B) = c/sen(C)</p>
                             <ul>
                                 <li><strong>Exemplo 1:</strong> Lado a=10, √¢ngulo A=30¬∞, √¢ngulo B=45¬∞. Achar lado b. 10/sen(30¬∞) = b/sen(45¬∞) -> 10/0,5 = b/0,707 -> b = 20 * 0,707 = 14,14.</li>
                                 <li><strong>Exemplo 2:</strong> Lado c=20, √¢ngulo C=60¬∞, √¢ngulo A=45¬∞. Achar lado a. a/sen(45¬∞) = 20/sen(60¬∞) -> a/0,707 = 20/0,866 -> a ‚âà 16,33.</li>
                                 <li><strong>Exemplo 3:</strong> Num tri√¢ngulo, um lado de 8cm √© oposto a um √¢ngulo de 30¬∞. Qual o di√¢metro da circunfer√™ncia circunscrita? Pela lei estendida, 8/sen(30¬∞) = 2R -> 8/0,5 = 2R -> 16 = 2R -> R=8. Di√¢metro = 16cm.</li>
                             </ul>
                             <h3 class="sub-topic-title">Lei dos Cossenos</h3>
                            <p class="formula">a¬≤ = b¬≤ + c¬≤ - 2bc‚ãÖcos(A)</p>
                              <ul>
                                 <li><strong>Exemplo 1:</strong> Lados b=5, c=8, √¢ngulo A=60¬∞. Achar lado a. a¬≤ = 5¬≤+8¬≤ - 2*5*8*cos(60¬∞) = 25+64 - 80*0,5 = 89 - 40 = 49. a=7.</li>
                                  <li><strong>Exemplo 2:</strong> Lados a=7, b=5, c=8. Achar o √¢ngulo A. 7¬≤ = 5¬≤+8¬≤ - 2*5*8*cos(A) -> 49=89-80*cos(A) -> -40=-80*cos(A) -> cos(A)=0,5 -> A=60¬∞.</li>
                                  <li><strong>Exemplo 3:</strong> Lados b=3, c=10, √¢ngulo A=120¬∞. Achar lado a. a¬≤ = 3¬≤+10¬≤ - 2*3*10*cos(120¬∞) = 9+100 - 60*(-0,5) = 109 + 30 = 139. a = ‚àö139.</li>
                             </ul>
                        </div>

                         <div class="topic-section">
                            <h2 class="topic-title">o), p), q) Pol√≠gonos</h2>
                             <p>Pol√≠gonos <span class="highlight">regulares</span> t√™m todos os lados e √¢ngulos iguais.</p>
                             <h3 class="sub-topic-title">Soma dos √Çngulos Internos (S·µ¢)</h3>
                             <p class="formula">S·µ¢ = (n - 2) ‚ãÖ 180¬∞</p>
                              <ul>
                                 <li><strong>Exemplo (Pent√°gono n=5):</strong> S·µ¢ = (5-2)*180 = 3*180 = 540¬∞.</li>
                                  <li><strong>Exemplo (Hex√°gono n=6):</strong> S·µ¢ = (6-2)*180 = 4*180 = 720¬∞.</li>
                                  <li><strong>Exemplo (Dec√°gono n=10):</strong> S·µ¢ = (10-2)*180 = 8*180 = 1440¬∞.</li>
                             </ul>
                             <h3 class="sub-topic-title">N√∫mero de Diagonais (d)</h3>
                             <p class="formula">d = n(n - 3) / 2</p>
                             <ul>
                                 <li><strong>Exemplo (Pent√°gono n=5):</strong> d = 5(5-3)/2 = 5*2/2 = 5 diagonais.</li>
                                  <li><strong>Exemplo (Oct√≥gono n=8):</strong> d = 8(8-3)/2 = 8*5/2 = 20 diagonais.</li>
                                  <li><strong>Exemplo (Icos√°gono n=20):</strong> d = 20(20-3)/2 = 20*17/2 = 170 diagonais.</li>
                             </ul>
                        </div>

                        <div class="topic-section">
                            <h2 class="topic-title">r), s), t) Circunfer√™ncia e √Åreas</h2>
                            <p>O <span class="highlight">per√≠metro</span> √© a soma dos lados. A <span class="highlight">√°rea</span> √© a medida da superf√≠cie.</p>
                             <h3 class="sub-topic-title">Comprimento e √Årea da Circunfer√™ncia</h3>
                             <p class="formula">C = 2œÄr ¬†|¬† A = œÄr¬≤</p>
                             <ul>
                                <li><strong>Exemplo 1 (Comprimento):</strong> Raio r=5. C = 2 * 3,14 * 5 = 31,4.</li>
                                <li><strong>Exemplo 2 (√Årea):</strong> Raio r=5. A = 3,14 * 5¬≤ = 3,14 * 25 = 78,5.</li>
                                <li><strong>Exemplo 3 (Caminho inverso):</strong> Se a √°rea √© 12,56, qual o raio? 12,56 = 3,14 * r¬≤ -> r¬≤ = 4 -> r=2.</li>
                             </ul>
                             <h3 class="sub-topic-title">Rela√ß√£o entre Cordas</h3>
                            <p class="formula">PA ‚ãÖ PB = PC ‚ãÖ PD</p>
                             <ul>
                                <li><strong>Exemplo 1:</strong> Segmentos de uma corda s√£o 3 e 8. Na outra, um √© 4. 3*8 = 4*x -> 24=4x -> x=6.</li>
                                <li><strong>Exemplo 2:</strong> Segmentos de uma s√£o 2 e 10. Na outra, x e 5. 2*10 = x*5 -> 20=5x -> x=4.</li>
                                <li><strong>Exemplo 3:</strong> As cordas se cruzam no ponto m√©dio e medem 12 cada. Os segmentos s√£o 6 e 6. 6*6 = 6*6 -> 36=36.</li>
                             </ul>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                     <div class="mb-4 flex justify-end">
                        <button id="order-toggle-btn" class="btn-ghost text-xs">Ordem Crescente</button>
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const orderToggleBtn = document.getElementById('order-toggle-btn');

        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer || !orderToggleBtn){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-math-9ano-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-math-9ano-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            // a) Medidas de comprimento, tempo, massa, etc. (5 quest√µes)
            { topic: 'Grandezas e Medidas', difficulty: 'F√°cil', q: '1) Uma maratona tem 42.195 metros. Essa dist√¢ncia em quil√¥metros √©:', options: ['4,2195 km', '42,195 km', '421,95 km', '4219,5 km'], answer: '42,195 km', explanation: 'Para converter metros para quil√¥metros, divide-se por 1000, o que equivale a mover a v√≠rgula 3 casas para a esquerda.'},
            { topic: 'Grandezas e Medidas', difficulty: 'F√°cil', q: '2) Um filme come√ßou √†s 19h45min e terminou √†s 22h. Qual foi a dura√ß√£o do filme?', options: ['2 horas e 15 minutos', '2 horas e 30 minutos', '1 hora e 45 minutos', '2 horas e 45 minutos'], answer: '2 horas e 15 minutos', explanation: 'Das 19h45 √†s 20h s√£o 15 minutos. Das 20h √†s 22h s√£o 2 horas. Total: 2h 15min.'},
            { topic: 'Grandezas e Medidas', difficulty: 'F√°cil', q: '3) Se uma caixa de bananas pesa 2,5 kg, qual seu peso em gramas?', options: ['25 g', '250 g', '2500 g', '25000 g'], answer: '2500 g', explanation: '1 quilograma equivale a 1000 gramas. Portanto, 2,5 * 1000 = 2500 g.'},
            { topic: 'Grandezas e Medidas', difficulty: 'M√©dio', q: '4) A temperatura em uma cidade era de -5¬∞C e subiu 12¬∞C. Qual a temperatura final?', options: ['-17¬∞C', '-7¬∞C', '7¬∞C', '17¬∞C'], answer: '7¬∞C', explanation: 'A opera√ß√£o √© -5 + 12 = 7. A temperatura final √© de 7¬∞C positivos.'},
            { topic: 'Grandezas e Medidas', difficulty: 'F√°cil', q: '5) Uma garrafa de refrigerante tem capacidade para 1,5 litros. Isso equivale a quantos mililitros (mL)?', options: ['15 mL', '150 mL', '1500 mL', '15000 mL'], answer: '1500 mL', explanation: '1 litro equivale a 1000 mililitros. Portanto, 1,5 * 1000 = 1500 mL.'},
            
            // b) Medidas de √°rea e volume (5 quest√µes)
            { topic: '√Årea e Volume', difficulty: 'F√°cil', q: '6) Qual a √°rea de um terreno quadrado com lado medindo 20 metros?', options: ['40 m¬≤', '80 m¬≤', '200 m¬≤', '400 m¬≤'], answer: '400 m¬≤', explanation: 'A √°rea de um quadrado √© lado ao quadrado: 20¬≤ = 400 m¬≤.'},
            { topic: '√Årea e Volume', difficulty: 'M√©dio', q: '7) Uma caixa c√∫bica tem 50 cm de aresta. Qual o seu volume em cm¬≥?', options: ['150 cm¬≥', '2500 cm¬≥', '12500 cm¬≥', '125000 cm¬≥'], answer: '125000 cm¬≥', explanation: 'O volume de um cubo √© a aresta ao cubo: 50¬≥ = 125.000 cm¬≥.'},
            { topic: '√Årea e Volume', difficulty: 'M√©dio', q: '8) A √°rea de um tri√¢ngulo com base 10 cm e altura 8 cm √©:', options: ['80 cm¬≤', '40 cm¬≤', '18 cm¬≤', '90 cm¬≤'], answer: '40 cm¬≤', explanation: 'A √°rea do tri√¢ngulo √© (base * altura) / 2 = (10 * 8) / 2 = 40 cm¬≤.'},
            { topic: '√Årea e Volume', difficulty: 'F√°cil', q: '9) O que mede o volume de um objeto?', options: ['O comprimento do seu contorno', 'A medida de sua superf√≠cie', 'O espa√ßo que ele ocupa', 'O seu peso'], answer: 'O espa√ßo que ele ocupa', explanation: 'Volume √© a medida do espa√ßo tridimensional ocupado por um corpo.'},
            { topic: '√Årea e Volume', difficulty: 'Dif√≠cil', q: '10) Se um metro c√∫bico (m¬≥) equivale a 1000 litros, quantos litros cabem em uma caixa d\'√°gua de 0,8 m¬≥?', options: ['8 litros', '80 litros', '800 litros', '8000 litros'], answer: '800 litros', explanation: 'Basta multiplicar o volume em m¬≥ por 1000: 0,8 * 1000 = 800 litros.'},

            // c) Convers√£o de unidades de medida (5 quest√µes)
            { topic: 'Convers√£o de Unidades', difficulty: 'F√°cil', q: '11) 3,5 quil√¥metros equivalem a quantos metros?', options: ['35 m', '350 m', '3500 m', '35000 m'], answer: '3500 m', explanation: 'Para converter km para m, multiplica-se por 1000.'},
            { topic: 'Convers√£o de Unidades', difficulty: 'M√©dio', q: '12) Uma √°rea de 2 metros quadrados (m¬≤) equivale a quantos cent√≠metros quadrados (cm¬≤)?', options: ['200 cm¬≤', '2.000 cm¬≤', '20.000 cm¬≤', '200.000 cm¬≤'], answer: '20.000 cm¬≤', explanation: 'Como 1 m = 100 cm, ent√£o 1 m¬≤ = 100¬≤ cm¬≤ = 10.000 cm¬≤. Logo, 2 m¬≤ = 20.000 cm¬≤.'},
            { topic: 'Convers√£o de Unidades', difficulty: 'M√©dio', q: '13) 7200 segundos correspondem a quantas horas?', options: ['1 hora', '1,5 horas', '2 horas', '2,5 horas'], answer: '2 horas', explanation: '1 hora = 3600 segundos. 7200 / 3600 = 2 horas.'},
            { topic: 'Convers√£o de Unidades', difficulty: 'F√°cil', q: '14) 500 gramas correspondem a quantos quilogramas?', options: ['0,05 kg', '0,5 kg', '5 kg', '50 kg'], answer: '0,5 kg', explanation: 'Para converter g para kg, divide-se por 1000.'},
            { topic: 'Convers√£o de Unidades', difficulty: 'Dif√≠cil', q: '15) Um volume de 3.000 cm¬≥ equivale a quantos litros?', options: ['0,3 L', '3 L', '30 L', '300 L'], answer: '3 L', explanation: '1 litro equivale a 1000 cm¬≥. Portanto, 3000 cm¬≥ equivalem a 3 litros.'},

            // d) e e) e f) Reta e Posi√ß√µes Relativas (5 quest√µes)
            { topic: 'Reta e Posi√ß√µes Relativas', difficulty: 'F√°cil', q: '16) Uma linha que tem come√ßo e fim √© um(a):', options: ['Reta', 'Semirreta', 'Segmento de reta', 'V√©rtice'], answer: 'Segmento de reta', explanation: '√â um peda√ßo finito de uma reta, delimitado por dois pontos.'},
            { topic: 'Reta e Posi√ß√µes Relativas', difficulty: 'M√©dio', q: '17) Duas retas que est√£o no mesmo plano e n√£o se cruzam s√£o chamadas de:', options: ['Concorrentes', 'Perpendiculares', 'Paralelas', 'Coincidentes'], answer: 'Paralelas', explanation: 'A principal caracter√≠stica das retas paralelas √© n√£o possu√≠rem nenhum ponto em comum.'},
            { topic: 'Reta e Posi√ß√µes Relativas', difficulty: 'M√©dio', q: '18) Uma reta que corta um segmento de reta em seu ponto m√©dio, formando um √¢ngulo de 90¬∞, √© chamada de:', options: ['Bissetriz', 'Altura', 'Mediana', 'Mediatriz'], answer: 'Mediatriz', explanation: 'A mediatriz √© definida por essas duas condi√ß√µes: ser perpendicular e passar pelo ponto m√©dio.'},
            { topic: 'Reta e Posi√ß√µes Relativas', difficulty: 'F√°cil', q: '19) Se um ponto P pertence a uma reta r, dizemos que:', options: ['P √© exterior a r', 'P √© colinear a r', 'P √© paralelo a r', 'P √© perpendicular a r'], answer: 'P √© colinear a r', explanation: 'Colinear significa que est√° na mesma linha. Tamb√©m se pode dizer que P √© incidente a r.'},
            { topic: 'Reta e Posi√ß√µes Relativas', difficulty: 'F√°cil', q: '20) Duas retas que se cruzam em um √∫nico ponto s√£o:', options: ['Paralelas', 'Coincidentes', 'Concorrentes', 'Segmentos'], answer: 'Concorrentes', explanation: 'O ponto de cruzamento √© o ponto concorrente entre elas.'},

            // g) e h) e i) √Çngulos e Teoremas (5 quest√µes)
            { topic: '√Çngulos', difficulty: 'F√°cil', q: '21) Dois √¢ngulos que somam 180¬∞ s√£o chamados de:', options: ['Complementares', 'Suplementares', 'Opostos pelo v√©rtice', 'Agudos'], answer: 'Suplementares', explanation: '√Çngulos suplementares formam um √¢ngulo raso (meia-volta).'},
            { topic: 'Teorema de Tales', difficulty: 'M√©dio', q: '22) Pelo Teorema de Tales, se um feixe de retas paralelas corta uma transversal em segmentos de 3 cm e 5 cm, e outra transversal em um segmento de 6 cm correspondente ao de 3 cm, qual a medida do outro segmento?', options: ['8 cm', '9 cm', '10 cm', '11 cm'], answer: '10 cm', explanation: 'Pela propor√ß√£o: 3/5 = 6/x. Multiplicando em cruz, 3x = 30, logo x = 10 cm.'},
            { topic: 'Teorema da Bissetriz', difficulty: 'Dif√≠cil', q: '23) A bissetriz de um √¢ngulo A de um tri√¢ngulo ABC divide o lado oposto BC em segmentos de 4 cm e 6 cm. Se o lado AB, oposto ao segmento de 6 cm, mede 9 cm, qual a medida do lado AC?', options: ['5 cm', '6 cm', '7 cm', '8 cm'], answer: '6 cm', explanation: 'Pelo Teorema da Bissetriz Interna, a raz√£o entre os lados √© igual √† raz√£o entre os segmentos: AC/4 = AB/6 => AC/4 = 9/6 => 6*AC = 36 => AC = 6 cm.'},
            { topic: '√Çngulos', difficulty: 'F√°cil', q: '24) O que √© a bissetriz de um √¢ngulo?', options: ['A reta que o corta ao meio', 'A soma de dois √¢ngulos', 'Uma reta perpendicular', 'A semirreta que o divide em dois √¢ngulos iguais'], answer: 'A semirreta que o divide em dois √¢ngulos iguais', explanation: 'Bissetriz significa "dividir em duas partes iguais".'},
            { topic: '√Çngulos', difficulty: 'M√©dio', q: '25) O suplemento do complemento de um √¢ngulo de 40¬∞ √©:', options: ['40¬∞', '50¬∞', '130¬∞', '140¬∞'], answer: '130¬∞', explanation: 'O complemento de 40¬∞ √© 90¬∞-40¬∞=50¬∞. O suplemento de 50¬∞ √© 180¬∞-50¬∞=130¬∞.'},

            // j) e k) e l) e m) Tri√¢ngulos (5 quest√µes)
            { topic: 'Tri√¢ngulos - Conceitos', difficulty: 'F√°cil', q: '26) Em um tri√¢ngulo ret√¢ngulo, os lados que formam o √¢ngulo reto s√£o chamados de:', options: ['Hipotenusas', 'Catetos', 'Bissetrizes', 'Medianas'], answer: 'Catetos', explanation: 'A hipotenusa √© o lado oposto ao √¢ngulo reto.'},
            { topic: 'Teorema de Pit√°goras', difficulty: 'M√©dio', q: '27) Os lados de um tri√¢ngulo medem 6 cm, 8 cm e 10 cm. Esse tri√¢ngulo √© ret√¢ngulo?', options: ['Sim', 'N√£o', 'Faltam dados para saber'], answer: 'Sim', explanation: 'Pelo Teorema de Pit√°goras: 6¬≤ + 8¬≤ = 36 + 64 = 100. Como 10¬≤ = 100, a rela√ß√£o √© v√°lida, ent√£o √© um tri√¢ngulo ret√¢ngulo.'},
            { topic: 'Rela√ß√µes M√©tricas no Tri√¢ngulo Ret√¢ngulo', difficulty: 'Dif√≠cil', q: '28) Em um tri√¢ngulo ret√¢ngulo, a altura relativa √† hipotenusa a divide em proje√ß√µes de 4 cm e 9 cm. Qual o valor dessa altura?', options: ['5 cm', '6 cm', '7 cm', '13 cm'], answer: '6 cm', explanation: 'Pela rela√ß√£o m√©trica h¬≤ = m*n, temos h¬≤ = 4*9 = 36. Logo, h = 6 cm.'},
            { topic: 'Raz√µes Trigonom√©tricas', difficulty: 'M√©dio', q: '29) O seno de um √¢ngulo agudo em um tri√¢ngulo ret√¢ngulo √© a raz√£o entre:', options: ['Cateto Adjacente / Hipotenusa', 'Cateto Oposto / Hipotenusa', 'Cateto Oposto / Cateto Adjacente', 'Hipotenusa / Cateto Oposto'], answer: 'Cateto Oposto / Hipotenusa', explanation: 'Essa √© a defini√ß√£o de seno.'},
            { topic: 'Semelhan√ßa de Tri√¢ngulos', difficulty: 'M√©dio', q: '30) Um tri√¢ngulo de lados 3, 4 e 5 √© semelhante a um tri√¢ngulo cujo menor lado mede 6. Qual o per√≠metro do tri√¢ngulo maior?', options: ['12', '18', '24', '30'], answer: '24', explanation: 'A raz√£o de semelhan√ßa √© 6/3 = 2. Os outros lados ser√£o 4*2=8 e 5*2=10. O per√≠metro √© 6+8+10=24.'},
            
            // n) e o) e p) e q) Leis e Pol√≠gonos (5 quest√µes)
            { topic: 'Lei dos Cossenos', difficulty: 'M√©dio', q: '31) Para qual situa√ß√£o a Lei dos Cossenos √© mais indicada?', options: ['Calcular a √°rea de um c√≠rculo', 'Quando conhecemos os tr√™s lados de um tri√¢ngulo qualquer', 'Quando conhecemos os tr√™s √¢ngulos de um tri√¢ngulo', 'Apenas para tri√¢ngulos ret√¢ngulos'], answer: 'Quando conhecemos os tr√™s lados de um tri√¢ngulo qualquer', explanation: 'A Lei dos Cossenos permite descobrir um √¢ngulo a partir dos tr√™s lados, ou um lado a partir de dois lados e o √¢ngulo entre eles.'},
            { topic: 'Pol√≠gonos', difficulty: 'F√°cil', q: '32) Quantas diagonais tem um hex√°gono?', options: ['6', '9', '12', '15'], answer: '9', explanation: 'A f√≥rmula √© d = n(n-3)/2. Para n=6, d = 6(3)/2 = 9.'},
            { topic: 'Semelhan√ßa de Pol√≠gonos', difficulty: 'M√©dio', q: '33) Se a raz√£o de semelhan√ßa entre dois pol√≠gonos √© 3, e a √°rea do menor √© 10 cm¬≤, qual a √°rea do maior?', options: ['30 cm¬≤', '60 cm¬≤', '90 cm¬≤', '100 cm¬≤'], answer: '90 cm¬≤', explanation: 'A raz√£o entre as √°reas √© o quadrado da raz√£o de semelhan√ßa (k¬≤). Se k=3, k¬≤=9. A √°rea do maior √© 10 * 9 = 90 cm¬≤.'},
            { topic: 'Rela√ß√µes M√©tricas nos Pol√≠gonos Regulares', difficulty: 'Dif√≠cil', q: '34) Qual a medida do lado de um quadrado inscrito em uma circunfer√™ncia de raio 5 cm?', options: ['5 cm', '10 cm', '5‚àö2 cm', '10‚àö2 cm'], answer: '5‚àö2 cm', explanation: 'A rela√ß√£o para o quadrado inscrito √© L = R‚àö2. Logo, L = 5‚àö2 cm.'},
            { topic: 'Lei dos Senos', difficulty: 'M√©dio', q: '35) Um tri√¢ngulo tem um lado de 10 cm oposto a um √¢ngulo de 30¬∞. Outro lado √© oposto a um √¢ngulo de 45¬∞. Qual o comprimento deste segundo lado? (Dados: sen 30¬∞ = 0,5; sen 45¬∞ ‚âà 0,7)', options: ['12 cm', '14 cm', '16 cm', '18 cm'], answer: '14 cm', explanation: 'Pela Lei dos Senos: x/sen(45¬∞) = 10/sen(30¬∞) => x/0,7 = 10/0,5 => x/0,7 = 20 => x = 14 cm.'},

            // r) e s) e t) Circunfer√™ncia e √Åreas (5 quest√µes)
            { topic: 'Circunfer√™ncia', difficulty: 'F√°cil', q: '36) Qual o comprimento de uma circunfer√™ncia com raio de 10 cm? (Use œÄ ‚âà 3,14)', options: ['31,4 cm', '62,8 cm', '314 cm¬≤', '100 cm'], answer: '62,8 cm', explanation: 'A f√≥rmula do comprimento √© C = 2œÄr. C = 2 * 3,14 * 10 = 62,8 cm.'},
            { topic: '√Årea de Figuras Planas', difficulty: 'M√©dio', q: '37) Qual a √°rea de um c√≠rculo com di√¢metro de 20 cm? (Use œÄ = 3)', options: ['60 cm¬≤', '120 cm¬≤', '300 cm¬≤', '1200 cm¬≤'], answer: '300 cm¬≤', explanation: 'Se o di√¢metro √© 20, o raio √© 10. A √°rea √© A = œÄr¬≤ = 3 * 10¬≤ = 3 * 100 = 300 cm¬≤.'},
            { topic: 'Rela√ß√µes M√©tricas na Circunfer√™ncia', difficulty: 'Dif√≠cil', q: '38) Duas cordas se cruzam dentro de um c√≠rculo. Os segmentos de uma medem 4 e 9. Se um dos segmentos da outra mede 6, quanto mede o outro?', options: ['4', '5', '6', '8'], answer: '6', explanation: 'Pela rela√ß√£o de cordas, o produto dos segmentos √© igual: 4 * 9 = 6 * x => 36 = 6x => x = 6.'},
            { topic: 'Per√≠metro e √Årea', difficulty: 'F√°cil', q: '39) O per√≠metro de um ret√¢ngulo com lados 15m e 10m √©:', options: ['25 m', '50 m', '150 m', '100 m'], answer: '50 m', explanation: 'O per√≠metro √© a soma de todos os lados: 15 + 10 + 15 + 10 = 50 m.'},
            { topic: 'Per√≠metro e √Årea', difficulty: 'M√©dio', q: '40) Qual a √°rea de um trap√©zio com bases 12 cm e 8 cm, e altura 5 cm?', options: ['25 cm¬≤', '50 cm¬≤', '100 cm¬≤', '200 cm¬≤'], answer: '50 cm¬≤', explanation: 'A f√≥rmula da √°rea do trap√©zio √© A = ((B+b)*h)/2 = ((12+8)*5)/2 = (20*5)/2 = 50 cm¬≤.'}
        ];

        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let isRandomOrder = false; 

        // DOM Elements for the quiz
        const questionInfoContainer = document.createElement('div');
        questionInfoContainer.className = 'flex justify-between items-center mb-2';
        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)]';
        const questionDifficulty = document.createElement('span');
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4 hidden';
        nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3 hidden';
        redoBtn.textContent='Refazer';

        quizContainer.appendChild(questionInfoContainer);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);
        
        orderToggleBtn.addEventListener('click', () => {
            isRandomOrder = !isRandomOrder; 
            orderToggleBtn.textContent = isRandomOrder ? 'Ordem Aleat√≥ria' : 'Ordem Crescente';
            startQuiz();
        });

        function switchView(view){
            if(view==='learn'){
                practiceSection.classList.add('hidden');
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
                btnPractice.classList.replace('btn-primary', 'btn-ghost');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                btnLearn.classList.replace('btn-primary', 'btn-ghost');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }

        btnLearn.addEventListener('click', () => switchView('learn'));
        btnPractice.addEventListener('click', () => switchView('practice'));

        function renderQuestionButtons(){
            questionButtons.innerHTML='';
            quizData.forEach((_,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                b.title = `Ir para a quest√£o ${originalIndex+1}`;
                b.onclick = ()=>{
                    const pos = questionOrder.indexOf(originalIndex);
                    if(pos >= 0){ currentIndex = pos; showQuestion(); }
                };
                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted && currentIndex < quizData.length) {
                    const currentQuestionOriginalIndex = questionOrder[currentIndex];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                questionButtons.appendChild(b);
            });
        }
        
        function startQuiz(){
            if (isRandomOrder) {
                shuffleArray(questionOrder);
            } else {
                questionOrder = quizData.map((_, i) => i);
            }
            currentIndex = 0;
            questionStatus.fill(null);
            showQuestion();
        }

        function showQuestion(){
            const finalResultsDiv = document.getElementById('final-results');
            if (finalResultsDiv) finalResultsDiv.remove();
            quizContainer.style.display = 'block';

            if (currentIndex >= quizData.length) {
                showFinalResults();
                return;
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionInfoContainer.classList.remove('hidden');
            questionTopic.textContent = qObj.topic;
            questionDifficulty.textContent = qObj.difficulty;
            questionDifficulty.className = `difficulty-badge difficulty-${qObj.difficulty.toLowerCase()}`;
            
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            redoBtn.classList.add('hidden');
            nextBtn.classList.add('hidden'); 
            
            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; 
                b.textContent=opt;
                b.onclick = ()=> selectAnswer(b, opt, qObj.answer, qObj.explanation, qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons();
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            
            quizContainer.style.display = 'none';

            let finalResultsDiv = document.createElement('div');
            finalResultsDiv.id = 'final-results';
            finalResultsDiv.className = 'text-center';
            practiceSection.appendChild(finalResultsDiv);

            finalResultsDiv.innerHTML = `
                <h2 class="text-2xl font-bold">üéâ Fim do Quiz! üéâ</h2>
                <p class="text-lg mt-4">Voc√™ acertou ${correctCount} de ${total} quest√µes.</p>
                <button id="restart-btn" class="btn-primary mt-6">Recome√ßar Quiz</button>
            `;
            
            document.getElementById('restart-btn').onclick = () => {
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=> {
                b.disabled=true;
                if(b.textContent === correct) {
                    b.classList.add('correct');
                }
            });
            nextBtn.classList.remove('hidden');

            if(opt===correct){
                btn.classList.add('celebrate');
                createConfetti();
                questionStatus[qIdx]='correct';
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> ${explanation || ''}`;
                redoBtn.classList.remove('hidden');
            }
            renderQuestionButtons();
        }

        nextBtn.addEventListener('click', ()=>{
            if(currentIndex < questionOrder.length-1){ 
                currentIndex++; 
                showQuestion(); 
            } else { 
                currentIndex++;
                showFinalResults();
            }
        });

        redoBtn.addEventListener('click', ()=>{
            const currentQuestionIndex = questionOrder[currentIndex];
            questionStatus[currentQuestionIndex] = null;
            showQuestion();
        });

        function shuffleArray(a){
            for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        }

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        switchView('learn');
    });
    </script>
</body>
</html>

