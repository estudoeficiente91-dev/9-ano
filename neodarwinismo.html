<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Neodarwinismo ‚Äì 9¬∫ Ano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#071023; --card:#0b1624; --accent:#3b82f6; --muted:#97a6bf; --text:#e6eef8; --success:#34d399; --danger:#ef4444; --border:rgba(255,255,255,0.12); --muted-2: rgba(230,238,248,0.85);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(59,130,246,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; cursor:pointer; }
        #question-buttons button.current-question { background-color: rgba(59, 130, 246, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(96,165,250,0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        .theme-light{ --bg: #f8fafc; --card: #ffffff; --muted: #475569; --text: #0f1724; --accent: #0284c7; --success: #047857; --danger: #b91c1c; --border: rgba(15,23,42,0.1); --muted-2: rgba(15,23,36,0.85); }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(59, 130, 246, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
        .difficulty-badge { padding: 0.1rem 0.6rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .difficulty-facil { background-color: rgba(52, 211, 153, 0.2); color: #6ee7b7; }
        .difficulty-medio { background-color: rgba(250, 204, 21, 0.2); color: #facc15; }
        .difficulty-dificil { background-color: rgba(248, 113, 113, 0.2); color: #f87171; }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Ci√™ncias ‚Äî 9¬∫ Ano</h1>
                    <p class="text-sm text-slate-400">Guia de estudos completo sobre Neodarwinismo.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">Neodarwinismo ou Teoria Sint√©tica da Evolu√ß√£o</h2>
                            <p>O Neodarwinismo √© a "vers√£o moderna" da teoria da evolu√ß√£o de Charles Darwin. Darwin explicou brilhantemente o mecanismo da <span class="highlight">sele√ß√£o natural</span>, mas na sua √©poca n√£o sabia EXATAMENTE como as caracter√≠sticas eram passadas de pais para filhos e, principalmente, como novas caracter√≠sticas surgiam. O Neodarwinismo une as ideias de Darwin com os conhecimentos da <span class="highlight">Gen√©tica</span>, explicando as causas da variabilidade.</p>

                            <h3 class="sub-topic-title">Os Pilares do Neodarwinismo</h3>
                            <p>A teoria moderna se baseia em tr√™s grandes pilares:</p>
                            <ul>
                                <li><strong>Muta√ß√£o G√™nica:</strong> √â a <span class="highlight">fonte prim√°ria</span> de toda a variabilidade. Muta√ß√µes s√£o <span class="highlight">altera√ß√µes aleat√≥rias</span> no DNA de um ser vivo. Elas acontecem por acaso (ex: erros na c√≥pia do DNA) e podem criar uma nova caracter√≠stica que n√£o existia antes. A maioria das muta√ß√µes √© neutra ou prejudicial, mas algumas podem ser vantajosas em um determinado ambiente.</li>
                                <li><strong>Recombina√ß√£o G√™nica:</strong> √â a "mistura" dos genes dos pais que acontece durante a forma√ß√£o dos gametas (reprodu√ß√£o sexuada). Ela n√£o cria genes novos, mas <span class="highlight">embaralha os genes existentes</span>, criando combina√ß√µes √∫nicas e aumentando a diversidade de caracter√≠sticas em uma popula√ß√£o.</li>
                                <li><strong>Sele√ß√£o Natural:</strong> Continua sendo o mecanismo central. O ambiente "seleciona" as caracter√≠sticas mais adaptativas. Indiv√≠duos com muta√ß√µes vantajosas para aquele ambiente t√™m mais chances de <span class="highlight">sobreviver e deixar mais descendentes</span>. Com o tempo, essa caracter√≠stica vantajosa se torna mais comum na popula√ß√£o.</li>
                            </ul>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                     <div class="mb-4 flex justify-end">
                        <button id="order-toggle-btn" class="btn-ghost text-xs">Ordem Crescente</button>
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const orderToggleBtn = document.getElementById('order-toggle-btn');

        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer || !orderToggleBtn){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-science-9ano-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-science-9ano-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            { topic: 'Conceitos Fundamentais', difficulty: 'F√°cil', q: '1) O Neodarwinismo √© a uni√£o das ideias de Darwin com os conhecimentos da:', options: ['F√≠sica Qu√¢ntica', 'Gen√©tica', 'Qu√≠mica Org√¢nica', 'Geologia'], answer: 'Gen√©tica', explanation: 'A Teoria Sint√©tica da Evolu√ß√£o incorpora os conceitos de muta√ß√£o e recombina√ß√£o g√™nica para explicar a variabilidade que Darwin observou.'},
            { topic: 'Conceitos Fundamentais', difficulty: 'F√°cil', q: '2) Qual foi a principal "lacuna" na teoria original de Darwin que o Neodarwinismo preencheu?', options: ['A falta de f√≥sseis', 'A explica√ß√£o para a origem da vida', 'A causa da variabilidade entre os indiv√≠duos', 'A idade da Terra'], answer: 'A causa da variabilidade entre os indiv√≠duos', explanation: 'Darwin sabia que existiam varia√ß√µes, mas n√£o conhecia os mecanismos gen√©ticos (muta√ß√£o e recombina√ß√£o) que as causavam.'},
            { topic: 'Variabilidade Gen√©tica', difficulty: 'F√°cil', q: '3) Qual √© a fonte prim√°ria de novas caracter√≠sticas nos seres vivos?', options: ['Sele√ß√£o natural', 'Recombina√ß√£o g√™nica', 'Muta√ß√£o', 'Adapta√ß√£o ao meio'], answer: 'Muta√ß√£o', explanation: 'A muta√ß√£o √© o √∫nico processo que cria novos alelos (vers√µes de genes), sendo a fonte original de toda a variabilidade.'},
            { topic: 'Variabilidade Gen√©tica', difficulty: 'M√©dio', q: '4) A recombina√ß√£o g√™nica, que ocorre durante a meiose, tem como principal fun√ß√£o:', options: ['Criar novos genes que n√£o existiam antes', 'Corrigir erros no DNA', 'Embaralhar os genes existentes, criando novas combina√ß√µes', 'Causar doen√ßas gen√©ticas'], answer: 'Embaralhar os genes existentes, criando novas combina√ß√µes', explanation: 'A recombina√ß√£o aumenta a diversidade de uma popula√ß√£o ao criar novas combina√ß√µes de caracter√≠sticas herdadas dos pais.'},
            { topic: 'Variabilidade Gen√©tica', difficulty: 'M√©dio', q: '5) As muta√ß√µes s√£o eventos:', options: ['Direcionados pela necessidade do organismo', 'Sempre ben√©ficos para a sobreviv√™ncia', 'Aleat√≥rios e n√£o intencionais', 'Que acontecem apenas em plantas'], answer: 'Aleat√≥rios e n√£o intencionais', explanation: 'As muta√ß√µes ocorrem ao acaso. √â a sele√ß√£o natural que atua sobre elas, favorecendo as que se mostram √∫teis em um determinado ambiente.'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'F√°cil', q: '6) A sele√ß√£o natural atua diretamente sobre:', options: ['O gen√≥tipo (os genes)', 'O fen√≥tipo (as caracter√≠sticas observ√°veis)', 'O ambiente', 'As muta√ß√µes futuras'], answer: 'O fen√≥tipo (as caracter√≠sticas observ√°veis)', explanation: 'O ambiente "seleciona" as caracter√≠sticas (fen√≥tipo) que conferem maior chance de sobreviv√™ncia e reprodu√ß√£o. Consequentemente, os genes (gen√≥tipo) respons√°veis por elas s√£o passados adiante.'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'M√©dio', q: '7) O uso indiscriminado de antibi√≥ticos pode levar ao surgimento de "superbact√©rias" resistentes. Isso ocorre porque:', options: ['Os antibi√≥ticos fazem as bact√©rias sofrerem muta√ß√µes para resistir', 'As bact√©rias se acostumam com o rem√©dio', 'Algumas bact√©rias j√° possuem muta√ß√µes de resist√™ncia e s√£o selecionadas pelo antibi√≥tico', 'As bact√©rias aprendem a se defender'], answer: 'Algumas bact√©rias j√° possuem muta√ß√µes de resist√™ncia e s√£o selecionadas pelo antibi√≥tico', explanation: 'A resist√™ncia j√° existe na popula√ß√£o bacteriana por muta√ß√£o. O antibi√≥tico mata as sens√≠veis e "seleciona" as resistentes, que se multiplicam.'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'M√©dio', q: '8) Em uma floresta escura, mariposas de cor escura t√™m mais chances de sobreviver a predadores do que as de cor clara. Este √© um exemplo de:', options: ['Muta√ß√£o direcionada', 'Recombina√ß√£o g√™nica', 'Sele√ß√£o natural', 'Deriva gen√©tica'], answer: 'Sele√ß√£o natural', explanation: 'O ambiente (cor da floresta) est√° selecionando a caracter√≠stica (cor escura) que oferece uma vantagem (camuflagem).'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'Dif√≠cil', q: '9) A frase "o mais forte sobrevive" √© uma interpreta√ß√£o popular, mas imprecisa, da sele√ß√£o natural. A ideia central de Darwin √© a sobreviv√™ncia do:', options: ['Mais inteligente', 'Maior', 'Mais adaptado ao ambiente', 'Mais agressivo'], answer: 'Mais adaptado ao ambiente', explanation: 'N√£o se trata de for√ßa, mas de adapta√ß√£o. Um ser pequeno e lento pode ser mais adaptado que um grande e forte, dependendo do ambiente.'},
            { topic: 'Conceitos Fundamentais', difficulty: 'F√°cil', q: '10) Os tr√™s pilares do Neodarwinismo s√£o:', options: ['Muta√ß√£o, Heran√ßa e Ambiente', 'Varia√ß√£o, Competi√ß√£o e Sucesso Reprodutivo', 'Muta√ß√£o, Recombina√ß√£o G√™nica e Sele√ß√£o Natural', 'Gen√©tica, Ecologia e Paleontologia'], answer: 'Muta√ß√£o, Recombina√ß√£o G√™nica e Sele√ß√£o Natural', explanation: 'A muta√ß√£o e a recombina√ß√£o geram a variabilidade sobre a qual a sele√ß√£o natural atua.'},
            
            { topic: 'Variabilidade Gen√©tica', difficulty: 'M√©dio', q: '11) Qual processo N√ÉO aumenta a variabilidade gen√©tica em uma popula√ß√£o?', options: ['Muta√ß√£o', 'Recombina√ß√£o na meiose', 'Reprodu√ß√£o sexuada', 'Reprodu√ß√£o assexuada'], answer: 'Reprodu√ß√£o assexuada', explanation: 'A reprodu√ß√£o assexuada gera clones, c√≥pias gen√©ticas do indiv√≠duo original, n√£o promovendo a variabilidade.'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'M√©dio', q: '12) O bico dos tentilh√µes de Gal√°pagos, estudados por Darwin, variam de formato de ilha para ilha. Segundo o Neodarwinismo, essa varia√ß√£o surgiu por:', options: ['Esfor√ßo dos p√°ssaros para comer sementes diferentes', 'Muta√ß√£o e recombina√ß√£o, sendo depois selecionada pelo tipo de alimento dispon√≠vel', 'Uma decis√£o divina', 'Necessidade de se diferenciarem'], answer: 'Muta√ß√£o e recombina√ß√£o, sendo depois selecionada pelo tipo de alimento dispon√≠vel', explanation: 'A varia√ß√£o gen√©tica surge ao acaso; a sele√ß√£o natural (tipo de alimento) favorece os bicos mais eficientes para cada ambiente.'},
            { topic: 'Conceitos Fundamentais', difficulty: 'Dif√≠cil', q: '13) O que √© especia√ß√£o?', options: ['O estudo de uma √∫nica esp√©cie', 'O processo de surgimento de novas esp√©cies a partir de um ancestral comum', 'A extin√ß√£o em massa de v√°rias esp√©cies', 'A classifica√ß√£o dos seres vivos'], answer: 'O processo de surgimento de novas esp√©cies a partir de um ancestral comum', explanation: 'Geralmente ocorre quando popula√ß√µes s√£o separadas por isolamento geogr√°fico e sofrem muta√ß√µes e press√µes seletivas diferentes.'},
            { topic: 'Variabilidade Gen√©tica', difficulty: 'M√©dio', q: '14) Uma muta√ß√£o em uma c√©lula da pele de um animal:', options: ['Ser√° passada para seus descendentes', 'N√£o ser√° passada para seus descendentes', 'Sempre causar√° c√¢ncer', 'Mudar√° a cor do animal inteiro'], answer: 'N√£o ser√° passada para seus descendentes', explanation: 'Para ser heredit√°ria, uma muta√ß√£o precisa ocorrer nas c√©lulas germinativas (gametas: √≥vulo ou espermatozoide).'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'M√©dio', q: '15) Insetos que desenvolvem resist√™ncia a inseticidas s√£o um exemplo pr√°tico de:', options: ['Lamarckismo', 'Sele√ß√£o artificial', 'Sele√ß√£o natural', 'Gera√ß√£o espont√¢nea'], answer: 'Sele√ß√£o natural', explanation: 'O veneno atua como um agente seletivo, eliminando os suscet√≠veis e favorecendo a reprodu√ß√£o dos que j√° eram resistentes.'},
            
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '16) A Teoria Sint√©tica da Evolu√ß√£o considera a ________ como a unidade evolutiva.', options: ['C√©lula', 'Indiv√≠duo', 'Popula√ß√£o', 'Esp√©cie'], answer: 'Popula√ß√£o', explanation: 'A evolu√ß√£o n√£o ocorre em um indiv√≠duo isolado, mas sim atrav√©s da mudan√ßa na frequ√™ncia dos genes ao longo das gera√ß√µes em uma popula√ß√£o.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '17) Qual conceito N√ÉO faz parte do Neodarwinismo?', options: ['Sele√ß√£o Natural', 'Muta√ß√£o', 'Lei do uso e desuso', 'Recombina√ß√£o G√™nica'], answer: 'Lei do uso e desuso', explanation: 'A "lei do uso e desuso" e a "heran√ßa dos caracteres adquiridos" s√£o ideias de Lamarck, que foram superadas.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '18) Um urso polar tem uma pelagem branca e espessa. Segundo o Neodarwinismo, essa caracter√≠stica:', options: ['Surgiu porque o urso sentia frio na neve', 'Foi uma muta√ß√£o aleat√≥ria que se mostrou vantajosa no ambiente √°rtico', 'Foi adquirida durante a vida e passada aos filhos', '√â um exemplo de recombina√ß√£o g√™nica apenas'], answer: 'Foi uma muta√ß√£o aleat√≥ria que se mostrou vantajosa no ambiente √°rtico', explanation: 'A muta√ß√£o para a cor branca surgiu ao acaso e foi selecionada por oferecer camuflagem e, consequentemente, maior sucesso na ca√ßa.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '19) Qual dos eventos abaixo mais promove a recombina√ß√£o g√™nica?', options: ['Divis√£o celular por mitose', 'Reprodu√ß√£o por brotamento', 'Reprodu√ß√£o sexuada', 'Uma muta√ß√£o pontual'], answer: 'Reprodu√ß√£o sexuada', explanation: 'A reprodu√ß√£o sexuada envolve a fus√£o de gametas de dois indiv√≠duos, promovendo uma intensa mistura de genes.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '20) O isolamento geogr√°fico de duas popula√ß√µes de uma mesma esp√©cie pode levar √† especia√ß√£o porque:', options: ['Impede a sele√ß√£o natural de atuar', 'Aumenta a ocorr√™ncia de muta√ß√µes', 'Interrompe o fluxo g√™nico entre elas', 'Faz os indiv√≠duos se tornarem mais fortes'], answer: 'Interrompe o fluxo g√™nico entre elas', explanation: 'Sem a troca de genes, as duas popula√ß√µes acumulam muta√ß√µes diferentes e s√£o submetidas a press√µes seletivas distintas, podendo se tornar t√£o diferentes a ponto de n√£o poderem mais cruzar.'},
             { topic: 'Conceitos Fundamentais', difficulty: 'M√©dio', q: '21) A Teoria Sint√©tica da Evolu√ß√£o tamb√©m √© conhecida como:', options: ['Lamarckismo', 'Darwinismo Social', 'Criacionismo', 'Neodarwinismo'], answer: 'Neodarwinismo', explanation: '√â o nome dado √† "s√≠ntese" moderna entre as ideias de Darwin e a gen√©tica.'},
            { topic: 'Variabilidade Gen√©tica', difficulty: 'F√°cil', q: '22) Qual dos processos abaixo cria novas combina√ß√µes de genes, mas N√ÉO cria genes totalmente novos?', options: ['Muta√ß√£o', 'Sele√ß√£o Natural', 'Recombina√ß√£o G√™nica', 'Isolamento Geogr√°fico'], answer: 'Recombina√ß√£o G√™nica', explanation: 'A recombina√ß√£o apenas "embaralha" os alelos que j√° existem na popula√ß√£o.'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'M√©dio', q: '23) O pesco√ßo longo das girafas, segundo a vis√£o neodarwinista, √© resultado de:', options: ['Um esfor√ßo cont√≠nuo para alcan√ßar folhas mais altas, passado aos descendentes.', 'Uma muta√ß√£o aleat√≥ria para pesco√ßo longo que foi vantajosa e selecionada pelo ambiente.', 'Um processo de crescimento que ocorre durante a vida de cada girafa.', 'Uma escolha est√©tica das f√™meas por machos de pesco√ßo comprido.'], answer: 'Uma muta√ß√£o aleat√≥ria para pesco√ßo longo que foi vantajosa e selecionada pelo ambiente.', explanation: 'A varia√ß√£o (pesco√ßos de diferentes tamanhos) surgiu por muta√ß√£o/recombina√ß√£o. A sele√ß√£o natural favoreceu os indiv√≠duos com pesco√ßos mais longos, que tinham mais acesso a alimento.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '24) A evolu√ß√£o ocorre para tornar os organismos "perfeitos". Essa afirma√ß√£o √©:', options: ['Verdadeira, pois a sele√ß√£o natural busca a perfei√ß√£o.', 'Falsa, pois a evolu√ß√£o √© um processo cont√≠nuo de adapta√ß√£o a um ambiente em mudan√ßa, sem um objetivo final.', 'Verdadeira, pois as muta√ß√µes sempre melhoram os organismos.', 'Falsa, pois apenas a recombina√ß√£o leva √† melhoria.'], answer: 'Falsa, pois a evolu√ß√£o √© um processo cont√≠nuo de adapta√ß√£o a um ambiente em mudan√ßa, sem um objetivo final.', explanation: 'Uma caracter√≠stica pode ser adaptativa hoje e desvantajosa amanh√£ se o ambiente mudar. N√£o existe "perfei√ß√£o" na evolu√ß√£o.'},
            { topic: 'Variabilidade Gen√©tica', difficulty: 'F√°cil', q: '25) A principal mat√©ria-prima para a sele√ß√£o natural √©:', options: ['O esfor√ßo do indiv√≠duo', 'A variabilidade gen√©tica', 'A perfei√ß√£o das esp√©cies', 'O tamanho da popula√ß√£o'], answer: 'A variabilidade gen√©tica', explanation: 'Sem varia√ß√£o, n√£o h√° o que ser selecionado. A sele√ß√£o natural precisa de diferentes caracter√≠sticas para poder atuar.'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'F√°cil', q: '26) O que significa "ser mais adaptado" em um contexto evolutivo?', options: ['Ser o mais forte fisicamente', 'Ser o mais inteligente', 'Conseguir sobreviver e deixar mais descendentes f√©rteis', 'Viver por mais tempo que os outros'], answer: 'Conseguir sobreviver e deixar mais descendentes f√©rteis', explanation: 'O sucesso evolutivo √© medido pela capacidade de passar os genes para a pr√≥xima gera√ß√£o.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '27) Um exemplo de sele√ß√£o artificial, e n√£o natural, √©:', options: ['A resist√™ncia de bact√©rias a antibi√≥ticos.', 'A camuflagem de um inseto em uma folha.', 'As diferentes ra√ßas de c√£es, criadas por humanos.', 'A pelagem branca de um urso polar.'], answer: 'As diferentes ra√ßas de c√£es, criadas por humanos.', explanation: 'Na sele√ß√£o artificial, √© o ser humano, e n√£o o ambiente, quem seleciona as caracter√≠sticas desejadas para a reprodu√ß√£o.'},
            { topic: 'Conceitos Fundamentais', difficulty: 'Dif√≠cil', q: '28) A ideia de que as popula√ß√µes crescem em progress√£o geom√©trica enquanto os recursos crescem em progress√£o aritm√©tica, gerando uma "luta pela vida", foi inspirada nos estudos de:', options: ['Gregor Mendel', 'Jean-Baptiste Lamarck', 'Thomas Malthus', 'Alfred Russel Wallace'], answer: 'Thomas Malthus', explanation: 'Darwin leu o trabalho de Malthus sobre popula√ß√µes e aplicou a ideia de competi√ß√£o por recursos limitados ao mundo natural.'},
            { topic: 'Variabilidade Gen√©tica', difficulty: 'M√©dio', q: '29) A diversidade de caracter√≠sticas em irm√£os que s√£o filhos dos mesmos pais √© um √≥timo exemplo de:', options: ['Muta√ß√£o', 'Recombina√ß√£o G√™nica', 'Sele√ß√£o Natural', 'Anag√™nese'], answer: 'Recombina√ß√£o G√™nica', explanation: 'Embora tenham os mesmos pais, a "mistura" de genes que cada irm√£o herda √© √∫nica, gra√ßas √† recombina√ß√£o.'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'Dif√≠cil', q: '30) A anemia falciforme √© uma doen√ßa gen√©tica, mas em regi√µes com mal√°ria, portadores do tra√ßo falciforme (heterozigotos) s√£o mais resistentes √† mal√°ria. Isso faz com que o gene da anemia seja mantido na popula√ß√£o. Este √© um exemplo de:', options: ['Sele√ß√£o direcional', 'Sele√ß√£o disruptiva', 'Sele√ß√£o estabilizadora', 'Sele√ß√£o sexual'], answer: 'Sele√ß√£o estabilizadora', explanation: 'A sele√ß√£o natural favorece o heterozigoto, mantendo tanto o alelo normal quanto o alelo da anemia na popula√ß√£o, pois ambos os extremos (homozigotos) s√£o desvantajosos.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '31) Qual √© a unidade fundamental da hereditariedade?', options: ['A c√©lula', 'O gene', 'A prote√≠na', 'O cromossomo'], answer: 'O gene', explanation: 'O gene √© o segmento de DNA que carrega a informa√ß√£o para uma determinada caracter√≠stica.'},
            { topic: 'Revis√£o Geral', difficulty: 'M√©dio', q: '32) A semelhan√ßa entre a asa de um morcego e a asa de uma borboleta √© um exemplo de:', options: ['Homologia (mesma origem)', 'Analogia (mesma fun√ß√£o)', '√ìrg√£os vestigiais', 'Especia√ß√£o'], answer: 'Analogia (mesma fun√ß√£o)', explanation: 'As asas t√™m a mesma fun√ß√£o (voar), mas origens evolutivas diferentes. Isso √© resultado da converg√™ncia adaptativa.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '33) A semelhan√ßa entre o bra√ßo de um humano e a nadadeira de uma baleia √© um exemplo de:', options: ['Homologia (mesma origem)', 'Analogia (mesma fun√ß√£o)', 'Converg√™ncia adaptativa', 'Mimetismo'], answer: 'Homologia (mesma origem)', explanation: 'Ambos possuem a mesma estrutura √≥ssea b√°sica herdada de um ancestral comum, apesar de terem fun√ß√µes diferentes. Isso √© um forte ind√≠cio de parentesco evolutivo.'},
            { topic: 'Variabilidade Gen√©tica', difficulty: 'M√©dio', q: '34) Uma popula√ß√£o de coelhos brancos vive na neve. Uma muta√ß√£o aleat√≥ria faz surgir um coelho marrom. √â prov√°vel que este coelho:', options: ['Seja favorecido pela sele√ß√£o natural', 'Seja predado mais facilmente', 'Ensine os outros a serem marrons', 'Mude de cor para branco'], answer: 'Seja predado mais facilmente', explanation: 'Neste ambiente espec√≠fico, a muta√ß√£o para a cor marrom √© desvantajosa, pois elimina a camuflagem e aumenta a chance de preda√ß√£o.'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'F√°cil', q: '35) O que impulsiona a sele√ß√£o natural?', options: ['A vontade do indiv√≠duo', 'A perfei√ß√£o da natureza', 'As press√µes do ambiente', 'O acaso completo'], answer: 'As press√µes do ambiente', explanation: 'S√£o as "dificuldades" impostas pelo ambiente (predadores, clima, competi√ß√£o, etc.) que determinam quais caracter√≠sticas s√£o vantajosas.'},
            { topic: 'Revis√£o Geral', difficulty: 'F√°cil', q: '36) A evolu√ß√£o √© uma teoria que afirma que:', options: ['O homem veio do macaco', 'Os seres vivos mudam ao longo do tempo', 'Os mais fortes sempre vencem', 'A vida surgiu do nada'], answer: 'Os seres vivos mudam ao longo do tempo', explanation: 'A ideia central √© que as esp√©cies n√£o s√£o fixas, mas se transformam atrav√©s de processos como muta√ß√£o e sele√ß√£o natural.'},
            { topic: 'Conceitos Fundamentais', difficulty: 'M√©dio', q: '37) Para o Neodarwinismo, a adapta√ß√£o √© um processo que resulta da:', options: ['Lei do uso e desuso', 'Necessidade de sobreviv√™ncia', 'Sele√ß√£o de varia√ß√µes gen√©ticas favor√°veis que surgiram ao acaso', 'Heran√ßa de caracter√≠sticas adquiridas'], answer: 'Sele√ß√£o de varia√ß√µes gen√©ticas favor√°veis que surgiram ao acaso', explanation: 'A adapta√ß√£o n√£o √© um esfor√ßo intencional, mas o resultado da sele√ß√£o natural atuando sobre a variabilidade gen√©tica pr√©-existente.'},
            { topic: 'Variabilidade Gen√©tica', difficulty: 'M√©dio', q: '38) A exposi√ß√£o a raios X ou a certas subst√¢ncias qu√≠micas pode aumentar a taxa de:', options: ['Recombina√ß√£o G√™nica', 'Sele√ß√£o Natural', 'Muta√ß√µes', 'Adapta√ß√£o'], answer: 'Muta√ß√µes', explanation: 'Esses s√£o agentes mutag√™nicos, ou seja, fatores que podem causar altera√ß√µes no DNA.'},
            { topic: 'Sele√ß√£o Natural', difficulty: 'M√©dio', q: '39) Por que a diversidade gen√©tica √© importante para a sobreviv√™ncia de uma esp√©cie?', options: ['Para que todos os indiv√≠duos sejam iguais', 'Para aumentar a chance de que alguns indiv√≠duos tenham caracter√≠sticas que permitam a adapta√ß√£o a mudan√ßas no ambiente', 'Para diminuir a competi√ß√£o', 'Para acelerar a extin√ß√£o'], answer: 'Para aumentar a chance de que alguns indiv√≠duos tenham caracter√≠sticas que permitam a adapta√ß√£o a mudan√ßas no ambiente', explanation: 'Se todos forem geneticamente iguais, uma √∫nica doen√ßa ou mudan√ßa ambiental poderia extinguir toda a popula√ß√£o.'},
            { topic: 'Revis√£o Geral', difficulty: 'Dif√≠cil', q: '40) A evolu√ß√£o dos antibi√≥ticos e a resist√™ncia bacteriana mostram que a evolu√ß√£o:', options: ['√â um processo muito lento que n√£o podemos observar', 'S√≥ aconteceu no passado', '√â um processo cont√≠nuo e observ√°vel', 'N√£o se aplica a microrganismos'], answer: '√â um processo cont√≠nuo e observ√°vel', explanation: 'Como as bact√©rias se reproduzem muito r√°pido, podemos observar a sele√ß√£o natural e a evolu√ß√£o acontecendo em tempo real.'}
        ];
        
        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let isRandomOrder = false; 

        // DOM Elements for the quiz
        const questionInfoContainer = document.createElement('div');
        questionInfoContainer.className = 'flex justify-between items-center mb-2';
        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)]';
        const questionDifficulty = document.createElement('span');
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4 hidden';
        nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3 hidden';
        redoBtn.textContent='Refazer';

        quizContainer.appendChild(questionInfoContainer);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);
        
        orderToggleBtn.addEventListener('click', () => {
            isRandomOrder = !isRandomOrder; 
            orderToggleBtn.textContent = isRandomOrder ? 'Ordem Aleat√≥ria' : 'Ordem Crescente';
            startQuiz();
        });

        function switchView(view){
            if(view==='learn'){
                practiceSection.classList.add('hidden');
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
                btnPractice.classList.replace('btn-primary', 'btn-ghost');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                btnLearn.classList.replace('btn-primary', 'btn-ghost');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }

        btnLearn.addEventListener('click', () => switchView('learn'));
        btnPractice.addEventListener('click', () => switchView('practice'));

        function renderQuestionButtons(){
            questionButtons.innerHTML='';
            quizData.forEach((_,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                b.title = `Ir para a quest√£o ${originalIndex+1}`;
                b.onclick = ()=>{
                    const pos = questionOrder.indexOf(originalIndex);
                    if(pos >= 0){ currentIndex = pos; showQuestion(); }
                };
                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted && currentIndex < quizData.length) {
                    const currentQuestionOriginalIndex = questionOrder[currentIndex];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                questionButtons.appendChild(b);
            });
        }
        
        function startQuiz(){
            if (isRandomOrder) {
                shuffleArray(questionOrder);
            } else {
                questionOrder = quizData.map((_, i) => i);
            }
            currentIndex = 0;
            questionStatus.fill(null);
            showQuestion();
        }

        function showQuestion(){
            const finalResultsDiv = document.getElementById('final-results');
            if (finalResultsDiv) finalResultsDiv.remove();
            quizContainer.style.display = 'block';

            if (currentIndex >= quizData.length) {
                showFinalResults();
                return;
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionInfoContainer.classList.remove('hidden');
            questionTopic.textContent = qObj.topic;
            questionDifficulty.textContent = qObj.difficulty;
            questionDifficulty.className = `difficulty-badge difficulty-${qObj.difficulty.toLowerCase()}`;
            
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            redoBtn.classList.add('hidden');
            nextBtn.classList.add('hidden'); 
            
            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; 
                b.textContent=opt;
                b.onclick = ()=> selectAnswer(b, opt, qObj.answer, qObj.explanation, qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons();
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            
            quizContainer.style.display = 'none';

            let finalResultsDiv = document.createElement('div');
            finalResultsDiv.id = 'final-results';
            finalResultsDiv.className = 'text-center';
            practiceSection.appendChild(finalResultsDiv);

            finalResultsDiv.innerHTML = `
                <h2 class="text-2xl font-bold">üéâ Fim do Quiz! üéâ</h2>
                <p class="text-lg mt-4">Voc√™ acertou ${correctCount} de ${total} quest√µes.</p>
                <button id="restart-btn" class="btn-primary mt-6">Recome√ßar Quiz</button>
            `;
            
            document.getElementById('restart-btn').onclick = () => {
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=> {
                b.disabled=true;
                if(b.textContent === correct) {
                    b.classList.add('correct');
                }
            });
            nextBtn.classList.remove('hidden');

            if(opt===correct){
                btn.classList.add('celebrate');
                createConfetti();
                questionStatus[qIdx]='correct';
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> ${explanation || ''}`;
                redoBtn.classList.remove('hidden');
            }
            renderQuestionButtons();
        }

        nextBtn.addEventListener('click', ()=>{
            if(currentIndex < questionOrder.length-1){ 
                currentIndex++; 
                showQuestion(); 
            } else { 
                currentIndex++;
                showFinalResults();
            }
        });

        redoBtn.addEventListener('click', ()=>{
            const currentQuestionIndex = questionOrder[currentIndex];
            questionStatus[currentQuestionIndex] = null;
            showQuestion();
        });

        function shuffleArray(a){
            for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        }

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        switchView('learn');
    });
    </script>
</body>
</html>
