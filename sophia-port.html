<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Prova de Portugu√™s ‚Äì 7¬∫ Ano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#071023; --card:#0b1624; --accent:#3b82f6; --muted:#97a6bf; --text:#e6eef8; --success:#34d399; --danger:#ef4444; --border:rgba(255,255,255,0.12); --muted-2: rgba(230,238,248,0.85);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(59,130,246,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; cursor:pointer; }
        #question-buttons button.current-question { background-color: rgba(59, 130, 246, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(96,165,250,0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        .theme-light{ --bg: #f8fafc; --card: #ffffff; --muted: #475569; --text: #0f1724; --accent: #0284c7; --success: #047857; --danger: #b91c1c; --border: rgba(15,23,42,0.1); --muted-2: rgba(15,23,36,0.85); }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(59, 130, 246, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Prova de Portugu√™s ‚Äî 7¬∫ Ano</h1>
                    <p class="text-sm text-slate-400">Guia de estudos sobre Poesia, Sintaxe e Texto Teatral.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">UNIDADE 5: Imagens na Poesia</h2>
                            <h3 class="sub-topic-title">Leitura e G√™nero em Foco: Poema Visual</h3>
                            <p>O <span class="highlight">poema visual</span> √© um tipo de poesia em que as palavras s√£o organizadas na p√°gina para formar uma imagem, um desenho ou uma forma. O objetivo √© que o leitor n√£o apenas leia as palavras, mas tamb√©m "veja" o poema. A forma como o texto √© disposto √© t√£o importante quanto o que est√° escrito. √â a uni√£o perfeita entre linguagem verbal e n√£o verbal.</p>

                            <h3 class="sub-topic-title">Estudo da L√≠ngua: Sujeito e Predicativo</h3>
                            <ul>
                                <li><strong>Tipos de Sujeito:</strong> O sujeito √© o termo sobre o qual o predicado diz algo.
                                    <ul>
                                        <li><span class="highlight">Determinado Simples:</span> Tem apenas um n√∫cleo. Ex: "A <span class="highlight">menina</span> sonha."</li>
                                        <li><span class="highlight">Determinado Composto:</span> Tem dois ou mais n√∫cleos. Ex: "<span class="highlight">Menina</span> e <span class="highlight">menino</span> sonham."</li>
                                        <li><span class="highlight">Oculto (Desinencial):</span> N√£o aparece na ora√ß√£o, mas √© identificado pela termina√ß√£o do verbo. Ex: "Sonhamos com o futuro." (Sujeito: N√≥s)</li>
                                        <li><span class="highlight">Indeterminado:</span> Existe, mas n√£o pode ser identificado. Ex: "Roubaram minha caneta." (Quem roubou? N√£o se sabe).</li>
                                    </ul>
                                </li>
                                <li><strong>Ora√ß√£o sem Sujeito:</strong> Ocorre com verbos que indicam fen√¥menos da natureza (chover, nevar), tempo decorrido (fazer, haver) ou exist√™ncia (haver). Ex: "<span class="highlight">Choveu</span> muito ontem." ou "<span class="highlight">Havia</span> muitas pessoas na festa."</li>
                                <li><strong>Verbo de Liga√ß√£o e Predicativo do Sujeito:</span> O <span class="highlight">verbo de liga√ß√£o</span> (ser, estar, parecer, ficar, etc.) n√£o indica uma a√ß√£o, mas liga o sujeito a uma caracter√≠stica. Essa caracter√≠stica √© chamada de <span class="highlight">predicativo do sujeito</span>. Ex: "A prova <span class="highlight">estava</span> <span class="highlight">dif√≠cil</span>." (estava = VL; dif√≠cil = predicativo do sujeito).</li>
                            </ul>

                             <h3 class="sub-topic-title">Quest√µes da L√≠ngua: Plural de Verbos</h3>
                             <p>Alguns verbos exigem aten√ß√£o no plural:</p>
                             <ul>
                                 <li><strong>Ter e Vir:</strong> No plural, recebem acento circunflexo. Ex: "Ele <span class="highlight">tem</span>", mas "Eles <span class="highlight">t√™m</span>". "Ele <span class="highlight">vem</span>", mas "Eles <span class="highlight">v√™m</span>".</li>
                                 <li><strong>Crer, Dar, Ler, Ver:</strong> Na 3¬™ pessoa do plural, dobram o "e". Ex: "Ele <span class="highlight">cr√™</span>", mas "Eles <span class="highlight">creem</span>". "Que ele <span class="highlight">d√™</span>", mas "Que eles <span class="highlight">deem</span>". "Ele <span class="highlight">l√™</span>", mas "Eles <span class="highlight">leem</span>". "Ele <span class="highlight">v√™</span>", mas "Eles <span class="highlight">veem</span>".</li>
                             </ul>
                        </div>
                        
                        <div class="topic-section">
                             <h2 class="topic-title">UNIDADE 6: Dilemas em Cena</h2>
                            <h3 class="sub-topic-title">Leitura e G√™nero em Foco: Texto Teatral</h3>
                             <p>O <span class="highlight">texto teatral</span> (ou dram√°tico) √© escrito para ser encenado. Sua estrutura √© diferente: ele √© organizado em <span class="highlight">atos</span> (grandes divis√µes da pe√ßa) e <span class="highlight">cenas</span> (divis√µes menores). √â composto principalmente por:</p>
                             <ul>
                                 <li><strong>Falas:</strong> O que os personagens dizem, indicado pelo nome deles antes da frase.</li>
                                 <li><strong>Rubricas:</strong> Indica√ß√µes c√™nicas que v√™m entre par√™nteses e em it√°lico. Elas n√£o s√£o ditas, mas orientam os atores sobre gestos, emo√ß√µes, movimentos ou descrevem o cen√°rio. Ex: <em>(sai pela esquerda, chorando)</em>.</li>
                             </ul>
                             
                            <h3 class="sub-topic-title">Estudo da L√≠ngua: Predicado e Transitividade</h3>
                             <ul>
                                <li><strong>Tipos de Predicado:</strong> √â tudo o que se diz sobre o sujeito.
                                    <ul>
                                        <li><span class="highlight">Predicado Verbal:</span> O n√∫cleo √© um verbo que indica a√ß√£o (verbo intransitivo ou transitivo). Ex: "O time <span class="highlight">jogou</span> bem."</li>
                                        <li><span class="highlight">Predicado Nominal:</span> O n√∫cleo √© um nome (predicativo do sujeito) e possui um verbo de liga√ß√£o. Ex: "O time <span class="highlight">estava confiante</span>."</li>
                                    </ul>
                                </li>
                                <li><strong>Transitividade Verbal:</strong> √â a necessidade que um verbo tem de um complemento.
                                    <ul>
                                         <li><span class="highlight">Verbo Intransitivo (VI):</span> Tem sentido completo, n√£o precisa de complemento. Ex: "O beb√™ <span class="highlight">nasceu</span>."</li>
                                         <li><span class="highlight">Verbo Transitivo Direto (VTD):</span> Precisa de um complemento sem preposi√ß√£o (objeto direto). Ex: "Eu <span class="highlight">comprei</span> <span class="highlight">um livro</span>." (comprou o qu√™?).</li>
                                         <li><span class="highlight">Verbo Transitivo Indireto (VTI):</span> Precisa de um complemento com preposi√ß√£o (objeto indireto). Ex: "Eu <span class="highlight">preciso</span> <span class="highlight">de ajuda</span>." (precisa de qu√™?).</li>
                                    </ul>
                                </li>
                             </ul>

                             <h3 class="sub-topic-title">Quest√µes da L√≠ngua: Ortografia</h3>
                             <p>O uso de certas letras pode gerar d√∫vidas, mas segue algumas regras:</p>
                             <ul>
                                 <li><strong>√á:</strong> Usado antes de a, o, u e vem de palavras de origem √°rabe, tupi ou africana (pa√ßoca, a√ßa√≠). Nunca se usa no in√≠cio de palavras.</li>
                                 <li><strong>C:</strong> Usado antes de e, i (cebola, cinema).</li>
                                 <li><strong>SS:</strong> Usado entre vogais para manter o som de /s/ forte (miss√£o, assar).</li>
                                  <li><strong>S:</strong> Entre vogais, tem som de /z/ (casa, aviso). No in√≠cio de palavras, tem som de /s/ (sapo).</li>
                             </ul>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                     <div class="mb-4 flex justify-end">
                        <button id="order-toggle-btn" class="btn-ghost text-xs">Ordem Crescente</button>
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                        </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const orderToggleBtn = document.getElementById('order-toggle-btn');

        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer || !orderToggleBtn){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-port-7ano-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-port-7ano-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            // UNIDADE 5
            { topic: 'G√™nero: Poema Visual', q: '1) Qual √© a caracter√≠stica mais marcante de um poema visual?', options: ['A presen√ßa de rimas ricas', 'A organiza√ß√£o das palavras para formar uma imagem', 'O uso de linguagem formal', 'A aus√™ncia de verbos'], answer: 'A organiza√ß√£o das palavras para formar uma imagem', explanation: 'No poema visual, a disposi√ß√£o espacial das palavras √© fundamental para a constru√ß√£o do sentido.'},
            { topic: 'G√™nero: Poema Visual', q: '2) Ao analisar um poema visual, o leitor deve prestar aten√ß√£o:', options: ['Apenas ao significado das palavras', 'Apenas √† imagem formada', 'Tanto ao texto verbal quanto √† sua forma visual', 'Apenas ao t√≠tulo do poema'], answer: 'Tanto ao texto verbal quanto √† sua forma visual', explanation: 'A interpreta√ß√£o de um poema visual depende da combina√ß√£o entre o que est√° escrito e o que √© mostrado.'},
            { topic: 'Sintaxe: Tipos de Sujeito', q: '3) Na frase "Choveu muito durante a noite", qual √© o sujeito da ora√ß√£o?', options: ['muito', 'a noite', 'Ora√ß√£o sem sujeito', 'Eu'], answer: 'Ora√ß√£o sem sujeito', explanation: 'Verbos que expressam fen√¥menos da natureza, como "chover", formam ora√ß√µes sem sujeito.'},
            { topic: 'Sintaxe: Tipos de Sujeito', q: '4) "O menino e a sua irm√£ brincavam no parque." O sujeito desta ora√ß√£o √© classificado como:', options: ['Simples', 'Composto', 'Oculto', 'Indeterminado'], answer: 'Composto', explanation: 'O sujeito √© composto porque possui dois n√∫cleos: "menino" e "irm√£".'},
            { topic: 'Sintaxe: Tipos de Sujeito', q: '5) Em "Precisamos estudar mais para a prova", o sujeito √©:', options: ['Simples', 'Indeterminado', 'Composto', 'Oculto (N√≥s)'], answer: 'Oculto (N√≥s)', explanation: 'O sujeito n√£o est√° expl√≠cito, mas pode ser identificado pela desin√™ncia "-mos" do verbo "precisamos".'},
            { topic: 'Sintaxe: Tipos de Sujeito', q: '6) Qual das frases abaixo apresenta sujeito indeterminado?', options: ['Venderam a casa da esquina.', 'A casa da esquina foi vendida.', 'A casa da esquina √© bonita.', 'Vende-se a casa da esquina.'], answer: 'Venderam a casa da esquina.', explanation: 'O verbo na 3¬™ pessoa do plural, sem um referente claro, indetermina o sujeito (n√£o se sabe quem vendeu).'},
            { topic: 'Sintaxe: Verbo de Liga√ß√£o', q: '7) Na frase "Meu irm√£o parece preocupado", a palavra "preocupado" funciona como:', options: ['Objeto direto', 'Sujeito', 'Predicativo do sujeito', 'Verbo de liga√ß√£o'], answer: 'Predicativo do sujeito', explanation: '"Preocupado" √© uma caracter√≠stica atribu√≠da ao sujeito ("Meu irm√£o") atrav√©s do verbo de liga√ß√£o "parece".'},
            { topic: 'Sintaxe: Verbo de Liga√ß√£o', q: '8) Qual das alternativas cont√©m um verbo de liga√ß√£o?', options: ['Ele correu muito.', 'A crian√ßa dormiu.', 'N√≥s estamos felizes.', 'O professor ensinou a mat√©ria.'], answer: 'N√≥s estamos felizes.', explanation: 'O verbo "estar" est√° ligando o sujeito "N√≥s" a sua caracter√≠stica "felizes".'},
            { topic: 'Quest√µes da L√≠ngua', q: '9) Qual a forma correta do verbo "ter" no plural?', options: ['Eles tem muitos livros.', 'Eles t√™m muitos livros.', 'Eles teem muitos livros.', 'Eles t√™em muitos livros.'], answer: 'Eles t√™m muitos livros.', explanation: 'Na 3¬™ pessoa do plural, o verbo "ter" recebe acento circunflexo (t√™m).'},
            { topic: 'Quest√µes da L√≠ngua', q: '10) Complete a frase: "Espero que eles ________ uma boa not√≠cia."', options: ['d√™em', 'dem', 'deem', 'd√£o'], answer: 'deem', explanation: 'Os verbos terminados em "-er" e "-ar" que dobram o "e" no plural (crer, ler, ver, dar) perderam o acento ap√≥s o Novo Acordo Ortogr√°fico.'},
            { topic: 'Quest√µes da L√≠ngua', q: '11) A frase "Todos leem as instru√ß√µes antes do uso" est√°:', options: ['Correta', 'Incorreta, o certo √© "l√™em".', 'Incorreta, o certo √© "lem".', 'Incorreta, o certo √© "l√™".'], answer: 'Correta', explanation: 'A forma da 3¬™ pessoa do plural do verbo "ler" no presente √© "leem", sem acento.'},
            { topic: 'Quest√µes da L√≠ngua', q: '12) Como se escreve o plural de "ele vem"?', options: ['Eles v√™m', 'Eles veem', 'Eles vem', 'Eles ve√™m'], answer: 'Eles v√™m', explanation: 'Assim como o verbo "ter", o verbo "vir" recebe acento circunflexo na 3¬™ pessoa do plural.'},

            // UNIDADE 6
            { topic: 'G√™nero: Texto Teatral', q: '13) Em uma pe√ßa de teatro, as instru√ß√µes para os atores sobre como devem se movimentar ou se expressar s√£o chamadas de:', options: ['Falas', 'Atos', 'Cenas', 'Rubricas'], answer: 'Rubricas', explanation: 'As rubricas s√£o as indica√ß√µes c√™nicas, geralmente escritas em it√°lico e entre par√™nteses.'},
            { topic: 'G√™nero: Texto Teatral', q: '14) A estrutura de um texto teatral √©, normalmente, dividida em:', options: ['Cap√≠tulos e par√°grafos', 'Estrofes e versos', 'Atos e cenas', 'T√≥picos e subt√≥picos'], answer: 'Atos e cenas', explanation: 'Atos s√£o as grandes partes da pe√ßa, e as cenas s√£o as subdivis√µes dentro de cada ato.'},
            { topic: 'G√™nero: Texto Teatral', q: '15) O principal objetivo de um texto teatral √©:', options: ['Ser lido em voz alta', 'Ser encenado', 'Informar o leitor', 'Contar uma hist√≥ria longa'], answer: 'Ser encenado', explanation: 'Diferente de um romance, o texto dram√°tico √© escrito pensando na sua representa√ß√£o no palco.'},
            { topic: 'Sintaxe: Tipos de Predicado', q: '16) "O atleta chegou cansado ao final da corrida." O predicado desta ora√ß√£o √©:', options: ['Verbal', 'Nominal', 'Verbo-nominal', 'Ora√ß√£o sem predicado'], answer: 'Verbo-nominal', explanation: 'Possui dois n√∫cleos: um verbo de a√ß√£o ("chegou") e um predicativo do sujeito ("cansado").'},
            { topic: 'Sintaxe: Tipos de Predicado', q: '17) Qual frase possui um predicado nominal?', options: ['Os p√°ssaros voam.', 'O dia amanheceu chuvoso.', 'A Terra √© azul.', 'Comprei um carro novo.'], answer: 'A Terra √© azul.', explanation: 'O verbo "ser" √© de liga√ß√£o e "azul" √© um predicativo do sujeito, caracterizando o n√∫cleo do predicado como um nome.'},
            { topic: 'Sintaxe: Tipos de Predicado', q: '18) "O cachorro latiu durante a noite." O predicado "latiu durante a noite" √© classificado como:', options: ['Nominal', 'Verbal', 'Verbo-nominal', 'Inexistente'], answer: 'Verbal', explanation: 'O n√∫cleo do predicado √© o verbo de a√ß√£o "latiu".'},
            { topic: 'Sintaxe: Transitividade Verbal', q: '19) Na frase "Gosto de chocolate", o verbo "gostar" √©:', options: ['Intransitivo', 'Transitivo direto', 'Transitivo indireto', 'De liga√ß√£o'], answer: 'Transitivo indireto', explanation: 'Quem gosta, gosta "de" alguma coisa. Ele exige um complemento com a preposi√ß√£o "de".'},
            { topic: 'Sintaxe: Transitividade Verbal', q: '20) Qual dos verbos abaixo √© intransitivo na frase em que aparece?', options: ['Ele vendeu o carro.', 'A crian√ßa dormiu.', 'Eu preciso de voc√™.', 'O aluno fez a li√ß√£o.'], answer: 'A crian√ßa dormiu.', explanation: 'O verbo "dormir" tem sentido completo e n√£o exige um complemento para a frase fazer sentido.'},
            { topic: 'Sintaxe: Transitividade Verbal', q: '21) Em "O carteiro entregou a encomenda", o verbo "entregar" √©:', options: ['Intransitivo', 'Transitivo direto', 'Transitivo indireto', 'De liga√ß√£o'], answer: 'Transitivo direto', explanation: 'Quem entrega, entrega "algo". O complemento "a encomenda" (objeto direto) liga-se ao verbo sem preposi√ß√£o.'},
            { topic: 'Sintaxe: Transitividade Verbal', q: '22) "Assistimos ao filme ontem." O verbo "assistir", no sentido de ver, √©:', options: ['Intransitivo', 'Transitivo direto', 'Transitivo indireto', 'De liga√ß√£o'], answer: 'Transitivo indireto', explanation: 'No sentido de ver ou presenciar, o verbo "assistir" exige a preposi√ß√£o "a".'},
            { topic: 'Quest√µes da L√≠ngua', q: '23) Qual palavra est√° escrita incorretamente?', options: ['A√ß√∫car', 'Ca√ßula', 'Cansado', 'Pa√ßoca'], answer: 'Ca√ßula', explanation: 'A forma correta √© "ca√ßula", com "√ß".'},
            { topic: 'Quest√µes da L√≠ngua', q: '24) A palavra "profiss√£o" √© escrita com "ss" porque:', options: ['Est√° no in√≠cio da palavra', 'Vem depois de consoante', 'Est√° entre vogais e tem som de /s/ forte', '√â uma palavra de origem ind√≠gena'], answer: 'Est√° entre vogais e tem som de /s/ forte', explanation: 'Para manter o som de /s/ entre duas vogais, usamos o d√≠grafo "ss".'},
            { topic: 'Quest√µes da L√≠ngua', q: '25) Complete a frase: "O almo√ßo estava uma del√≠cia, mas a sobreme__a estava melhor ainda."', options: ['ss', 's', 'c', '√ß'], answer: 's', explanation: 'A palavra "sobremesa" √© escrita com "s".'},
            
            // Revis√£o Geral
            { topic: 'Revis√£o Geral', q: '26) "Havia muitos problemas a serem resolvidos." O sujeito da ora√ß√£o √©:', options: ['muitos problemas', 'indeterminado', 'oculto', 'ora√ß√£o sem sujeito'], answer: 'ora√ß√£o sem sujeito', explanation: 'O verbo "haver" no sentido de "existir" √© impessoal, n√£o tendo sujeito.'},
            { topic: 'Revis√£o Geral', q: '27) Em um texto teatral, a fala de um personagem sozinho no palco, expressando seus pensamentos, √© um:', options: ['Di√°logo', 'Aparte', 'Mon√≥logo', 'Coro'], answer: 'Mon√≥logo', explanation: '√â um discurso que a personagem faz para si mesma ou para a plateia.'},
            { topic: 'Revis√£o Geral', q: '28) "Ele anda triste ultimamente." O verbo "andar" nesta frase √©:', options: ['Transitivo direto', 'Intransitivo', 'De liga√ß√£o', 'Transitivo indireto'], answer: 'De liga√ß√£o', explanation: 'No sentido de "estar", o verbo "andar" funciona como verbo de liga√ß√£o, conectando o sujeito "Ele" √† caracter√≠stica "triste".'},
            { topic: 'Revis√£o Geral', q: '29) A frase "Que eles _______ bons exemplos aos mais novos" deve ser completada com:', options: ['d√™em', 'deem', 'dem', 'd√£o'], answer: 'deem', explanation: 'O verbo "dar" no presente do subjuntivo, 3¬™ pessoa do plural, escreve-se "deem".'},
            { topic: 'Revis√£o Geral', q: '30) A pe√ßa "Aquele que diz sim e Aquele que diz n√£o", de Brecht, prop√µe uma reflex√£o sobre:', options: ['O amor rom√¢ntico', 'Dilemas entre a obedi√™ncia e a raz√£o', 'A beleza da natureza', 'A hist√≥ria do teatro'], answer: 'Dilemas entre a obedi√™ncia e a raz√£o', explanation: 'A pe√ßa explora o conflito entre seguir um costume antigo sem questionar e usar a raz√£o para tomar uma nova decis√£o.'},
            { topic: 'Revis√£o Geral', q: '31) Qual o predicado da frase "Os alunos sa√≠ram da sala apressados"?', options: ['sa√≠ram da sala apressados', 'os alunos', 'apressados', 'sa√≠ram'], answer: 'sa√≠ram da sala apressados', explanation: 'O predicado √© tudo o que se informa sobre o sujeito ("Os alunos").'},
            { topic: 'Revis√£o Geral', q: '32) A classifica√ß√£o do predicado da quest√£o anterior ("sa√≠ram da sala apressados") √©:', options: ['Verbal', 'Nominal', 'Verbo-nominal', 'Inexistente'], answer: 'Verbo-nominal', explanation: 'Tem um verbo de a√ß√£o (sa√≠ram) e um predicativo do sujeito (apressados).'},
            { topic: 'Revis√£o Geral', q: '33) Qual a forma correta: "Eles (cr√™em/creem) em dias melhores"?', options: ['cr√™em', 'creem'], answer: 'creem', explanation: 'De acordo com o Novo Acordo Ortogr√°fico, o acento circunflexo nos hiatos "ee" e "oo" foi abolido.'},
            { topic: 'Revis√£o Geral', q: '34) "O espet√°culo agradou ao p√∫blico." O verbo "agradar", no sentido de "satisfazer", √©:', options: ['Transitivo direto', 'Intransitivo', 'Transitivo indireto', 'De liga√ß√£o'], answer: 'Transitivo indireto', explanation: 'No sentido de contentar ou satisfazer, ele rege a preposi√ß√£o "a".'},
            { topic: 'Revis√£o Geral', q: '35) A montagem de uma pe√ßa de teatro envolve v√°rias etapas. Qual delas N√ÉO faz parte do processo?', options: ['Escolha do texto', 'Ensaios com o elenco', 'Cria√ß√£o de cen√°rio e figurino', 'Publica√ß√£o do texto em um livro'], answer: 'Publica√ß√£o do texto em um livro', explanation: 'A publica√ß√£o pode acontecer, mas n√£o √© uma etapa essencial para a montagem e apresenta√ß√£o da pe√ßa.'},
            { topic: 'Revis√£o Geral', q: '36) Em "As crian√ßas parecem sonolentas", o n√∫cleo do predicado √©:', options: ['As crian√ßas', 'parecem', 'sonolentas', 'parecem sonolentas'], answer: 'sonolentas', explanation: 'O predicado √© nominal ("parecem sonolentas"), e seu n√∫cleo √© o nome (o predicativo do sujeito "sonolentas").'},
            { topic: 'Revis√£o Geral', q: '37) "Necessita-se de volunt√°rios." O sujeito desta ora√ß√£o √©:', options: ['volunt√°rios', 'indeterminado', 'oculto', 'ora√ß√£o sem sujeito'], answer: 'indeterminado', explanation: 'O verbo √© transitivo indireto ("de volunt√°rios") e vem acompanhado do pronome "se", que funciona como √≠ndice de indetermina√ß√£o do sujeito.'},
            { topic: 'Revis√£o Geral', q: '38) A palavra "cansa√ßo" se escreve com "√ß" por ser derivada do verbo:', options: ['Cansar (com s)', 'Can√ßar (com √ß)', 'Cansiar', 'Nenhuma das anteriores'], answer: 'Cansar (com s)', explanation: 'Substantivos derivados de verbos terminados em "-sar" (quando n√£o formam o sufixo -s√£o) podem usar "√ß".'},
            { topic: 'Revis√£o Geral', q: '39) O que √© um esquete humor√≠stico?', options: ['Uma pe√ßa de teatro longa e dram√°tica', 'Um poema visual sobre humor', 'Uma cena curta de com√©dia', 'Um tipo de dan√ßa teatral'], answer: 'Uma cena curta de com√©dia', explanation: '√â uma pe√ßa de curta dura√ß√£o, geralmente com foco no humor e em situa√ß√µes c√¥micas.'},
            { topic: 'Revis√£o Geral', q: '40) "Imaginar, criar e inovar" s√£o atitudes importantes para qual tipo de produ√ß√£o textual?', options: ['Not√≠cia de jornal', 'Artigo cient√≠fico', 'Texto teatral e poema visual', 'Bula de rem√©dio'], answer: 'Texto teatral e poema visual', explanation: 'Ambos os g√™neros exigem alta dose de criatividade e inova√ß√£o na sua concep√ß√£o.'}
        ];

        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let isRandomOrder = false; 

        orderToggleBtn.addEventListener('click', () => {
            isRandomOrder = !isRandomOrder; 
            orderToggleBtn.textContent = isRandomOrder ? 'Ordem Aleat√≥ria' : 'Ordem Crescente';
            startQuiz();
        });

        function switchView(view){
            if(view==='learn'){
                practiceSection.classList.add('hidden');
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
                btnPractice.classList.replace('btn-primary', 'btn-ghost');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                btnLearn.classList.replace('btn-primary', 'btn-ghost');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }

        btnLearn.addEventListener('click', () => switchView('learn'));
        btnPractice.addEventListener('click', () => switchView('practice'));

        function renderQuestionButtons(){
            questionButtons.innerHTML='';
            quizData.forEach((_,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                b.title = `Ir para a quest√£o ${originalIndex+1}`;
                b.onclick = ()=>{
                    const pos = questionOrder.indexOf(originalIndex);
                    if(pos >= 0){ currentIndex = pos; showQuestion(); }
                };
                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted) {
                    const currentQuestionOriginalIndex = questionOrder[currentIndex];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                questionButtons.appendChild(b);
            });
        }

        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)] mb-2';
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4'; nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3'; redoBtn.textContent='Refazer';

        quizContainer.appendChild(questionTopic);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);

        function startQuiz(){
            if (isRandomOrder) {
                shuffleArray(questionOrder);
            } else {
                questionOrder = quizData.map((_, i) => i);
            }
            currentIndex = 0;
            questionStatus.fill(null);
            showQuestion();
        }

        function showQuestion(){
            if (currentIndex >= questionOrder.length) {
                showFinalResults();
                return;
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionTopic.textContent = qObj.topic;
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            redoBtn.classList.add('hidden');
            nextBtn.disabled = true;

            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; b.textContent=opt;
                b.onclick = ()=> selectAnswer(b,opt,qObj.answer,qObj.explanation,qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons();
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            questionTopic.textContent = '';
            questionText.innerHTML = `üéâ Fim do Quiz! üéâ`;
            optionsContainer.innerHTML = `<p class="text-center text-lg">Voc√™ acertou ${correctCount} de ${total} quest√µes.</p>`;
            feedbackContainer.innerHTML = '';
            nextBtn.textContent = 'Recome√ßar Quiz';
            nextBtn.disabled = false;
            nextBtn.onclick = () => {
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
            redoBtn.classList.add('hidden');
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=>b.disabled=true);
            nextBtn.disabled = false;

            if(opt===correct){
                btn.classList.add('celebrate','correct');
                createConfetti();
                questionStatus[qIdx]='correct';
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> Resposta correta: <strong>${correct}</strong>.`;
                if(explanation) feedbackContainer.innerHTML += `<div class="mt-2 text-sm">${explanation}</div>`;
                
                Array.from(optionsContainer.children).forEach(b=>{
                    if(b.textContent === correct) b.classList.add('correct');
                });
                redoBtn.classList.remove('hidden');
            }
            renderQuestionButtons();
        }

        nextBtn.addEventListener('click', ()=>{
            if(currentIndex < questionOrder.length-1){ 
                currentIndex++; 
                showQuestion(); 
            } else { 
                currentIndex++;
                showFinalResults();
            }
        });

        redoBtn.addEventListener('click', ()=>{
            const currentQuestionIndex = questionOrder[currentIndex];
            questionStatus[currentQuestionIndex] = null;
            showQuestion();
        });

        function shuffleArray(a){
            for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        }

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        switchView('learn');
    });
    </script>
</body>
</html>
