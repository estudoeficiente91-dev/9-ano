<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Prova de Geografia ‚Äì 7¬∫ Ano</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root{
            --bg:#071023; --card:#0b1624; --accent:#3b82f6; --muted:#97a6bf; --text:#e6eef8; --success:#34d399; --danger:#ef4444; --border:rgba(255,255,255,0.12); --muted-2: rgba(230,238,248,0.85);
        }
        html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:var(--text);}
        .container{max-width:980px;margin:28px auto;padding:18px}
        .page-header{ padding:1.25rem; border-radius:12px; background: linear-gradient(180deg, rgba(59,130,246,0.06), transparent); box-shadow: 0 8px 24px rgba(2,6,23,0.6); }
        .card{ background: var(--card); color: var(--text); border: 1px solid var(--border); border-radius: 12px; box-shadow: 0 6px 20px rgba(2,6,23,0.6); padding:18px }
        .btn-primary{ background: linear-gradient(90deg,var(--accent), #3b82f6); color: #061226; padding: .5rem 1.25rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.4); box-shadow: 0 6px 18px rgba(59,130,246,0.12); cursor: pointer; }
        .btn-ghost{ background: transparent; color: var(--muted-2); padding: .45rem .9rem; border-radius: 10px; border: 1px solid var(--border); cursor:pointer; }
        .option-btn{ display:block; width:100%; text-align:left; padding:.75rem 1rem; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid var(--border); color:var(--muted-2); cursor:pointer; transition: transform 150ms ease, background 150ms ease; }
        .option-btn:hover:not(:disabled){ background: rgba(255,255,255,0.035); transform: translateY(-1px); }
        .option-btn.correct{ background: var(--success) !important; color: #062e1f !important; border-color: rgba(4,120,87,0.18) !important; }
        .option-btn.wrong{ background: var(--danger) !important; color: #fff !important; border-color: rgba(185,28,28,0.18) !important; }
        .option-btn:disabled { cursor: not-allowed; }
        #question-buttons{ display:flex; flex-wrap:wrap; gap:8px; }
        #question-buttons button{ background: transparent; color: var(--muted-2); border:1px solid var(--border); padding:.45rem .6rem; border-radius:8px; cursor:pointer; }
        #question-buttons button.current-question { background-color: rgba(59, 130, 246, 0.2); border-color: var(--accent); }
        #question-buttons button.correct-status { background-color: var(--success); color: #062e1f; border-color: var(--success); }
        #question-buttons button.wrong-status { background-color: var(--danger); color: white; border-color: var(--danger); }
        .feedback-correct{ background: rgba(16,185,129,0.12); border:1px solid rgba(16,185,129,0.22); color: #bbf7d0; padding:12px; border-radius:8px }
        .feedback-wrong{ background: rgba(239,68,68,0.12); border:1px solid rgba(239,68,68,0.22); color: #ffdede; padding:12px; border-radius:8px }
        .celebrate{ animation: pop 480ms cubic-bezier(.2,.9,.3,1); box-shadow: 0 12px 36px rgba(96,165,250,0.18), 0 0 28px rgba(16,185,129,0.12); }
        @keyframes pop{ 0%{ transform: scale(1); } 50%{ transform: scale(1.08); } 100%{ transform: scale(1); } }
        .confetti{ position: fixed; z-index: 9999; pointer-events: none; font-size: 18px; opacity: 1; transform-origin: center; }
        @keyframes confetti-fall { 0%{ transform: translateY(-10vh) rotate(0deg); opacity:1 } 100%{ transform: translateY(100vh) rotate(540deg); opacity:0 } }
        .theme-light{ --bg: #f8fafc; --card: #ffffff; --muted: #475569; --text: #0f1724; --accent: #0284c7; --success: #047857; --danger: #b91c1c; --border: rgba(15,23,42,0.1); --muted-2: rgba(15,23,36,0.85); }
        .topic-section { margin-bottom: 2.5rem; border-left: 3px solid var(--accent); padding-left: 1.5rem; }
        .topic-title { font-size: 1.5rem; font-weight: 700; color: var(--accent); margin-bottom: 1rem; }
        .sub-topic-title { font-size: 1.15rem; font-weight: 600; color: var(--text); margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .topic-section p, .topic-section ul { font-size: 1rem; color: var(--muted-2); line-height: 1.7; text-align: justify; }
        .topic-section ul { list-style-position: inside; list-style-type: disc; margin-top: 0.5rem; padding-left: 1rem;}
        .highlight { background-color: rgba(59, 130, 246, 0.1); padding: 0.2rem 0.4rem; border-radius: 4px; font-weight: 600; color: var(--accent); }
    </style>
</head>
<body class="antialiased">
    <div class="container">
        <header class="page-header">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold">Prova de Geografia ‚Äî 7¬∫ Ano</h1>
                    <p class="text-sm text-slate-400">Guia de estudos completo sobre as Regi√µes Nordeste e Sudeste.</p>
                </div>
                <div>
                    <button id="theme-toggle" class="btn-ghost">Tema</button>
                </div>
            </div>
        </header>

        <main class="mt-6">
            <div class="card">
                <nav class="mb-4">
                    <button id="btn-learn" class="btn-primary">Aprender</button>
                    <button id="btn-practice" class="btn-ghost ml-2">Praticar</button>
                </nav>

                <section id="learn-section">
                    <div class="space-y-8">
                        
                        <div class="topic-section">
                            <h2 class="topic-title">Regi√£o Nordeste</h2>
                            <p>O Nordeste √© uma regi√£o de grandes contrastes naturais e socioecon√¥micos. Para melhor compreend√™-la, o IBGE a dividiu em quatro <span class="highlight">sub-regi√µes</span>, cada uma com caracter√≠sticas distintas de clima, vegeta√ß√£o e ocupa√ß√£o humana.</p>

                            <h3 class="sub-topic-title">TEMA 3: Zona da Mata e Agreste</h3>
                            <p><strong>A Zona da Mata:</strong> √â a faixa litor√¢nea oriental, a primeira a ser ocupada pelos portugueses. Possui um <span class="highlight">clima tropical √∫mido</span> e o f√©rtil solo de <span class="highlight">massap√©</span>, ideal para o cultivo da cana-de-a√ß√∫car, que dominou sua economia por s√©culos. Originalmente coberta pela Mata Atl√¢ntica, hoje √© a sub-regi√£o mais urbanizada e populosa, abrigando grandes capitais como Recife e Salvador. A economia atual √© diversificada, com ind√∫strias, turismo e agricultura moderna.</p>
                            <p><strong>O Agreste:</strong> √â uma <span class="highlight">√°rea de transi√ß√£o</span> entre a √∫mida Zona da Mata e o seco Sert√£o. Apresenta caracter√≠sticas das duas sub-regi√µes. O relevo √© dominado pelo Planalto da Borborema, que impede a passagem da umidade do oceano para o interior. A principal atividade econ√¥mica √© a <span class="highlight">policultura de subsist√™ncia</span> em pequenas e m√©dias propriedades, abastecendo os mercados da Zona da Mata.</p>

                             <h3 class="sub-topic-title">TEMA 4: Sert√£o e Meio-Norte</h3>
                            <p><strong>O Sert√£o:</strong> √â a maior das sub-regi√µes e a mais conhecida pela seca. O <span class="highlight">clima √© o semi√°rido</span>, com chuvas escassas e irregulares. A vegeta√ß√£o t√≠pica √© a <span class="highlight">Caatinga</span>, adaptada √† falta de √°gua. A vida no sert√£o √© muito dependente do Rio S√£o Francisco, o "Rio da Integra√ß√£o Nacional". A √°rea faz parte do "Pol√≠gono das Secas". A economia baseia-se na pecu√°ria extensiva e, em √°reas irrigadas pelo S√£o Francisco, na fruticultura.</p>
                             <p><strong>O Meio-Norte:</strong> √â outra <span class="highlight">√°rea de transi√ß√£o</span>, entre o Sert√£o semi√°rido e a √∫mida Floresta Amaz√¥nica. Abrange parte do Maranh√£o e do Piau√≠. A vegeta√ß√£o caracter√≠stica √© a <span class="highlight">Mata dos Cocais</span>, rica em palmeiras como o baba√ßu e a carna√∫ba, das quais se extraem √≥leos e ceras, sustentando a economia extrativista da regi√£o.</p>
                        </div>

                        <div class="topic-section">
                            <h2 class="topic-title">Regi√£o Sudeste</h2>
                             <h3 class="sub-topic-title">TEMA 1: Natureza da Regi√£o Sudeste</h3>
                             <p><strong>Aspectos Gerais:</strong> √â a regi√£o mais populosa e economicamente desenvolvida do Brasil. Seu relevo √© predominantemente formado por <span class="highlight">planaltos e serras</span>, como a Serra do Mar e a Serra da Mantiqueira, formando o que se chama de "mares de morros". Sua <span class="highlight">hidrografia</span> √© rica, com importantes bacias como a do Paran√° (com grande potencial hidrel√©trico) e a do S√£o Francisco. O <span class="highlight">clima</span> predominante √© o Tropical, com varia√ß√µes como o Tropical de Altitude (mais ameno) nas √°reas serranas.</p>
                            <p>A <span class="highlight">cobertura vegetal</span> original era a exuberante Mata Atl√¢ntica, hoje extremamente desmatada devido √† urbaniza√ß√£o e atividades econ√¥micas. A <span class="highlight">monocultura do caf√©</span> no s√©culo XIX foi um dos grandes respons√°veis pelo desmatamento e pelo <span class="highlight">esgotamento dos solos</span>, especialmente no Vale do Para√≠ba.</p>

                            <h3 class="sub-topic-title">TEMA 2: Organiza√ß√£o do Espa√ßo</h3>
                            <p>A <span class="highlight">ocupa√ß√£o do Sudeste</span> se intensificou no s√©culo XVIII com a descoberta de ouro em Minas Gerais. No s√©culo XIX, a economia cafeeira em S√£o Paulo e Rio de Janeiro impulsionou o <span class="highlight">crescimento econ√¥mico</span>, atraindo imigrantes e gerando capital. Esse capital foi investido na <span class="highlight">infraestrutura</span> (ferrovias, portos) e, posteriormente, na industrializa√ß√£o, tornando o Sudeste a regi√£o com a maior <span class="highlight">concentra√ß√£o econ√¥mica e industrial</span> do pa√≠s at√© hoje.</p>

                            <h3 class="sub-topic-title">TEMA 3: Urbaniza√ß√£o</h3>
                            <p>O Sudeste possui a <span class="highlight">maior concentra√ß√£o urbana do Brasil</span>. O √™xodo rural e a industrializa√ß√£o levaram ao crescimento acelerado de cidades como S√£o Paulo e Rio de Janeiro. A forte liga√ß√£o entre essas duas metr√≥poles e suas regi√µes metropolitanas forma uma <span class="highlight">macrometr√≥pole</span>, que est√° em processo de se tornar uma <span class="highlight">megal√≥pole</span> (a jun√ß√£o de duas ou mais metr√≥poles). Belo Horizonte tamb√©m possui uma importante Regi√£o Metropolitana, com um "colar metropolitano" de cidades ao redor.</p>

                            <h3 class="sub-topic-title">TEMA 4: Atividades Econ√¥micas</h3>
                            <p>A economia do Sudeste √© a mais diversificada do Brasil. O setor de <span class="highlight">com√©rcio e servi√ßos</span> √© o mais forte, concentrando bancos, shoppings e empresas de tecnologia. A <span class="highlight">ind√∫stria</span> √© moderna e variada, incluindo automobil√≠stica, sider√∫rgica e de alta tecnologia. A <span class="highlight">agropecu√°ria</span> tamb√©m √© muito produtiva, com destaque para a cana-de-a√ß√∫car, laranja, caf√© e carne bovina. O <span class="highlight">extrativismo mineral</span> em Minas Gerais (min√©rio de ferro) e o petr√≥leo no Rio de Janeiro e Esp√≠rito Santo s√£o fundamentais.</p>
                        </div>
                        
                    </div>
                </section>

                <section id="practice-section" class="hidden">
                    <div class="mb-4 flex justify-end">
                        <button id="order-toggle-btn" class="btn-ghost text-xs">Ordem Crescente</button>
                    </div>
                    <div id="question-buttons" class="mb-4"></div>
                    <div id="quiz-container">
                        </div>
                </section>
            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const root = document.documentElement;
        const themeToggle = document.getElementById('theme-toggle');
        const btnLearn = document.getElementById('btn-learn');
        const btnPractice = document.getElementById('btn-practice');
        const learnSection = document.getElementById('learn-section');
        const practiceSection = document.getElementById('practice-section');
        const questionButtons = document.getElementById('question-buttons');
        const quizContainer = document.getElementById('quiz-container');
        const orderToggleBtn = document.getElementById('order-toggle-btn');

        if(!btnLearn || !btnPractice || !learnSection || !practiceSection || !questionButtons || !quizContainer || !orderToggleBtn){
            console.error('Elementos DOM n√£o encontrados.');
            return;
        }

        (function(){
            const t = localStorage.getItem('cmf-geo-theme') || 'dark';
            if(t === 'light') root.classList.add('theme-light');
            themeToggle.addEventListener('click', () => {
                root.classList.toggle('theme-light');
                localStorage.setItem('cmf-geo-theme', root.classList.contains('theme-light') ? 'light' : 'dark');
            });
        })();
        
        const quizData = [
            // Regi√£o Nordeste
            { topic: 'Sub-regi√µes do Nordeste', q: '1) Qual sub-regi√£o nordestina √© uma faixa de transi√ß√£o entre a Zona da Mata e o Sert√£o?', options: ['Meio-Norte', 'Agreste', 'Caatinga', 'Rec√¥ncavo Baiano'], answer: 'Agreste', explanation: 'O Agreste √© a √°rea de transi√ß√£o, com caracter√≠sticas tanto da zona √∫mida litor√¢nea quanto da zona seca do interior.'},
            { topic: 'Sub-regi√µes do Nordeste', q: '2) O solo de massap√© e o clima tropical √∫mido s√£o caracter√≠sticas de qual sub-regi√£o?', options: ['Sert√£o', 'Meio-Norte', 'Zona da Mata', 'Agreste'], answer: 'Zona da Mata', explanation: 'Essas condi√ß√µes foram ideais para o cultivo da cana-de-a√ß√∫car, base da economia colonial na Zona da Mata.'},
            { topic: 'Sub-regi√µes do Nordeste', q: '3) A vegeta√ß√£o da Caatinga, adaptada a longos per√≠odos de seca, √© t√≠pica do:', options: ['Agreste', 'Meio-Norte', 'Zona da Mata', 'Sert√£o'], answer: 'Sert√£o', explanation: 'O Sert√£o √© dominado pelo clima semi√°rido, onde a Caatinga se desenvolve.'},
            { topic: 'Sub-regi√µes do Nordeste', q: '4) A Mata dos Cocais, rica em baba√ßu e carna√∫ba, √© a vegeta√ß√£o predominante no:', options: ['Sert√£o', 'Agreste', 'Meio-Norte', 'Litoral'], answer: 'Meio-Norte', explanation: 'Essa sub-regi√£o √© uma transi√ß√£o entre o Sert√£o e a Amaz√¥nia, marcada pela Mata dos Cocais.'},
            { topic: 'Sub-regi√µes do Nordeste', q: '5) O Planalto da Borborema √© uma barreira natural que influencia o clima, tornando o Sert√£o mais seco. Em qual sub-regi√£o ele se localiza principalmente?', options: ['Zona da Mata', 'Agreste', 'Meio-Norte', 'Sert√£o'], answer: 'Agreste', explanation: 'O Planalto da Borborema est√° no Agreste e impede que a umidade do oceano chegue ao Sert√£o.'},
            { topic: 'Representa√ß√µes Gr√°ficas', q: '6) O que um climograma representa?', options: ['Relevo e hidrografia', 'Densidade demogr√°fica', 'Varia√ß√£o de temperatura e precipita√ß√£o ao longo do ano', 'Produ√ß√£o agr√≠cola'], answer: 'Varia√ß√£o de temperatura e precipita√ß√£o ao longo do ano', explanation: 'Um climograma combina um gr√°fico de linhas (temperatura) e um de colunas (chuva) para mostrar o perfil clim√°tico de um lugar.'},
            { topic: 'Representa√ß√µes Gr√°ficas', q: '7) Em um climograma do Sert√£o nordestino, o que se espera observar?', options: ['Chuvas bem distribu√≠das o ano todo', 'Temperaturas baixas e muita chuva', 'Temperaturas elevadas e um longo per√≠odo de seca', 'Chuvas concentradas no inverno'], answer: 'Temperaturas elevadas e um longo per√≠odo de seca', explanation: 'O clima semi√°rido se caracteriza por altas temperaturas e chuvas escassas e concentradas em poucos meses.'},
            { topic: 'Cultura e Sociedade', q: '8) As feiras agroecol√≥gicas, como as do Cariri, s√£o importantes porque:', options: ['Vendem apenas produtos industrializados', 'Promovem a agricultura com agrot√≥xicos', 'Incentivam a produ√ß√£o de alimentos saud√°veis e a agricultura familiar', 'S√£o voltadas apenas para exporta√ß√£o'], answer: 'Incentivam a produ√ß√£o de alimentos saud√°veis e a agricultura familiar', explanation: 'Elas fortalecem a economia local e oferecem alimentos sem agrot√≥xicos, cuidando do meio ambiente.'},
            { topic: 'Cultura e Sociedade', q: '9) A literatura de cordel, com suas rimas e hist√≥rias populares, √© uma manifesta√ß√£o cultural t√≠pica de qual regi√£o?', options: ['Sul', 'Sudeste', 'Nordeste', 'Centro-Oeste'], answer: 'Nordeste', explanation: 'Originada da tradi√ß√£o dos violeiros e repentistas, a literatura de cordel √© um patrim√¥nio cultural do Nordeste.'},
            { topic: 'Sub-regi√µes do Nordeste', q: '10) Qual √© a sub-regi√£o mais populosa e industrializada do Nordeste?', options: ['Sert√£o', 'Agreste', 'Meio-Norte', 'Zona da Mata'], answer: 'Zona da Mata', explanation: 'Por ter sido a primeira a ser ocupada e por abrigar as maiores capitais, a Zona da Mata concentra a maior parte da popula√ß√£o e da economia.'},

            // Regi√£o Sudeste
            { topic: 'Natureza do Sudeste', q: '11) O relevo do Sudeste √© caracterizado principalmente por:', options: ['Plan√≠cies extensas', 'Depress√µes profundas', 'Planaltos e serras', 'Cordilheiras'], answer: 'Planaltos e serras', explanation: 'A regi√£o √© marcada por forma√ß√µes como a Serra do Mar e a da Mantiqueira, no que se chama de Planaltos e Serras do Atl√¢ntico Leste-Sudeste.'},
            { topic: 'Natureza do Sudeste', q: '12) A Bacia Hidrogr√°fica do Paran√° √© de grande import√¢ncia para o Sudeste por seu potencial:', options: ['Para a pesca', 'Para a navega√ß√£o de grandes navios', 'Hidrel√©trico', 'Tur√≠stico de praias'], answer: 'Hidrel√©trico', explanation: 'Nela se encontram algumas das maiores usinas hidrel√©tricas do Brasil, como Itaipu (dividida com o Sul).'},
            { topic: 'Natureza do Sudeste', q: '13) Qual era a vegeta√ß√£o original que cobria a maior parte da Regi√£o Sudeste e que hoje est√° muito devastada?', options: ['Caatinga', 'Cerrado', 'Mata Atl√¢ntica', 'Floresta Amaz√¥nica'], answer: 'Mata Atl√¢ntica', explanation: 'A Mata Atl√¢ntica foi intensamente desmatada para dar lugar a cidades, lavouras de caf√© e ind√∫strias.'},
            { topic: 'Natureza do Sudeste', q: '14) O esgotamento do solo no Vale do Para√≠ba, no s√©culo XIX, foi causado principalmente pela:', options: ['Minera√ß√£o de ouro', 'Pecu√°ria intensiva', 'Monocultura do caf√©', 'Constru√ß√£o de cidades'], answer: 'Monocultura do caf√©', explanation: 'O plantio de caf√© em encostas sem t√©cnicas de conserva√ß√£o levou √† eros√£o e ao empobrecimento do solo.'},
            { topic: 'Natureza do Sudeste', q: '15) As comunidades cai√ßaras s√£o popula√ß√µes tradicionais que vivem:', options: ['No interior de Minas Gerais', 'No litoral, entre o mar e a serra', 'Nas margens do Rio Tiet√™', 'No Tri√¢ngulo Mineiro'], answer: 'No litoral, entre o mar e a serra', explanation: 'Os cai√ßaras vivem da pesca artesanal, da agricultura de subsist√™ncia e do extrativismo, em harmonia com o ecossistema da Mata Atl√¢ntica litor√¢nea.'},
            { topic: 'Ocupa√ß√£o do Espa√ßo', q: '16) Qual atividade econ√¥mica foi o grande motor da ocupa√ß√£o do interior do Sudeste no s√©culo XVIII?', options: ['O cultivo do caf√©', 'A ind√∫stria automobil√≠stica', 'A extra√ß√£o de ouro e diamantes em Minas Gerais', 'A extra√ß√£o de pau-brasil'], answer: 'A extra√ß√£o de ouro e diamantes em Minas Gerais', explanation: 'A minera√ß√£o atraiu um enorme fluxo de pessoas para o interior, levando √† funda√ß√£o de cidades hist√≥ricas.'},
            { topic: 'Ocupa√ß√£o do Espa√ßo', q: '17) O capital acumulado com a economia cafeeira no s√©culo XIX foi fundamental para impulsionar a ________ no Sudeste.', options: ['Pecu√°ria', 'Industrializa√ß√£o', 'Extra√ß√£o de borracha', 'Planta√ß√£o de soja'], answer: 'Industrializa√ß√£o', explanation: 'Os lucros do caf√© foram investidos nas primeiras ind√∫strias, ferrovias e bancos, iniciando o processo de industrializa√ß√£o do Brasil.'},
            { topic: 'Ocupa√ß√£o do Espa√ßo', q: '18) Por que o Sudeste concentra a maior parte da infraestrutura do pa√≠s?', options: ['Porque tem o maior territ√≥rio', 'Devido ao seu processo hist√≥rico de desenvolvimento econ√¥mico', 'Porque o relevo √© totalmente plano', 'Por uma decis√£o pol√≠tica recente'], answer: 'Devido ao seu processo hist√≥rico de desenvolvimento econ√¥mico', explanation: 'Desde o ciclo do caf√©, a regi√£o recebeu os maiores investimentos em portos, ferrovias e rodovias para escoar a produ√ß√£o.'},
            { topic: 'Urbaniza√ß√£o', q: '19) O que √© uma megal√≥pole?', options: ['Uma cidade com mais de 10 milh√µes de habitantes', 'A jun√ß√£o de duas ou mais metr√≥poles ou regi√µes metropolitanas', 'A capital de um pa√≠s', 'Uma cidade planejada'], answer: 'A jun√ß√£o de duas ou mais metr√≥poles ou regi√µes metropolitanas', explanation: '√â uma grande √°rea urbanizada cont√≠nua, como a que est√° em forma√ß√£o entre o Rio de Janeiro e S√£o Paulo.'},
            { topic: 'Urbaniza√ß√£o', q: '20) A Regi√£o Sudeste √© a mais urbanizada do Brasil. Uma consequ√™ncia negativa desse processo √©:', options: ['A baixa produ√ß√£o agr√≠cola', 'A falta de m√£o de obra', 'A forma√ß√£o de favelas e a polui√ß√£o', 'O isolamento das cidades'], answer: 'A forma√ß√£o de favelas e a polui√ß√£o', explanation: 'O crescimento urbano r√°pido e sem planejamento gerou diversos problemas sociais e ambientais.'},
            
            // Atividades Econ√¥micas e Temas Atuais
            { topic: 'Atividades Econ√¥micas', q: '21) Qual setor da economia gera mais empregos e riqueza na Regi√£o Sudeste atualmente?', options: ['A ind√∫stria', 'A agropecu√°ria', 'O extrativismo mineral', 'O com√©rcio e os servi√ßos'], answer: 'O com√©rcio e os servi√ßos', explanation: 'Como em toda economia moderna, o setor terci√°rio (com√©rcio, bancos, sa√∫de, educa√ß√£o, tecnologia) √© o mais representativo.'},
            { topic: 'Atividades Econ√¥micas', q: '22) O "Quadril√°tero Ferr√≠fero" √© uma √°rea de intenso extrativismo mineral localizada em:', options: ['S√£o Paulo', 'Rio de Janeiro', 'Esp√≠rito Santo', 'Minas Gerais'], answer: 'Minas Gerais', explanation: '√â a principal √°rea de extra√ß√£o de min√©rio de ferro do Brasil, localizada no centro de Minas Gerais.'},
            { topic: 'Atividades Econ√¥micas', q: '23) A produ√ß√£o de petr√≥leo no Brasil se destaca na Bacia de Campos, que se localiza no litoral do estado de:', options: ['S√£o Paulo', 'Rio de Janeiro', 'Minas Gerais', 'Paran√°'], answer: 'Rio de Janeiro', explanation: 'A Bacia de Campos, no litoral fluminense, √© a maior prov√≠ncia petrol√≠fera do pa√≠s.'},
            { topic: 'Representa√ß√µes Gr√°ficas', q: '24) Em um mapa de densidade demogr√°fica, as cores mais escuras geralmente indicam:', options: ['√Åreas de maior altitude', '√Åreas com vegeta√ß√£o mais densa', '√Åreas mais populosas ou povoadas', '√Åreas com clima mais quente'], answer: '√Åreas mais populosas ou povoadas', explanation: 'Nos mapas tem√°ticos, a grada√ß√£o de cores √© usada para representar a intensidade de um fen√¥meno. Cor mais forte = maior intensidade.'},
            { topic: 'Temas Atuais', q: '25) As trag√©dias ambientais em Mariana (2015) e Brumadinho (2019) foram causadas pelo rompimento de barragens de:', options: ['√Ågua para hidrel√©trica', 'Rejeitos de minera√ß√£o', 'Lixo urbano', 'Produtos qu√≠micos'], answer: 'Rejeitos de minera√ß√£o', explanation: 'Ambos os desastres foram causados pelo colapso de barragens de rejeitos da extra√ß√£o de min√©rio de ferro, gerando enormes custos sociais e ambientais.'},
            
            // Revis√£o Geral - Nordeste
            { topic: 'Revis√£o Geral - Nordeste', q: '26) O Rio S√£o Francisco √© vital para o Sert√£o porque:', options: ['Delimita a fronteira com a Zona da Mata', '√â um rio perene que permite a irriga√ß√£o e a gera√ß√£o de energia', 'Suas √°guas s√£o salgadas', 'Ele seca completamente durante a estiagem'], answer: '√â um rio perene que permite a irriga√ß√£o e a gera√ß√£o de energia', explanation: 'Ao contr√°rio da maioria dos rios do Sert√£o, o S√£o Francisco nunca seca, sendo fundamental para a vida na regi√£o.'},
            { topic: 'Revis√£o Geral - Nordeste', q: '27) Qual atividade econ√¥mica N√ÉO √© caracter√≠stica da Regi√£o Nordeste?', options: ['Turismo litor√¢neo', 'Fruticultura irrigada no Sert√£o', 'Produ√ß√£o de soja em larga escala como no Centro-Oeste', 'Extra√ß√£o de carna√∫ba no Meio-Norte'], answer: 'Produ√ß√£o de soja em larga escala como no Centro-Oeste', explanation: 'Embora exista, a produ√ß√£o de soja em larga escala √© a principal caracter√≠stica do agroneg√≥cio no Cerrado do Centro-Oeste.'},
            { topic: 'Revis√£o Geral - Nordeste', q: '28) A policultura praticada no Agreste serve principalmente para:', options: ['Exporta√ß√£o para a Europa', 'Abastecer o mercado interno, especialmente da Zona da Mata', 'Produzir mat√©ria-prima para a ind√∫stria de cosm√©ticos', 'Alimentar o gado do Sert√£o'], answer: 'Abastecer o mercado interno, especialmente da Zona da Mata', explanation: 'O Agreste funciona como um "celeiro", produzindo alimentos para as grandes cidades litor√¢neas.'},
            { topic: 'Revis√£o Geral - Nordeste', q: '29) As quatro sub-regi√µes do Nordeste s√£o:', options: ['Litoral, Interior, Chapada e Plan√≠cie', 'Caatinga, Cerrado, Mata e Pampas', 'Zona da Mata, Agreste, Sert√£o e Meio-Norte', 'Norte, Sul, Leste e Oeste'], answer: 'Zona da Mata, Agreste, Sert√£o e Meio-Norte', explanation: 'Essa √© a divis√£o oficial que leva em conta as caracter√≠sticas naturais e de ocupa√ß√£o.'},
            { topic: 'Revis√£o Geral - Nordeste', q: '30) A transi√ß√£o entre o clima semi√°rido e o equatorial √∫mido ocorre no:', options: ['Agreste', 'Sert√£o', 'Zona da Mata', 'Meio-Norte'], answer: 'Meio-Norte', explanation: 'O Meio-Norte √© a faixa de transi√ß√£o entre o Sert√£o (semi√°rido) e a Regi√£o Amaz√¥nica (equatorial).'},

            // Revis√£o Geral - Sudeste
            { topic: 'Revis√£o Geral - Sudeste', q: '31) A forte concentra√ß√£o industrial no Sudeste est√° historicamente ligada:', options: ['√Ä proximidade com a Floresta Amaz√¥nica', 'Ao capital e infraestrutura gerados pela economia cafeeira', '√Ä pol√≠tica de incentivos fiscais do governo colonial', '√Ä descoberta de petr√≥leo no s√©culo XVIII'], answer: 'Ao capital e infraestrutura gerados pela economia cafeeira', explanation: 'O caf√© gerou a riqueza e as condi√ß√µes (ferrovias, portos, m√£o de obra) para o surgimento das ind√∫strias.'},
            { topic: 'Revis√£o Geral - Sudeste', q: '32) Qual cidade N√ÉO faz parte da Regi√£o Sudeste?', options: ['S√£o Paulo', 'Rio de Janeiro', 'Belo Horizonte', 'Curitiba'], answer: 'Curitiba', explanation: 'Curitiba √© a capital do Paran√°, estado que pertence √† Regi√£o Sul.'},
            { topic: 'Revis√£o Geral - Sudeste', q: '33) O que s√£o "mares de morros"?', options: ['Uma forma√ß√£o litor√¢nea com muitas ilhas', 'Uma paisagem de relevo com topos arredondados, t√≠pica do Sudeste', 'Um tipo de vegeta√ß√£o da Caatinga', 'Grandes √°reas de planta√ß√£o de cana'], answer: 'Uma paisagem de relevo com topos arredondados, t√≠pica do Sudeste', explanation: '√â o nome dado ao relevo de morros com formas arredondadas pela eros√£o, muito comum no dom√≠nio da Mata Atl√¢ntica.'},
            { topic: 'Revis√£o Geral - Sudeste', q: '34) A urbaniza√ß√£o acelerada do Sudeste resultou em um fen√¥meno chamado de conurba√ß√£o, que √©:', options: ['O crescimento de uma cidade na vertical, com muitos pr√©dios', 'A jun√ß√£o da mancha urbana de duas ou mais cidades vizinhas', 'A redu√ß√£o da popula√ß√£o de uma cidade', 'A cria√ß√£o de parques e √°reas verdes'], answer: 'A jun√ß√£o da mancha urbana de duas ou mais cidades vizinhas', explanation: '√â quando as cidades crescem tanto que suas √°reas urbanas se encontram e se unem.'},
            { topic: 'Revis√£o Geral - Sudeste', q: '35) O Parque Estadual da Serra do Mar √© uma importante unidade de conserva√ß√£o que protege os remanescentes de:', options: ['Cerrado', 'Caatinga', 'Mata Atl√¢ntica', 'Pampas'], answer: 'Mata Atl√¢ntica', explanation: 'Ele √© um dos maiores corredores de biodiversidade preservada da Mata Atl√¢ntica no Brasil.'},
            { topic: 'Revis√£o Geral - Sudeste', q: '36) O estado do Sudeste que n√£o possui litoral √©:', options: ['S√£o Paulo', 'Rio de Janeiro', 'Esp√≠rito Santo', 'Minas Gerais'], answer: 'Minas Gerais', explanation: 'Minas Gerais √© o √∫nico estado da regi√£o que n√£o √© banhado pelo Oceano Atl√¢ntico.'},
            { topic: 'Revis√£o Geral - Sudeste', q: '37) A economia do Sudeste pode ser considerada:', options: ['Pouco diversificada e baseada na agricultura', 'Altamente diversificada e industrializada', 'Baseada apenas no extrativismo mineral', 'Focada exclusivamente no turismo'], answer: 'Altamente diversificada e industrializada', explanation: 'A regi√£o possui o parque industrial mais completo, a agropecu√°ria mais moderna e o setor de servi√ßos mais forte do pa√≠s.'},
            { topic: 'Revis√£o Geral - Sudeste', q: '38) Qual destes produtos agr√≠colas N√ÉO √© um destaque da agropecu√°ria do Sudeste?', options: ['Caf√©', 'Laranja', 'Cana-de-a√ß√∫car', 'Guaran√°'], answer: 'Guaran√°', explanation: 'O guaran√° √© um produto t√≠pico da Regi√£o Norte, especialmente do estado do Amazonas.'},
            { topic: 'Revis√£o Geral - Sudeste', q: '39) "Influenciadores da vida real" se refere a pessoas que:', options: ['Fazem propaganda apenas na internet', 'Usam sua influ√™ncia para promover a√ß√µes sociais positivas em suas comunidades', 'S√£o pol√≠ticos famosos', 'S√£o artistas de televis√£o'], answer: 'Usam sua influ√™ncia para promover a√ß√µes sociais positivas em suas comunidades', explanation: 'S√£o pessoas comuns que se tornam l√≠deres e promovem mudan√ßas positivas no lugar onde vivem, como em projetos sociais em favelas.'},
            { topic: 'Revis√£o Geral - Sudeste', q: '40) O "colar metropolitano" de Belo Horizonte √© formado por:', options: ['Bairros do centro da cidade', 'Cidades vizinhas que sofrem forte influ√™ncia da capital', 'Parques e √°reas de conserva√ß√£o', 'Um sistema de rodovias'], answer: 'Cidades vizinhas que sofrem forte influ√™ncia da capital', explanation: 'S√£o munic√≠pios que rodeiam a regi√£o metropolitana principal e mant√™m fortes la√ßos econ√¥micos e sociais com ela.'}
        ];

        let questionOrder = quizData.map((_,i)=>i);
        let currentIndex = 0;
        let questionStatus = Array(quizData.length).fill(null);
        let quizStarted = false;
        let isRandomOrder = false; 

        orderToggleBtn.addEventListener('click', () => {
            isRandomOrder = !isRandomOrder; 
            orderToggleBtn.textContent = isRandomOrder ? 'Ordem Aleat√≥ria' : 'Ordem Crescente';
            startQuiz();
        });

        function switchView(view){
            if(view==='learn'){
                practiceSection.classList.add('hidden');
                learnSection.classList.remove('hidden');
                btnLearn.classList.replace('btn-ghost', 'btn-primary');
                btnPractice.classList.replace('btn-primary', 'btn-ghost');
            } else {
                learnSection.classList.add('hidden');
                practiceSection.classList.remove('hidden');
                btnPractice.classList.replace('btn-ghost', 'btn-primary');
                btnLearn.classList.replace('btn-primary', 'btn-ghost');
                if (!quizStarted) {
                    startQuiz();
                    quizStarted = true;
                }
            }
        }

        btnLearn.addEventListener('click', () => switchView('learn'));
        btnPractice.addEventListener('click', () => switchView('practice'));

        function renderQuestionButtons(){
            questionButtons.innerHTML='';
            quizData.forEach((_,originalIndex)=>{
                const b = document.createElement('button');
                b.textContent = (originalIndex + 1);
                b.setAttribute('data-original-index', String(originalIndex));
                b.title = `Ir para a quest√£o ${originalIndex+1}`;
                b.onclick = ()=>{
                    const pos = questionOrder.indexOf(originalIndex);
                    if(pos >= 0){ currentIndex = pos; showQuestion(); }
                };
                if(questionStatus[originalIndex]==='correct') b.classList.add('correct-status');
                if(questionStatus[originalIndex]==='wrong') b.classList.add('wrong-status');
                
                if (quizStarted) {
                    const currentQuestionOriginalIndex = questionOrder[currentIndex];
                    if(originalIndex === currentQuestionOriginalIndex) {
                        b.classList.add('current-question');
                    }
                }
                
                questionButtons.appendChild(b);
            });
        }

        const questionTopic = document.createElement('p');
        questionTopic.className='text-sm font-semibold text-[var(--accent)] mb-2';
        const questionText = document.createElement('p');
        questionText.className='text-xl mt-2';
        const optionsContainer = document.createElement('div');
        optionsContainer.className='mt-4 grid gap-3';
        const feedbackContainer = document.createElement('div');
        const nextBtn = document.createElement('button');
        nextBtn.className='btn-primary mt-4'; nextBtn.textContent='Pr√≥xima';
        const redoBtn = document.createElement('button');
        redoBtn.className='btn-ghost mt-4 ml-3'; redoBtn.textContent='Refazer';

        quizContainer.appendChild(questionTopic);
        quizContainer.appendChild(questionText);
        quizContainer.appendChild(optionsContainer);
        quizContainer.appendChild(feedbackContainer);
        quizContainer.appendChild(nextBtn);
        quizContainer.appendChild(redoBtn);

        function startQuiz(){
            if (isRandomOrder) {
                shuffleArray(questionOrder);
            } else {
                questionOrder = quizData.map((_, i) => i);
            }
            currentIndex = 0;
            questionStatus.fill(null);
            showQuestion();
        }

        function showQuestion(){
            if (currentIndex >= questionOrder.length) {
                showFinalResults();
                return;
            }
        
            const qIdx = questionOrder[currentIndex];
            const qObj = quizData[qIdx];
            
            questionTopic.textContent = qObj.topic;
            questionText.innerHTML = `${qIdx + 1}) ${qObj.q.replace(/^[\s\d\)\(\.\:\-‚Äì‚Äî_]+/,'').trim()}`;
            
            optionsContainer.innerHTML='';
            feedbackContainer.innerHTML='';
            redoBtn.classList.add('hidden');
            nextBtn.disabled = true;

            qObj.options.forEach(opt =>{
                const b = document.createElement('button');
                b.className='option-btn'; b.textContent=opt;
                b.onclick = ()=> selectAnswer(b,opt,qObj.answer,qObj.explanation,qIdx);
                optionsContainer.appendChild(b);
            });

            renderQuestionButtons();
        }
        
        function showFinalResults() {
            const correctCount = questionStatus.filter(s => s === 'correct').length;
            const total = quizData.length;
            questionTopic.textContent = '';
            questionText.innerHTML = `üéâ Fim do Quiz! üéâ`;
            optionsContainer.innerHTML = `<p class="text-center text-lg">Voc√™ acertou ${correctCount} de ${total} quest√µes.</p>`;
            feedbackContainer.innerHTML = '';
            nextBtn.textContent = 'Recome√ßar Quiz';
            nextBtn.disabled = false;
            nextBtn.onclick = () => {
                quizStarted = false;
                startQuiz(); 
                quizStarted = true;
            };
            redoBtn.classList.add('hidden');
        }

        function selectAnswer(btn,opt,correct,explanation,qIdx){
            Array.from(optionsContainer.children).forEach(b=>b.disabled=true);
            nextBtn.disabled = false;

            if(opt===correct){
                btn.classList.add('celebrate','correct');
                createConfetti();
                questionStatus[qIdx]='correct';
                feedbackContainer.className='feedback-correct mt-4';
                feedbackContainer.textContent = 'Correto! ' + (explanation || '');
            } else {
                btn.classList.add('wrong');
                questionStatus[qIdx]='wrong';
                feedbackContainer.className='feedback-wrong mt-4';
                feedbackContainer.innerHTML = `<strong>Errado.</strong> Resposta correta: <strong>${correct}</strong>.`;
                if(explanation) feedbackContainer.innerHTML += `<div class="mt-2 text-sm">${explanation}</div>`;
                
                Array.from(optionsContainer.children).forEach(b=>{
                    if(b.textContent === correct) b.classList.add('correct');
                });
                redoBtn.classList.remove('hidden');
            }
            renderQuestionButtons();
        }

        nextBtn.addEventListener('click', ()=>{
            if(currentIndex < questionOrder.length-1){ 
                currentIndex++; 
                showQuestion(); 
            } else { 
                currentIndex++;
                showFinalResults();
            }
        });

        redoBtn.addEventListener('click', ()=>{
            const currentQuestionIndex = questionOrder[currentIndex];
            questionStatus[currentQuestionIndex] = null;
            showQuestion();
        });

        function shuffleArray(a){
            for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; }
        }

        function createConfetti(){
            const colors = ['#f59e0b','#ef4444','#10b981','#3b82f6','#8b5cf6'];
            for(let i=0;i<12;i++){
                const el = document.createElement('div');
                el.className='confetti';
                el.style.left = (30 + Math.random()*40) + '%';
                el.style.top = (10 + Math.random()*10) + 'vh';
                el.style.color = colors[Math.floor(Math.random()*colors.length)];
                el.textContent = 'üéâ';
                el.style.transform = `rotate(${Math.random()*360}deg)`;
                el.style.animation = `confetti-fall ${1.2 + Math.random()*1}s linear forwards`;
                document.body.appendChild(el);
                setTimeout(()=> el.remove(), 2200);
            }
        }
        
        switchView('learn');
    });
    </script>
</body>
</html>

